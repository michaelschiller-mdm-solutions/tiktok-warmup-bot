# [2-3] Implement Navigation to Model Accounts Page

[Back to task list](./tasks.md)

## Description

Implement navigation from model cards to a dedicated model accounts management page. When users click on a model card, they should navigate to `/models/:id/accounts` where they can manage all accounts related to that specific model.

## Status History

| Timestamp | Event Type | From Status | To Status | Details | User |
|-----------|------------|-------------|-----------|---------|------|
| 2025-01-20 21:45:00 | Created | N/A | Proposed | Task created as part of platform expansion | AI_Agent |
| 2025-01-28 17:00:00 | Status Update | Proposed | InProgress | Starting implementation of navigation to model accounts page | AI_Agent |
| 2025-01-28 17:30:00 | Status Update | InProgress | Review | Navigation implementation completed - route added, ModelAccountsPage created, ModelCard updated with navigation | AI_Agent |

## Requirements

### Functional Requirements
1. **Navigation Implementation**
   - Update model cards to include click handlers that navigate to accounts page
   - Implement new route `/models/:id/accounts` in React Router
   - Pass model ID as URL parameter for accounts page context

2. **Model Context**
   - Load model details in the accounts page
   - Display model name and basic info in page header
   - Handle invalid model IDs with appropriate error handling

3. **Page Structure**
   - Create basic ModelAccountsPage component structure
   - Add placeholder for future tabbed interface
   - Include breadcrumb navigation back to models dashboard

4. **URL Management**
   - Ensure proper browser back/forward behavior
   - Make URLs shareable and bookmarkable
   - Handle page refresh correctly with model context

### Technical Requirements
- Use React Router v6 patterns
- Implement proper TypeScript interfaces
- Add loading states for model data fetching
- Include error boundaries for error handling
- Follow existing component patterns and styling

## Implementation Plan

### Step 1: Update Model Cards
1. Add onClick handler to existing model cards
2. Use `useNavigate` hook from React Router
3. Navigate to `/models/${model.id}/accounts`

### Step 2: Create Route
1. Add new route in main App router
2. Create path pattern `/models/:id/accounts`
3. Set up route parameters extraction

### Step 3: Create ModelAccountsPage Component
1. Create new component file: `src/pages/ModelAccountsPage.tsx`
2. Extract model ID from URL params using `useParams`
3. Fetch model data using existing API client
4. Create basic page layout with model header

### Step 4: Add Navigation Components
1. Create breadcrumb component for navigation
2. Add "Back to Models" functionality
3. Include model name and status in page header

### Step 5: Styling and UX
1. Use consistent styling with existing pages
2. Add loading spinners for model data
3. Implement error states for invalid model IDs
4. Ensure responsive design

## Test Plan

### Unit Tests
- Component renders correctly with model data
- Navigation function works with valid model ID
- Error handling works for invalid model ID
- Loading states display appropriately

### Integration Tests
- Full navigation flow from models page to accounts page
- URL parameters passed correctly
- Browser back button works correctly
- Page refresh maintains model context

### User Acceptance Tests
- User can click model card and see accounts page
- Model information displays correctly in accounts page header
- User can navigate back to models dashboard
- URLs are shareable and work when accessed directly

## Verification

### Success Criteria
- [x] Model cards have working click handlers
- [x] Navigation to `/models/:id/accounts` works correctly
- [x] Model data loads and displays in accounts page
- [x] Breadcrumb navigation works properly
- [x] Error handling for invalid model IDs
- [x] Loading states implemented
- [x] Browser navigation (back/forward) works correctly
- [x] Page refresh doesn't break functionality

### Performance Criteria
- [x] Navigation feels instant (no noticeable delay)
- [x] Model data fetching is efficient
- [x] No memory leaks in navigation

### Code Quality Criteria
- [x] TypeScript interfaces properly defined
- [x] Components follow existing patterns
- [x] Error boundaries implemented
- [x] Code is properly documented

## Files Modified

### New Files
- `src/pages/ModelAccountsPage.tsx` - Main accounts management page with breadcrumb navigation built-in

### Modified Files
- `src/App.tsx` - Added new route `/models/:id/accounts` for accounts page
- `src/components/ModelCard.tsx` - Added navigation functionality with "Manage Accounts" button and clickable account stats
- API integration uses existing `apiClient.getModel()` method

### Dependencies
- React Router v6 (existing) - useNavigate, useParams, Link
- Existing model API endpoints - apiClient.getModel()
- Existing component styling patterns - Tailwind CSS classes
- Existing icons from lucide-react

## Notes

This task establishes the foundation for all future account management features. The initial implementation should be simple but extensible, as subsequent tasks will add the tabbed interface and specialized views.

The focus is on getting the navigation working correctly with proper error handling and loading states. The actual account management functionality will be implemented in subsequent tasks. 