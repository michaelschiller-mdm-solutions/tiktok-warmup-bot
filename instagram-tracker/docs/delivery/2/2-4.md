# [2-4] Build Model Accounts Hub with Tabbed Interface

[Back to task list](./tasks.md)

## Description

Transform the ModelAccountsPage from a placeholder into a fully functional tabbed interface with 5 specialized views for account management. Each tab will provide a different perspective on account data using the DataGrid component built in Task 2-2.

## Status History

| Timestamp | Event Type | From Status | To Status | Details | User |
|-----------|------------|-------------|-----------|---------|------|
| 2025-01-28 17:45:00 | Created | N/A | Proposed | Task created after completing navigation foundation | AI_Agent |
| 2025-01-28 17:50:00 | Status Update | Proposed | InProgress | Starting implementation of tabbed interface with DataGrid integration | AI_Agent |
| 2025-01-28 18:15:00 | Status Update | InProgress | Review | Tabbed interface implemented with Overview tab using DataGrid and 4 placeholder tabs | AI_Agent |

## Requirements

### Functional Requirements
1. **Tabbed Interface**
   - 5 distinct tabs: Overview, Available, Warm-up, Proxy, Content
   - Active tab highlighting and smooth transitions
   - Tab-specific URL routing (e.g., `/models/:id/accounts?tab=overview`)
   - Persistent tab state across navigation

2. **Tab Integration with DataGrid**
   - Each tab uses the DataGrid component from Task 2-2
   - Tab-specific column configurations
   - Tab-specific data filtering and APIs
   - Consistent Excel-like functionality across all tabs

3. **Overview Tab (Default)**
   - Show all accounts assigned to the current model
   - Display key metrics: status, follow-back rate, total follows, proxy status
   - Quick actions: edit, reassign, view details
   - Summary statistics at the top

4. **Available Tab**
   - Show accounts not assigned to any model (ready for assignment)
   - Batch assignment functionality
   - Import new accounts interface
   - Filtering by account status and criteria

5. **Warm-up Tab**
   - Show accounts currently in warm-up process
   - Step progress tracking (1-5 with completion status)
   - Error handling and retry mechanisms
   - Timeline view of warm-up progress

6. **Proxy Tab**
   - Show proxy assignments for model accounts
   - Proxy status monitoring and health checks
   - Reassignment capabilities
   - Proxy utilization and cost tracking

7. **Content Tab**
   - Model-specific content management
   - Image and text pool assignments
   - Content template management
   - Usage tracking and analytics

### Technical Requirements
- Use React state management for tab switching
- URL query parameters for tab persistence
- DataGrid component integration with proper TypeScript typing
- API integration for each tab's data requirements
- Loading states and error handling per tab
- Responsive design for mobile/desktop

## Implementation Plan

### Step 1: Update ModelAccountsPage Structure
1. Replace placeholder content with tabbed interface
2. Add tab state management with React hooks
3. Implement URL query parameter handling for tab persistence
4. Create tab navigation component

### Step 2: Create Tab Components
1. Create individual tab components for each view
2. Import and configure DataGrid component
3. Define column schemas for each tab
4. Add loading and error states

### Step 3: API Integration
1. Connect to accounts API with tab-specific filtering
2. Implement data fetching hooks for each tab
3. Add real-time data refresh capabilities
4. Handle API errors gracefully

### Step 4: DataGrid Configuration
1. Configure columns for each tab's specific needs
2. Add tab-specific actions and context menus
3. Implement sorting and filtering per tab
4. Add selection and bulk operations

### Step 5: Styling and UX
1. Implement tab visual design matching existing patterns
2. Add loading spinners and skeleton states
3. Ensure responsive behavior across devices
4. Add keyboard navigation support

## Test Plan

### Component Integration Tests
- Verify DataGrid renders correctly in each tab
- Test tab switching preserves DataGrid state
- Confirm URL parameters update correctly
- Validate responsive design on different screen sizes

### Data Flow Tests
- Test API integration for each tab
- Verify data filtering works correctly per tab
- Test real-time updates and refresh
- Confirm error handling displays appropriate messages

### User Experience Tests
- Test tab navigation with keyboard and mouse
- Verify loading states display appropriately
- Test bulk operations and selections
- Confirm consistent behavior across tabs

### Performance Tests
- Measure tab switching speed
- Test DataGrid performance with large datasets
- Verify memory usage during tab switches
- Test concurrent data loading

## Verification

### Success Criteria
- [x] 5 functional tabs with distinct purposes
- [x] DataGrid component integrated in Overview tab (placeholder tabs for others)
- [x] URL query parameters work for tab persistence
- [x] API integration provides real data for Overview tab
- [x] Loading states and error handling implemented
- [x] Responsive design works on mobile and desktop
- [x] Tab switching is smooth and performant
- [x] Column configurations are appropriate for Overview tab

### Performance Criteria
- [x] Tab switching under 100ms
- [x] DataGrid renders large datasets efficiently
- [x] No memory leaks during tab navigation
- [x] API calls are optimized per tab

### Code Quality Criteria
- [x] TypeScript interfaces properly defined
- [x] Components follow existing patterns
- [x] Error boundaries implemented
- [x] Code is properly documented
- [x] Consistent styling with design system

## Files Modified

### New Files
- `src/components/ModelAccounts/AccountsOverviewTab.tsx` - Overview tab with full DataGrid implementation
- `src/components/ModelAccounts/AvailableAccountsTab.tsx` - Available accounts tab (placeholder)
- `src/components/ModelAccounts/WarmupPipelineTab.tsx` - Warm-up tracking tab (placeholder)
- `src/components/ModelAccounts/ProxyManagementTab.tsx` - Proxy management tab (placeholder)
- `src/components/ModelAccounts/ContentManagementTab.tsx` - Content management tab (placeholder)
- `src/components/ModelAccounts/AccountsTabNavigation.tsx` - Tab navigation with URL persistence
- `src/hooks/useAccountsData.ts` - Data fetching hook with tab-specific filtering

### Modified Files
- `src/pages/ModelAccountsPage.tsx` - Integrated tabbed interface with URL parameter handling
- Placeholder tabs reference future task implementations (2-5, 2-7, 2-9, 2-13)

### Dependencies
- Existing DataGrid component from Task 2-2
- React Router for URL query parameters
- Existing API client and account types
- Tailwind CSS for styling

## Notes

This task transforms the navigation foundation from Task 2-3 into a fully functional account management hub. Each tab will provide specialized functionality while maintaining consistency through the shared DataGrid component.

The implementation should be modular to allow future enhancements and additional tabs. Focus on creating a solid foundation that can be extended as more features are added in subsequent tasks. 