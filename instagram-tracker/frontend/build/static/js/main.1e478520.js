/*! For license information please see main.1e478520.js.LICENSE.txt */
(()=>{var e={1:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,a=n?Symbol.for("react.element"):60103,r=n?Symbol.for("react.portal"):60106,s=n?Symbol.for("react.fragment"):60107,i=n?Symbol.for("react.strict_mode"):60108,l=n?Symbol.for("react.profiler"):60114,o=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,d=n?Symbol.for("react.async_mode"):60111,u=n?Symbol.for("react.concurrent_mode"):60111,m=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,x=n?Symbol.for("react.suspense_list"):60120,h=n?Symbol.for("react.memo"):60115,f=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,b=n?Symbol.for("react.fundamental"):60117,v=n?Symbol.for("react.responder"):60118,y=n?Symbol.for("react.scope"):60119;function j(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case a:switch(e=e.type){case d:case u:case s:case l:case i:case p:return e;default:switch(e=e&&e.$$typeof){case c:case m:case f:case h:case o:return e;default:return t}}case r:return t}}}function w(e){return j(e)===u}t.AsyncMode=d,t.ConcurrentMode=u,t.ContextConsumer=c,t.ContextProvider=o,t.Element=a,t.ForwardRef=m,t.Fragment=s,t.Lazy=f,t.Memo=h,t.Portal=r,t.Profiler=l,t.StrictMode=i,t.Suspense=p,t.isAsyncMode=function(e){return w(e)||j(e)===d},t.isConcurrentMode=w,t.isContextConsumer=function(e){return j(e)===c},t.isContextProvider=function(e){return j(e)===o},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===a},t.isForwardRef=function(e){return j(e)===m},t.isFragment=function(e){return j(e)===s},t.isLazy=function(e){return j(e)===f},t.isMemo=function(e){return j(e)===h},t.isPortal=function(e){return j(e)===r},t.isProfiler=function(e){return j(e)===l},t.isStrictMode=function(e){return j(e)===i},t.isSuspense=function(e){return j(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===s||e===u||e===l||e===i||e===p||e===x||"object"===typeof e&&null!==e&&(e.$$typeof===f||e.$$typeof===h||e.$$typeof===o||e.$$typeof===c||e.$$typeof===m||e.$$typeof===b||e.$$typeof===v||e.$$typeof===y||e.$$typeof===g)},t.typeOf=j},53:(e,t,n)=>{"use strict";e.exports=n(1)},103:(e,t)=>{"use strict";var n=Symbol.for("react.element"),a=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.iterator;var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h=Object.assign,f={};function g(e,t,n){this.props=e,this.context=t,this.refs=f,this.updater=n||x}function b(){}function v(e,t,n){this.props=e,this.context=t,this.refs=f,this.updater=n||x}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=g.prototype;var y=v.prototype=new b;y.constructor=v,h(y,g.prototype),y.isPureReactComponent=!0;var j=Array.isArray,w=Object.prototype.hasOwnProperty,N={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,a){var r,s={},i=null,l=null;if(null!=t)for(r in void 0!==t.ref&&(l=t.ref),void 0!==t.key&&(i=""+t.key),t)w.call(t,r)&&!k.hasOwnProperty(r)&&(s[r]=t[r]);var o=arguments.length-2;if(1===o)s.children=a;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(r in o=e.defaultProps)void 0===s[r]&&(s[r]=o[r]);return{$$typeof:n,type:e,key:i,ref:l,props:s,_owner:N.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var _=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,r,s,i){var l=typeof e;"undefined"!==l&&"boolean"!==l||(e=null);var o=!1;if(null===e)o=!0;else switch(l){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case n:case a:o=!0}}if(o)return i=i(o=e),e=""===s?"."+E(o,0):s,j(i)?(r="",null!=e&&(r=e.replace(_,"$&/")+"/"),I(i,t,r,"",(function(e){return e}))):null!=i&&(C(i)&&(i=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(_,"$&/")+"/")+e)),t.push(i)),1;if(o=0,s=""===s?".":s+":",j(e))for(var c=0;c<e.length;c++){var d=s+E(l=e[c],c);o+=I(l,t,r,d,i)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(l=e.next()).done;)o+=I(l=l.value,t,r,d=s+E(l,c++),i);else if("object"===l)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function P(e,t,n){if(null==e)return e;var a=[],r=0;return I(e,a,"","",(function(e){return t.call(n,e,r++)})),a}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},O={transition:null},T={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:O,ReactCurrentOwner:N};function R(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=r,t.Profiler=i,t.PureComponent=v,t.StrictMode=s,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T,t.act=R,t.cloneElement=function(e,t,a){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=h({},e.props),s=e.key,i=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,l=N.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)w.call(t,c)&&!k.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==o?o[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=a;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];r.children=o}return{$$typeof:n,type:e.type,key:s,ref:i,props:r,_owner:l}},t.createContext=function(e){return(e={$$typeof:o,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:m,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=R,t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,n){return A.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,n){return A.current.useReducer(e,t,n)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return A.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return A.current.useTransition()},t.version="18.3.1"},133:(e,t,n)=>{"use strict";var a=n(53),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},s={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};function o(e){return a.isMemo(e)?i:l[e.$$typeof]||r}l[a.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},l[a.Memo]=i;var c=Object.defineProperty,d=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,m=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,x=Object.prototype;e.exports=function e(t,n,a){if("string"!==typeof n){if(x){var r=p(n);r&&r!==x&&e(t,r,a)}var i=d(n);u&&(i=i.concat(u(n)));for(var l=o(t),h=o(n),f=0;f<i.length;++f){var g=i[f];if(!s[g]&&(!a||!a[g])&&(!h||!h[g])&&(!l||!l[g])){var b=m(n,g);try{c(t,g,b)}catch(v){}}}}return t}},192:(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(",");if(0===n.length)return!0;var a=e.name||"",r=(e.type||"").toLowerCase(),s=r.replace(/\/.*$/,"");return n.some((function(e){var t=e.trim().toLowerCase();return"."===t.charAt(0)?a.toLowerCase().endsWith(t):t.endsWith("/*")?s===t.replace(/\/.*$/,""):r===t}))}return!0}},222:(e,t,n)=>{"use strict";e.exports=n(903)},239:(e,t,n)=>{"use strict";var a=n(660),r=n(222);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,l={};function o(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(l[e]=t,e=0;e<t.length;e++)i.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},x={};function h(e,t,n,a,r,s,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=a,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var f={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){f[e]=new h(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];f[t]=new h(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){f[e]=new h(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){f[e]=new h(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){f[e]=new h(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){f[e]=new h(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){f[e]=new h(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){f[e]=new h(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){f[e]=new h(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function v(e,t,n,a){var r=f.hasOwnProperty(t)?f[t]:null;(null!==r?0!==r.type:a||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,a){if(null===t||"undefined"===typeof t||function(e,t,n,a){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!a&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,a))return!0;if(a)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,a)&&(n=null),a||null===r?function(e){return!!u.call(x,e)||!u.call(p,e)&&(m.test(e)?x[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,a=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,a?e.setAttributeNS(a,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,b);f[t]=new h(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,b);f[t]=new h(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,b);f[t]=new h(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){f[e]=new h(e,1,!1,e.toLowerCase(),null,!1,!1)})),f.xlinkHref=new h("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){f[e]=new h(e,1,!1,e.toLowerCase(),null,!0,!0)}));var y=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),w=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),_=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var T=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=T&&e[T]||e["@@iterator"])?e:null}var F,L=Object.assign;function M(e){if(void 0===F)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);F=t&&t[1]||""}return"\n"+F+e}var z=!1;function B(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var a=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){a=c}e.call(t.prototype)}else{try{throw Error()}catch(c){a=c}e()}}catch(c){if(c&&a&&"string"===typeof c.stack){for(var r=c.stack.split("\n"),s=a.stack.split("\n"),i=r.length-1,l=s.length-1;1<=i&&0<=l&&r[i]!==s[l];)l--;for(;1<=i&&0<=l;i--,l--)if(r[i]!==s[l]){if(1!==i||1!==l)do{if(i--,0>--l||r[i]!==s[l]){var o="\n"+r[i].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}}while(1<=i&&0<=l);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?M(e):""}function U(e){switch(e.tag){case 5:return M(e.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case N:return"Fragment";case w:return"Portal";case S:return"Profiler";case k:return"StrictMode";case I:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case _:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:H(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return H(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function V(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){a=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(e){a=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=G(e)?e.checked?"true":"false":e.value),(e=a)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,a=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:a,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function X(e,t){Y(e,t);var n=W(t.value),a=t.type;if(null!=n)"number"===a?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===a||"reset"===a)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!("submit"!==a&&"reset"!==a||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,a){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&a&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(a&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function se(e,t){var n=W(t.value),a=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=a&&(e.defaultValue=""+a)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?le(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,a){MSApp.execUnsafeLocalFunction((function(){return de(e,t)}))}:de);function me(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xe=["Webkit","ms","Moz","O"];function he(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function fe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var a=0===n.indexOf("--"),r=he(n,t[n],a);"float"===n&&(n="cssFloat"),a?e.setProperty(n,r):e[n]=r}}Object.keys(pe).forEach((function(e){xe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ge=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ye=null;function je(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Ne=null,ke=null;function Se(e){if(e=vr(e)){if("function"!==typeof we)throw Error(s(280));var t=e.stateNode;t&&(t=jr(t),we(e.stateNode,e.type,t))}}function Ce(e){Ne?ke?ke.push(e):ke=[e]:Ne=e}function _e(){if(Ne){var e=Ne,t=ke;if(ke=Ne=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ee(e,t){return e(t)}function Ie(){}var Pe=!1;function De(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Ee(e,t,n)}finally{Pe=!1,(null!==Ne||null!==ke)&&(Ie(),_e())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var a=jr(n);if(null===a)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(a=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!a;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Oe=!1;if(d)try{var Te={};Object.defineProperty(Te,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Te,Te),window.removeEventListener("test",Te,Te)}catch(de){Oe=!1}function Re(e,t,n,a,r,s,i,l,o){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Fe=!1,Le=null,Me=!1,ze=null,Be={onError:function(e){Fe=!0,Le=e}};function Ue(e,t,n,a,r,s,i,l,o){Fe=!1,Le=null,Re.apply(Be,arguments)}function He(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(He(e)!==e)throw Error(s(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=He(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,a=t;;){var r=n.return;if(null===r)break;var i=r.alternate;if(null===i){if(null!==(a=r.return)){n=a;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return We(r),e;if(i===a)return We(r),t;i=i.sibling}throw Error(s(188))}if(n.return!==a.return)n=r,a=i;else{for(var l=!1,o=r.child;o;){if(o===n){l=!0,n=r,a=i;break}if(o===a){l=!0,a=r,n=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===n){l=!0,n=i,a=r;break}if(o===a){l=!0,a=i,n=r;break}o=o.sibling}if(!l)throw Error(s(189))}}if(n.alternate!==a)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ve(e):null}function Ve(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ve(e);if(null!==t)return t;e=e.sibling}return null}var $e=r.unstable_scheduleCallback,Ke=r.unstable_cancelCallback,Je=r.unstable_shouldYield,Qe=r.unstable_requestPaint,Ye=r.unstable_now,Xe=r.unstable_getCurrentPriorityLevel,Ze=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,tt=r.unstable_NormalPriority,nt=r.unstable_LowPriority,at=r.unstable_IdlePriority,rt=null,st=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(lt(e)/ot|0)|0},lt=Math.log,ot=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mt(e,t){var n=e.pendingLanes;if(0===n)return 0;var a=0,r=e.suspendedLanes,s=e.pingedLanes,i=268435455&n;if(0!==i){var l=i&~r;0!==l?a=ut(l):0!==(s&=i)&&(a=ut(s))}else 0!==(i=n&~r)?a=ut(i):0!==s&&(a=ut(s));if(0===a)return 0;if(0!==t&&t!==a&&0===(t&r)&&((r=a&-a)>=(s=t&-t)||16===r&&0!==(4194240&s)))return t;if(0!==(4&a)&&(a|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=a;0<t;)r=1<<(n=31-it(t)),a|=e[n],t&=~r;return a}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function xt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ht(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function ft(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=n}function bt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-it(n),r=1<<a;r&t|e[a]&t&&(e[a]|=t),n&=~r}}var vt=0;function yt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var jt,wt,Nt,kt,St,Ct=!1,_t=[],Et=null,It=null,Pt=null,Dt=new Map,At=new Map,Ot=[],Tt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rt(e,t){switch(e){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":At.delete(t.pointerId)}}function Ft(e,t,n,a,r,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:s,targetContainers:[r]},null!==t&&(null!==(t=vr(t))&&wt(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Lt(e){var t=br(e.target);if(null!==t){var n=He(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void St(e.priority,(function(){Nt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=vr(n))&&wt(t),e.blockedOn=n,!1;var a=new(n=e.nativeEvent).constructor(n.type,n);ye=a,n.target.dispatchEvent(a),ye=null,t.shift()}return!0}function zt(e,t,n){Mt(e)&&n.delete(t)}function Bt(){Ct=!1,null!==Et&&Mt(Et)&&(Et=null),null!==It&&Mt(It)&&(It=null),null!==Pt&&Mt(Pt)&&(Pt=null),Dt.forEach(zt),At.forEach(zt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Bt)))}function Ht(e){function t(t){return Ut(t,e)}if(0<_t.length){Ut(_t[0],e);for(var n=1;n<_t.length;n++){var a=_t[n];a.blockedOn===e&&(a.blockedOn=null)}}for(null!==Et&&Ut(Et,e),null!==It&&Ut(It,e),null!==Pt&&Ut(Pt,e),Dt.forEach(t),At.forEach(t),n=0;n<Ot.length;n++)(a=Ot[n]).blockedOn===e&&(a.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Lt(n),null===n.blockedOn&&Ot.shift()}var qt=y.ReactCurrentBatchConfig,Wt=!0;function Gt(e,t,n,a){var r=vt,s=qt.transition;qt.transition=null;try{vt=1,$t(e,t,n,a)}finally{vt=r,qt.transition=s}}function Vt(e,t,n,a){var r=vt,s=qt.transition;qt.transition=null;try{vt=4,$t(e,t,n,a)}finally{vt=r,qt.transition=s}}function $t(e,t,n,a){if(Wt){var r=Jt(e,t,n,a);if(null===r)Wa(e,t,a,Kt,n),Rt(e,a);else if(function(e,t,n,a,r){switch(t){case"focusin":return Et=Ft(Et,e,t,n,a,r),!0;case"dragenter":return It=Ft(It,e,t,n,a,r),!0;case"mouseover":return Pt=Ft(Pt,e,t,n,a,r),!0;case"pointerover":var s=r.pointerId;return Dt.set(s,Ft(Dt.get(s)||null,e,t,n,a,r)),!0;case"gotpointercapture":return s=r.pointerId,At.set(s,Ft(At.get(s)||null,e,t,n,a,r)),!0}return!1}(r,e,t,n,a))a.stopPropagation();else if(Rt(e,a),4&t&&-1<Tt.indexOf(e)){for(;null!==r;){var s=vr(r);if(null!==s&&jt(s),null===(s=Jt(e,t,n,a))&&Wa(e,t,a,Kt,n),s===r)break;r=s}null!==r&&a.stopPropagation()}else Wa(e,t,a,null,n)}}var Kt=null;function Jt(e,t,n,a){if(Kt=null,null!==(e=br(e=je(a))))if(null===(t=He(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case at:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,a=n.length,r="value"in Yt?Yt.value:Yt.textContent,s=r.length;for(e=0;e<a&&n[e]===r[e];e++);var i=a-e;for(t=1;t<=i&&n[a-t]===r[s-t];t++);return Zt=r.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function an(){return!1}function rn(e){function t(t,n,a,r,s){for(var i in this._reactName=t,this._targetInst=a,this.type=n,this.nativeEvent=r,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(r):r[i]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:an,this.isPropagationStopped=an,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,ln,on,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=rn(cn),un=L({},cn,{view:0,detail:0}),mn=rn(un),pn=L({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==on&&(on&&"mousemove"===e.type?(sn=e.screenX-on.screenX,ln=e.screenY-on.screenY):ln=sn=0,on=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),xn=rn(pn),hn=rn(L({},pn,{dataTransfer:0})),fn=rn(L({},un,{relatedTarget:0})),gn=rn(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vn=rn(bn),yn=rn(L({},cn,{data:0})),jn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Nn[e])&&!!t[e]}function Sn(){return kn}var Cn=L({},un,{key:function(e){if(e.key){var t=jn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),_n=rn(Cn),En=rn(L({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=rn(L({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Pn=rn(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=L({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),An=rn(Dn),On=[9,13,27,32],Tn=d&&"CompositionEvent"in window,Rn=null;d&&"documentMode"in document&&(Rn=document.documentMode);var Fn=d&&"TextEvent"in window&&!Rn,Ln=d&&(!Tn||Rn&&8<Rn&&11>=Rn),Mn=String.fromCharCode(32),zn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Gn(e,t,n,a){Ce(a),0<(t=Va(t,"onChange")).length&&(n=new dn("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Vn=null,$n=null;function Kn(e){Ma(e,0)}function Jn(e){if($(yr(e)))return e}function Qn(e,t){if("change"===e)return t}var Yn=!1;if(d){var Xn;if(d){var Zn="oninput"in document;if(!Zn){var ea=document.createElement("div");ea.setAttribute("oninput","return;"),Zn="function"===typeof ea.oninput}Xn=Zn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function ta(){Vn&&(Vn.detachEvent("onpropertychange",na),$n=Vn=null)}function na(e){if("value"===e.propertyName&&Jn($n)){var t=[];Gn(t,$n,e,je(e)),De(Kn,t)}}function aa(e,t,n){"focusin"===e?(ta(),$n=n,(Vn=t).attachEvent("onpropertychange",na)):"focusout"===e&&ta()}function ra(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn($n)}function sa(e,t){if("click"===e)return Jn(t)}function ia(e,t){if("input"===e||"change"===e)return Jn(t)}var la="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function oa(e,t){if(la(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var r=n[a];if(!u.call(t,r)||!la(e[r],t[r]))return!1}return!0}function ca(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function da(e,t){var n,a=ca(e);for(e=0;a;){if(3===a.nodeType){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ca(a)}}function ua(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ua(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ma(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(a){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function pa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function xa(e){var t=ma(),n=e.focusedElem,a=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ua(n.ownerDocument.documentElement,n)){if(null!==a&&pa(n))if(t=a.start,void 0===(e=a.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=n.textContent.length,s=Math.min(a.start,r);a=void 0===a.end?s:Math.min(a.end,r),!e.extend&&s>a&&(r=a,a=s,s=r),r=da(n,s);var i=da(n,a);r&&i&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),s>a?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ha=d&&"documentMode"in document&&11>=document.documentMode,fa=null,ga=null,ba=null,va=!1;function ya(e,t,n){var a=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;va||null==fa||fa!==K(a)||("selectionStart"in(a=fa)&&pa(a)?a={start:a.selectionStart,end:a.selectionEnd}:a={anchorNode:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset},ba&&oa(ba,a)||(ba=a,0<(a=Va(ga,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=fa)))}function ja(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wa={animationend:ja("Animation","AnimationEnd"),animationiteration:ja("Animation","AnimationIteration"),animationstart:ja("Animation","AnimationStart"),transitionend:ja("Transition","TransitionEnd")},Na={},ka={};function Sa(e){if(Na[e])return Na[e];if(!wa[e])return e;var t,n=wa[e];for(t in n)if(n.hasOwnProperty(t)&&t in ka)return Na[e]=n[t];return e}d&&(ka=document.createElement("div").style,"AnimationEvent"in window||(delete wa.animationend.animation,delete wa.animationiteration.animation,delete wa.animationstart.animation),"TransitionEvent"in window||delete wa.transitionend.transition);var Ca=Sa("animationend"),_a=Sa("animationiteration"),Ea=Sa("animationstart"),Ia=Sa("transitionend"),Pa=new Map,Da="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Aa(e,t){Pa.set(e,t),o(t,[e])}for(var Oa=0;Oa<Da.length;Oa++){var Ta=Da[Oa];Aa(Ta.toLowerCase(),"on"+(Ta[0].toUpperCase()+Ta.slice(1)))}Aa(Ca,"onAnimationEnd"),Aa(_a,"onAnimationIteration"),Aa(Ea,"onAnimationStart"),Aa("dblclick","onDoubleClick"),Aa("focusin","onFocus"),Aa("focusout","onBlur"),Aa(Ia,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ra="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fa=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ra));function La(e,t,n){var a=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,a,r,i,l,o,c){if(Ue.apply(this,arguments),Fe){if(!Fe)throw Error(s(198));var d=Le;Fe=!1,Le=null,Me||(Me=!0,ze=d)}}(a,t,void 0,e),e.currentTarget=null}function Ma(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var a=e[n],r=a.event;a=a.listeners;e:{var s=void 0;if(t)for(var i=a.length-1;0<=i;i--){var l=a[i],o=l.instance,c=l.currentTarget;if(l=l.listener,o!==s&&r.isPropagationStopped())break e;La(r,l,c),s=o}else for(i=0;i<a.length;i++){if(o=(l=a[i]).instance,c=l.currentTarget,l=l.listener,o!==s&&r.isPropagationStopped())break e;La(r,l,c),s=o}}}if(Me)throw e=ze,Me=!1,ze=null,e}function za(e,t){var n=t[hr];void 0===n&&(n=t[hr]=new Set);var a=e+"__bubble";n.has(a)||(qa(t,e,2,!1),n.add(a))}function Ba(e,t,n){var a=0;t&&(a|=4),qa(n,e,a,t)}var Ua="_reactListening"+Math.random().toString(36).slice(2);function Ha(e){if(!e[Ua]){e[Ua]=!0,i.forEach((function(t){"selectionchange"!==t&&(Fa.has(t)||Ba(t,!1,e),Ba(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ua]||(t[Ua]=!0,Ba("selectionchange",!1,t))}}function qa(e,t,n,a){switch(Qt(t)){case 1:var r=Gt;break;case 4:r=Vt;break;default:r=$t}n=r.bind(null,t,n,e),r=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),a?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Wa(e,t,n,a,r){var s=a;if(0===(1&t)&&0===(2&t)&&null!==a)e:for(;;){if(null===a)return;var i=a.tag;if(3===i||4===i){var l=a.stateNode.containerInfo;if(l===r||8===l.nodeType&&l.parentNode===r)break;if(4===i)for(i=a.return;null!==i;){var o=i.tag;if((3===o||4===o)&&((o=i.stateNode.containerInfo)===r||8===o.nodeType&&o.parentNode===r))return;i=i.return}for(;null!==l;){if(null===(i=br(l)))return;if(5===(o=i.tag)||6===o){a=s=i;continue e}l=l.parentNode}}a=a.return}De((function(){var a=s,r=je(n),i=[];e:{var l=Pa.get(e);if(void 0!==l){var o=dn,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":o=_n;break;case"focusin":c="focus",o=fn;break;case"focusout":c="blur",o=fn;break;case"beforeblur":case"afterblur":o=fn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":o=xn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":o=hn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":o=In;break;case Ca:case _a:case Ea:o=gn;break;case Ia:o=Pn;break;case"scroll":o=mn;break;case"wheel":o=An;break;case"copy":case"cut":case"paste":o=vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":o=En}var d=0!==(4&t),u=!d&&"scroll"===e,m=d?null!==l?l+"Capture":null:l;d=[];for(var p,x=a;null!==x;){var h=(p=x).stateNode;if(5===p.tag&&null!==h&&(p=h,null!==m&&(null!=(h=Ae(x,m))&&d.push(Ga(x,h,p)))),u)break;x=x.return}0<d.length&&(l=new o(l,c,null,n,r),i.push({event:l,listeners:d}))}}if(0===(7&t)){if(o="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||n===ye||!(c=n.relatedTarget||n.fromElement)||!br(c)&&!c[xr])&&(o||l)&&(l=r.window===r?r:(l=r.ownerDocument)?l.defaultView||l.parentWindow:window,o?(o=a,null!==(c=(c=n.relatedTarget||n.toElement)?br(c):null)&&(c!==(u=He(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(o=null,c=a),o!==c)){if(d=xn,h="onMouseLeave",m="onMouseEnter",x="mouse","pointerout"!==e&&"pointerover"!==e||(d=En,h="onPointerLeave",m="onPointerEnter",x="pointer"),u=null==o?l:yr(o),p=null==c?l:yr(c),(l=new d(h,x+"leave",o,n,r)).target=u,l.relatedTarget=p,h=null,br(r)===a&&((d=new d(m,x+"enter",c,n,r)).target=p,d.relatedTarget=u,h=d),u=h,o&&c)e:{for(m=c,x=0,p=d=o;p;p=$a(p))x++;for(p=0,h=m;h;h=$a(h))p++;for(;0<x-p;)d=$a(d),x--;for(;0<p-x;)m=$a(m),p--;for(;x--;){if(d===m||null!==m&&d===m.alternate)break e;d=$a(d),m=$a(m)}d=null}else d=null;null!==o&&Ka(i,l,o,d,!1),null!==c&&null!==u&&Ka(i,u,c,d,!0)}if("select"===(o=(l=a?yr(a):window).nodeName&&l.nodeName.toLowerCase())||"input"===o&&"file"===l.type)var f=Qn;else if(Wn(l))if(Yn)f=ia;else{f=ra;var g=aa}else(o=l.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===l.type||"radio"===l.type)&&(f=sa);switch(f&&(f=f(e,a))?Gn(i,f,n,r):(g&&g(e,l,a),"focusout"===e&&(g=l._wrapperState)&&g.controlled&&"number"===l.type&&ee(l,"number",l.value)),g=a?yr(a):window,e){case"focusin":(Wn(g)||"true"===g.contentEditable)&&(fa=g,ga=a,ba=null);break;case"focusout":ba=ga=fa=null;break;case"mousedown":va=!0;break;case"contextmenu":case"mouseup":case"dragend":va=!1,ya(i,n,r);break;case"selectionchange":if(ha)break;case"keydown":case"keyup":ya(i,n,r)}var b;if(Tn)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Hn?Bn(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(Ln&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==v?"onCompositionEnd"===v&&Hn&&(b=en()):(Xt="value"in(Yt=r)?Yt.value:Yt.textContent,Hn=!0)),0<(g=Va(a,v)).length&&(v=new yn(v,e,null,n,r),i.push({event:v,listeners:g}),b?v.data=b:null!==(b=Un(n))&&(v.data=b))),(b=Fn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(zn=!0,Mn);case"textInput":return(e=t.data)===Mn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Tn&&Bn(e,t)?(e=en(),Zt=Xt=Yt=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(a=Va(a,"onBeforeInput")).length&&(r=new yn("onBeforeInput","beforeinput",null,n,r),i.push({event:r,listeners:a}),r.data=b))}Ma(i,t)}))}function Ga(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Va(e,t){for(var n=t+"Capture",a=[];null!==e;){var r=e,s=r.stateNode;5===r.tag&&null!==s&&(r=s,null!=(s=Ae(e,n))&&a.unshift(Ga(e,s,r)),null!=(s=Ae(e,t))&&a.push(Ga(e,s,r))),e=e.return}return a}function $a(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ka(e,t,n,a,r){for(var s=t._reactName,i=[];null!==n&&n!==a;){var l=n,o=l.alternate,c=l.stateNode;if(null!==o&&o===a)break;5===l.tag&&null!==c&&(l=c,r?null!=(o=Ae(n,s))&&i.unshift(Ga(n,o,l)):r||null!=(o=Ae(n,s))&&i.push(Ga(n,o,l))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var Ja=/\r\n?/g,Qa=/\u0000|\uFFFD/g;function Ya(e){return("string"===typeof e?e:""+e).replace(Ja,"\n").replace(Qa,"")}function Xa(e,t,n){if(t=Ya(t),Ya(e)!==t&&n)throw Error(s(425))}function Za(){}var er=null,tr=null;function nr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ar="function"===typeof setTimeout?setTimeout:void 0,rr="function"===typeof clearTimeout?clearTimeout:void 0,sr="function"===typeof Promise?Promise:void 0,ir="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof sr?function(e){return sr.resolve(null).then(e).catch(lr)}:ar;function lr(e){setTimeout((function(){throw e}))}function or(e,t){var n=t,a=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===a)return e.removeChild(r),void Ht(t);a--}else"$"!==n&&"$?"!==n&&"$!"!==n||a++;n=r}while(n);Ht(t)}function cr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function dr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ur=Math.random().toString(36).slice(2),mr="__reactFiber$"+ur,pr="__reactProps$"+ur,xr="__reactContainer$"+ur,hr="__reactEvents$"+ur,fr="__reactListeners$"+ur,gr="__reactHandles$"+ur;function br(e){var t=e[mr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[xr]||n[mr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=dr(e);null!==e;){if(n=e[mr])return n;e=dr(e)}return t}n=(e=n).parentNode}return null}function vr(e){return!(e=e[mr]||e[xr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function yr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function jr(e){return e[pr]||null}var wr=[],Nr=-1;function kr(e){return{current:e}}function Sr(e){0>Nr||(e.current=wr[Nr],wr[Nr]=null,Nr--)}function Cr(e,t){Nr++,wr[Nr]=e.current,e.current=t}var _r={},Er=kr(_r),Ir=kr(!1),Pr=_r;function Dr(e,t){var n=e.type.contextTypes;if(!n)return _r;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var r,s={};for(r in n)s[r]=t[r];return a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ar(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Or(){Sr(Ir),Sr(Er)}function Tr(e,t,n){if(Er.current!==_r)throw Error(s(168));Cr(Er,t),Cr(Ir,n)}function Rr(e,t,n){var a=e.stateNode;if(t=t.childContextTypes,"function"!==typeof a.getChildContext)return n;for(var r in a=a.getChildContext())if(!(r in t))throw Error(s(108,q(e)||"Unknown",r));return L({},n,a)}function Fr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_r,Pr=Er.current,Cr(Er,e),Cr(Ir,Ir.current),!0}function Lr(e,t,n){var a=e.stateNode;if(!a)throw Error(s(169));n?(e=Rr(e,t,Pr),a.__reactInternalMemoizedMergedChildContext=e,Sr(Ir),Sr(Er),Cr(Er,e)):Sr(Ir),Cr(Ir,n)}var Mr=null,zr=!1,Br=!1;function Ur(e){null===Mr?Mr=[e]:Mr.push(e)}function Hr(){if(!Br&&null!==Mr){Br=!0;var e=0,t=vt;try{var n=Mr;for(vt=1;e<n.length;e++){var a=n[e];do{a=a(!0)}while(null!==a)}Mr=null,zr=!1}catch(r){throw null!==Mr&&(Mr=Mr.slice(e+1)),$e(Ze,Hr),r}finally{vt=t,Br=!1}}return null}var qr=[],Wr=0,Gr=null,Vr=0,$r=[],Kr=0,Jr=null,Qr=1,Yr="";function Xr(e,t){qr[Wr++]=Vr,qr[Wr++]=Gr,Gr=e,Vr=t}function Zr(e,t,n){$r[Kr++]=Qr,$r[Kr++]=Yr,$r[Kr++]=Jr,Jr=e;var a=Qr;e=Yr;var r=32-it(a)-1;a&=~(1<<r),n+=1;var s=32-it(t)+r;if(30<s){var i=r-r%5;s=(a&(1<<i)-1).toString(32),a>>=i,r-=i,Qr=1<<32-it(t)+r|n<<r|a,Yr=s+e}else Qr=1<<s|n<<r|a,Yr=e}function es(e){null!==e.return&&(Xr(e,1),Zr(e,1,0))}function ts(e){for(;e===Gr;)Gr=qr[--Wr],qr[Wr]=null,Vr=qr[--Wr],qr[Wr]=null;for(;e===Jr;)Jr=$r[--Kr],$r[Kr]=null,Yr=$r[--Kr],$r[Kr]=null,Qr=$r[--Kr],$r[Kr]=null}var ns=null,as=null,rs=!1,ss=null;function is(e,t){var n=Dc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ls(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,as=cr(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,as=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Jr?{id:Qr,overflow:Yr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Dc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,as=null,!0);default:return!1}}function os(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(rs){var t=as;if(t){var n=t;if(!ls(e,t)){if(os(e))throw Error(s(418));t=cr(n.nextSibling);var a=ns;t&&ls(e,t)?is(a,n):(e.flags=-4097&e.flags|2,rs=!1,ns=e)}}else{if(os(e))throw Error(s(418));e.flags=-4097&e.flags|2,rs=!1,ns=e}}}function ds(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function us(e){if(e!==ns)return!1;if(!rs)return ds(e),rs=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!nr(e.type,e.memoizedProps)),t&&(t=as)){if(os(e))throw ms(),Error(s(418));for(;t;)is(e,t),t=cr(t.nextSibling)}if(ds(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){as=cr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}as=null}}else as=ns?cr(e.stateNode.nextSibling):null;return!0}function ms(){for(var e=as;e;)e=cr(e.nextSibling)}function ps(){as=ns=null,rs=!1}function xs(e){null===ss?ss=[e]:ss.push(e)}var hs=y.ReactCurrentBatchConfig;function fs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var a=n.stateNode}if(!a)throw Error(s(147,e));var r=a,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function gs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bs(e){return(0,e._init)(e._payload)}function vs(e){function t(t,n){if(e){var a=t.deletions;null===a?(t.deletions=[n],t.flags|=16):a.push(n)}}function n(n,a){if(!e)return null;for(;null!==a;)t(n,a),a=a.sibling;return null}function a(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function i(t,n,a){return t.index=a,e?null!==(a=t.alternate)?(a=a.index)<n?(t.flags|=2,n):a:(t.flags|=2,n):(t.flags|=1048576,n)}function l(t){return e&&null===t.alternate&&(t.flags|=2),t}function o(e,t,n,a){return null===t||6!==t.tag?((t=Lc(n,e.mode,a)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,a){var s=n.type;return s===N?u(e,t,n.props.children,a,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===A&&bs(s)===t.type)?((a=r(t,n.props)).ref=fs(e,t,n),a.return=e,a):((a=Tc(n.type,n.key,n.props,null,e.mode,a)).ref=fs(e,t,n),a.return=e,a)}function d(e,t,n,a){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Mc(n,e.mode,a)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function u(e,t,n,a,s){return null===t||7!==t.tag?((t=Rc(n,e.mode,a,s)).return=e,t):((t=r(t,n)).return=e,t)}function m(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case j:return(n=Tc(t.type,t.key,t.props,null,e.mode,n)).ref=fs(e,null,t),n.return=e,n;case w:return(t=Mc(t,e.mode,n)).return=e,t;case A:return m(e,(0,t._init)(t._payload),n)}if(te(t)||R(t))return(t=Rc(t,e.mode,n,null)).return=e,t;gs(e,t)}return null}function p(e,t,n,a){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:o(e,t,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case j:return n.key===r?c(e,t,n,a):null;case w:return n.key===r?d(e,t,n,a):null;case A:return p(e,t,(r=n._init)(n._payload),a)}if(te(n)||R(n))return null!==r?null:u(e,t,n,a,null);gs(e,n)}return null}function x(e,t,n,a,r){if("string"===typeof a&&""!==a||"number"===typeof a)return o(t,e=e.get(n)||null,""+a,r);if("object"===typeof a&&null!==a){switch(a.$$typeof){case j:return c(t,e=e.get(null===a.key?n:a.key)||null,a,r);case w:return d(t,e=e.get(null===a.key?n:a.key)||null,a,r);case A:return x(e,t,n,(0,a._init)(a._payload),r)}if(te(a)||R(a))return u(t,e=e.get(n)||null,a,r,null);gs(t,a)}return null}function h(r,s,l,o){for(var c=null,d=null,u=s,h=s=0,f=null;null!==u&&h<l.length;h++){u.index>h?(f=u,u=null):f=u.sibling;var g=p(r,u,l[h],o);if(null===g){null===u&&(u=f);break}e&&u&&null===g.alternate&&t(r,u),s=i(g,s,h),null===d?c=g:d.sibling=g,d=g,u=f}if(h===l.length)return n(r,u),rs&&Xr(r,h),c;if(null===u){for(;h<l.length;h++)null!==(u=m(r,l[h],o))&&(s=i(u,s,h),null===d?c=u:d.sibling=u,d=u);return rs&&Xr(r,h),c}for(u=a(r,u);h<l.length;h++)null!==(f=x(u,r,h,l[h],o))&&(e&&null!==f.alternate&&u.delete(null===f.key?h:f.key),s=i(f,s,h),null===d?c=f:d.sibling=f,d=f);return e&&u.forEach((function(e){return t(r,e)})),rs&&Xr(r,h),c}function f(r,l,o,c){var d=R(o);if("function"!==typeof d)throw Error(s(150));if(null==(o=d.call(o)))throw Error(s(151));for(var u=d=null,h=l,f=l=0,g=null,b=o.next();null!==h&&!b.done;f++,b=o.next()){h.index>f?(g=h,h=null):g=h.sibling;var v=p(r,h,b.value,c);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(r,h),l=i(v,l,f),null===u?d=v:u.sibling=v,u=v,h=g}if(b.done)return n(r,h),rs&&Xr(r,f),d;if(null===h){for(;!b.done;f++,b=o.next())null!==(b=m(r,b.value,c))&&(l=i(b,l,f),null===u?d=b:u.sibling=b,u=b);return rs&&Xr(r,f),d}for(h=a(r,h);!b.done;f++,b=o.next())null!==(b=x(h,r,f,b.value,c))&&(e&&null!==b.alternate&&h.delete(null===b.key?f:b.key),l=i(b,l,f),null===u?d=b:u.sibling=b,u=b);return e&&h.forEach((function(e){return t(r,e)})),rs&&Xr(r,f),d}return function e(a,s,i,o){if("object"===typeof i&&null!==i&&i.type===N&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case j:e:{for(var c=i.key,d=s;null!==d;){if(d.key===c){if((c=i.type)===N){if(7===d.tag){n(a,d.sibling),(s=r(d,i.props.children)).return=a,a=s;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===A&&bs(c)===d.type){n(a,d.sibling),(s=r(d,i.props)).ref=fs(a,d,i),s.return=a,a=s;break e}n(a,d);break}t(a,d),d=d.sibling}i.type===N?((s=Rc(i.props.children,a.mode,o,i.key)).return=a,a=s):((o=Tc(i.type,i.key,i.props,null,a.mode,o)).ref=fs(a,s,i),o.return=a,a=o)}return l(a);case w:e:{for(d=i.key;null!==s;){if(s.key===d){if(4===s.tag&&s.stateNode.containerInfo===i.containerInfo&&s.stateNode.implementation===i.implementation){n(a,s.sibling),(s=r(s,i.children||[])).return=a,a=s;break e}n(a,s);break}t(a,s),s=s.sibling}(s=Mc(i,a.mode,o)).return=a,a=s}return l(a);case A:return e(a,s,(d=i._init)(i._payload),o)}if(te(i))return h(a,s,i,o);if(R(i))return f(a,s,i,o);gs(a,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==s&&6===s.tag?(n(a,s.sibling),(s=r(s,i)).return=a,a=s):(n(a,s),(s=Lc(i,a.mode,o)).return=a,a=s),l(a)):n(a,s)}}var ys=vs(!0),js=vs(!1),ws=kr(null),Ns=null,ks=null,Ss=null;function Cs(){Ss=ks=Ns=null}function _s(e){var t=ws.current;Sr(ws),e._currentValue=t}function Es(e,t,n){for(;null!==e;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==a&&(a.childLanes|=t)):null!==a&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Is(e,t){Ns=e,Ss=ks=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bl=!0),e.firstContext=null)}function Ps(e){var t=e._currentValue;if(Ss!==e)if(e={context:e,memoizedValue:t,next:null},null===ks){if(null===Ns)throw Error(s(308));ks=e,Ns.dependencies={lanes:0,firstContext:e}}else ks=ks.next=e;return t}var Ds=null;function As(e){null===Ds?Ds=[e]:Ds.push(e)}function Os(e,t,n,a){var r=t.interleaved;return null===r?(n.next=n,As(t)):(n.next=r.next,r.next=n),t.interleaved=n,Ts(e,a)}function Ts(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Rs=!1;function Fs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ls(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ms(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zs(e,t,n){var a=e.updateQueue;if(null===a)return null;if(a=a.shared,0!==(2&Eo)){var r=a.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),a.pending=t,Ts(e,n)}return null===(r=a.interleaved)?(t.next=t,As(a)):(t.next=r.next,r.next=t),a.interleaved=t,Ts(e,n)}function Bs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,bt(e,n)}}function Us(e,t){var n=e.updateQueue,a=e.alternate;if(null!==a&&n===(a=a.updateQueue)){var r=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?r=s=i:s=s.next=i,n=n.next}while(null!==n);null===s?r=s=t:s=s.next=t}else r=s=t;return n={baseState:a.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:a.shared,effects:a.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Hs(e,t,n,a){var r=e.updateQueue;Rs=!1;var s=r.firstBaseUpdate,i=r.lastBaseUpdate,l=r.shared.pending;if(null!==l){r.shared.pending=null;var o=l,c=o.next;o.next=null,null===i?s=c:i.next=c,i=o;var d=e.alternate;null!==d&&((l=(d=d.updateQueue).lastBaseUpdate)!==i&&(null===l?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=o))}if(null!==s){var u=r.baseState;for(i=0,d=c=o=null,l=s;;){var m=l.lane,p=l.eventTime;if((a&m)===m){null!==d&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,h=l;switch(m=t,p=n,h.tag){case 1:if("function"===typeof(x=h.payload)){u=x.call(p,u,m);break e}u=x;break e;case 3:x.flags=-65537&x.flags|128;case 0:if(null===(m="function"===typeof(x=h.payload)?x.call(p,u,m):x)||void 0===m)break e;u=L({},u,m);break e;case 2:Rs=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(m=r.effects)?r.effects=[l]:m.push(l))}else p={eventTime:p,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===d?(c=d=p,o=u):d=d.next=p,i|=m;if(null===(l=l.next)){if(null===(l=r.shared.pending))break;l=(m=l).next,m.next=null,r.lastBaseUpdate=m,r.shared.pending=null}}if(null===d&&(o=u),r.baseState=o,r.firstBaseUpdate=c,r.lastBaseUpdate=d,null!==(t=r.shared.interleaved)){r=t;do{i|=r.lane,r=r.next}while(r!==t)}else null===s&&(r.shared.lanes=0);Fo|=i,e.lanes=i,e.memoizedState=u}}function qs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var a=e[t],r=a.callback;if(null!==r){if(a.callback=null,a=n,"function"!==typeof r)throw Error(s(191,r));r.call(a)}}}var Ws={},Gs=kr(Ws),Vs=kr(Ws),$s=kr(Ws);function Ks(e){if(e===Ws)throw Error(s(174));return e}function Js(e,t){switch(Cr($s,t),Cr(Vs,e),Cr(Gs,Ws),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:oe(null,"");break;default:t=oe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Sr(Gs),Cr(Gs,t)}function Qs(){Sr(Gs),Sr(Vs),Sr($s)}function Ys(e){Ks($s.current);var t=Ks(Gs.current),n=oe(t,e.type);t!==n&&(Cr(Vs,e),Cr(Gs,n))}function Xs(e){Vs.current===e&&(Sr(Gs),Sr(Vs))}var Zs=kr(0);function ei(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ti=[];function ni(){for(var e=0;e<ti.length;e++)ti[e]._workInProgressVersionPrimary=null;ti.length=0}var ai=y.ReactCurrentDispatcher,ri=y.ReactCurrentBatchConfig,si=0,ii=null,li=null,oi=null,ci=!1,di=!1,ui=0,mi=0;function pi(){throw Error(s(321))}function xi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!la(e[n],t[n]))return!1;return!0}function hi(e,t,n,a,r,i){if(si=i,ii=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ai.current=null===e||null===e.memoizedState?Xi:Zi,e=n(a,r),di){i=0;do{if(di=!1,ui=0,25<=i)throw Error(s(301));i+=1,oi=li=null,t.updateQueue=null,ai.current=el,e=n(a,r)}while(di)}if(ai.current=Yi,t=null!==li&&null!==li.next,si=0,oi=li=ii=null,ci=!1,t)throw Error(s(300));return e}function fi(){var e=0!==ui;return ui=0,e}function gi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===oi?ii.memoizedState=oi=e:oi=oi.next=e,oi}function bi(){if(null===li){var e=ii.alternate;e=null!==e?e.memoizedState:null}else e=li.next;var t=null===oi?ii.memoizedState:oi.next;if(null!==t)oi=t,li=e;else{if(null===e)throw Error(s(310));e={memoizedState:(li=e).memoizedState,baseState:li.baseState,baseQueue:li.baseQueue,queue:li.queue,next:null},null===oi?ii.memoizedState=oi=e:oi=oi.next=e}return oi}function vi(e,t){return"function"===typeof t?t(e):t}function yi(e){var t=bi(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var a=li,r=a.baseQueue,i=n.pending;if(null!==i){if(null!==r){var l=r.next;r.next=i.next,i.next=l}a.baseQueue=r=i,n.pending=null}if(null!==r){i=r.next,a=a.baseState;var o=l=null,c=null,d=i;do{var u=d.lane;if((si&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),a=d.hasEagerState?d.eagerState:e(a,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(o=c=m,l=a):c=c.next=m,ii.lanes|=u,Fo|=u}d=d.next}while(null!==d&&d!==i);null===c?l=a:c.next=o,la(a,t.memoizedState)||(bl=!0),t.memoizedState=a,t.baseState=l,t.baseQueue=c,n.lastRenderedState=a}if(null!==(e=n.interleaved)){r=e;do{i=r.lane,ii.lanes|=i,Fo|=i,r=r.next}while(r!==e)}else null===r&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ji(e){var t=bi(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var a=n.dispatch,r=n.pending,i=t.memoizedState;if(null!==r){n.pending=null;var l=r=r.next;do{i=e(i,l.action),l=l.next}while(l!==r);la(i,t.memoizedState)||(bl=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,a]}function wi(){}function Ni(e,t){var n=ii,a=bi(),r=t(),i=!la(a.memoizedState,r);if(i&&(a.memoizedState=r,bl=!0),a=a.queue,Ri(Ci.bind(null,n,a,e),[e]),a.getSnapshot!==t||i||null!==oi&&1&oi.memoizedState.tag){if(n.flags|=2048,Pi(9,Si.bind(null,n,a,r,t),void 0,null),null===Io)throw Error(s(349));0!==(30&si)||ki(n,t,r)}return r}function ki(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Si(e,t,n,a){t.value=n,t.getSnapshot=a,_i(t)&&Ei(e)}function Ci(e,t,n){return n((function(){_i(t)&&Ei(e)}))}function _i(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!la(e,n)}catch(a){return!0}}function Ei(e){var t=Ts(e,1);null!==t&&nc(t,e,1,-1)}function Ii(e){var t=gi();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:e},t.queue=e,e=e.dispatch=$i.bind(null,ii,e),[t.memoizedState,e]}function Pi(e,t,n,a){return e={tag:e,create:t,destroy:n,deps:a,next:null},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function Di(){return bi().memoizedState}function Ai(e,t,n,a){var r=gi();ii.flags|=e,r.memoizedState=Pi(1|t,n,void 0,void 0===a?null:a)}function Oi(e,t,n,a){var r=bi();a=void 0===a?null:a;var s=void 0;if(null!==li){var i=li.memoizedState;if(s=i.destroy,null!==a&&xi(a,i.deps))return void(r.memoizedState=Pi(t,n,s,a))}ii.flags|=e,r.memoizedState=Pi(1|t,n,s,a)}function Ti(e,t){return Ai(8390656,8,e,t)}function Ri(e,t){return Oi(2048,8,e,t)}function Fi(e,t){return Oi(4,2,e,t)}function Li(e,t){return Oi(4,4,e,t)}function Mi(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function zi(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Oi(4,4,Mi.bind(null,t,e),n)}function Bi(){}function Ui(e,t){var n=bi();t=void 0===t?null:t;var a=n.memoizedState;return null!==a&&null!==t&&xi(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Hi(e,t){var n=bi();t=void 0===t?null:t;var a=n.memoizedState;return null!==a&&null!==t&&xi(t,a[1])?a[0]:(e=e(),n.memoizedState=[e,t],e)}function qi(e,t,n){return 0===(21&si)?(e.baseState&&(e.baseState=!1,bl=!0),e.memoizedState=n):(la(n,t)||(n=ht(),ii.lanes|=n,Fo|=n,e.baseState=!0),t)}function Wi(e,t){var n=vt;vt=0!==n&&4>n?n:4,e(!0);var a=ri.transition;ri.transition={};try{e(!1),t()}finally{vt=n,ri.transition=a}}function Gi(){return bi().memoizedState}function Vi(e,t,n){var a=tc(e);if(n={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null},Ki(e))Ji(t,n);else if(null!==(n=Os(e,t,n,a))){nc(n,e,a,ec()),Qi(n,t,a)}}function $i(e,t,n){var a=tc(e),r={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ki(e))Ji(t,r);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var i=t.lastRenderedState,l=s(i,n);if(r.hasEagerState=!0,r.eagerState=l,la(l,i)){var o=t.interleaved;return null===o?(r.next=r,As(t)):(r.next=o.next,o.next=r),void(t.interleaved=r)}}catch(c){}null!==(n=Os(e,t,r,a))&&(nc(n,e,a,r=ec()),Qi(n,t,a))}}function Ki(e){var t=e.alternate;return e===ii||null!==t&&t===ii}function Ji(e,t){di=ci=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qi(e,t,n){if(0!==(4194240&n)){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,bt(e,n)}}var Yi={readContext:Ps,useCallback:pi,useContext:pi,useEffect:pi,useImperativeHandle:pi,useInsertionEffect:pi,useLayoutEffect:pi,useMemo:pi,useReducer:pi,useRef:pi,useState:pi,useDebugValue:pi,useDeferredValue:pi,useTransition:pi,useMutableSource:pi,useSyncExternalStore:pi,useId:pi,unstable_isNewReconciler:!1},Xi={readContext:Ps,useCallback:function(e,t){return gi().memoizedState=[e,void 0===t?null:t],e},useContext:Ps,useEffect:Ti,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ai(4194308,4,Mi.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ai(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ai(4,2,e,t)},useMemo:function(e,t){var n=gi();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var a=gi();return t=void 0!==n?n(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=Vi.bind(null,ii,e),[a.memoizedState,e]},useRef:function(e){return e={current:e},gi().memoizedState=e},useState:Ii,useDebugValue:Bi,useDeferredValue:function(e){return gi().memoizedState=e},useTransition:function(){var e=Ii(!1),t=e[0];return e=Wi.bind(null,e[1]),gi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var a=ii,r=gi();if(rs){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Io)throw Error(s(349));0!==(30&si)||ki(a,t,n)}r.memoizedState=n;var i={value:n,getSnapshot:t};return r.queue=i,Ti(Ci.bind(null,a,i,e),[e]),a.flags|=2048,Pi(9,Si.bind(null,a,i,n,t),void 0,null),n},useId:function(){var e=gi(),t=Io.identifierPrefix;if(rs){var n=Yr;t=":"+t+"R"+(n=(Qr&~(1<<32-it(Qr)-1)).toString(32)+n),0<(n=ui++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=mi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Zi={readContext:Ps,useCallback:Ui,useContext:Ps,useEffect:Ri,useImperativeHandle:zi,useInsertionEffect:Fi,useLayoutEffect:Li,useMemo:Hi,useReducer:yi,useRef:Di,useState:function(){return yi(vi)},useDebugValue:Bi,useDeferredValue:function(e){return qi(bi(),li.memoizedState,e)},useTransition:function(){return[yi(vi)[0],bi().memoizedState]},useMutableSource:wi,useSyncExternalStore:Ni,useId:Gi,unstable_isNewReconciler:!1},el={readContext:Ps,useCallback:Ui,useContext:Ps,useEffect:Ri,useImperativeHandle:zi,useInsertionEffect:Fi,useLayoutEffect:Li,useMemo:Hi,useReducer:ji,useRef:Di,useState:function(){return ji(vi)},useDebugValue:Bi,useDeferredValue:function(e){var t=bi();return null===li?t.memoizedState=e:qi(t,li.memoizedState,e)},useTransition:function(){return[ji(vi)[0],bi().memoizedState]},useMutableSource:wi,useSyncExternalStore:Ni,useId:Gi,unstable_isNewReconciler:!1};function tl(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function nl(e,t,n,a){n=null===(n=n(a,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var al={isMounted:function(e){return!!(e=e._reactInternals)&&He(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var a=ec(),r=tc(e),s=Ms(a,r);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=zs(e,s,r))&&(nc(t,e,r,a),Bs(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=ec(),r=tc(e),s=Ms(a,r);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=zs(e,s,r))&&(nc(t,e,r,a),Bs(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),a=tc(e),r=Ms(n,a);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=zs(e,r,a))&&(nc(t,e,a,n),Bs(t,e,a))}};function rl(e,t,n,a,r,s,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(a,s,i):!t.prototype||!t.prototype.isPureReactComponent||(!oa(n,a)||!oa(r,s))}function sl(e,t,n){var a=!1,r=_r,s=t.contextType;return"object"===typeof s&&null!==s?s=Ps(s):(r=Ar(t)?Pr:Er.current,s=(a=null!==(a=t.contextTypes)&&void 0!==a)?Dr(e,r):_r),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=al,e.stateNode=t,t._reactInternals=e,a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=s),t}function il(e,t,n,a){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,a),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&al.enqueueReplaceState(t,t.state,null)}function ll(e,t,n,a){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},Fs(e);var s=t.contextType;"object"===typeof s&&null!==s?r.context=Ps(s):(s=Ar(t)?Pr:Er.current,r.context=Dr(e,s)),r.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(nl(e,t,s,n),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&al.enqueueReplaceState(r,r.state,null),Hs(e,n,r,a),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4194308)}function ol(e,t){try{var n="",a=t;do{n+=U(a),a=a.return}while(a);var r=n}catch(s){r="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:r,digest:null}}function cl(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function dl(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ul="function"===typeof WeakMap?WeakMap:Map;function ml(e,t,n){(n=Ms(-1,n)).tag=3,n.payload={element:null};var a=t.value;return n.callback=function(){Wo||(Wo=!0,Go=a),dl(0,t)},n}function pl(e,t,n){(n=Ms(-1,n)).tag=3;var a=e.type.getDerivedStateFromError;if("function"===typeof a){var r=t.value;n.payload=function(){return a(r)},n.callback=function(){dl(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){dl(0,t),"function"!==typeof a&&(null===Vo?Vo=new Set([this]):Vo.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function xl(e,t,n){var a=e.pingCache;if(null===a){a=e.pingCache=new ul;var r=new Set;a.set(t,r)}else void 0===(r=a.get(t))&&(r=new Set,a.set(t,r));r.has(n)||(r.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function hl(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function fl(e,t,n,a,r){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ms(-1,1)).tag=2,zs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}var gl=y.ReactCurrentOwner,bl=!1;function vl(e,t,n,a){t.child=null===e?js(t,null,n,a):ys(t,e.child,n,a)}function yl(e,t,n,a,r){n=n.render;var s=t.ref;return Is(t,r),a=hi(e,t,n,a,s,r),n=fi(),null===e||bl?(rs&&n&&es(t),t.flags|=1,vl(e,t,a,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,ql(e,t,r))}function jl(e,t,n,a,r){if(null===e){var s=n.type;return"function"!==typeof s||Ac(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Tc(n.type,null,a,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,wl(e,t,s,a,r))}if(s=e.child,0===(e.lanes&r)){var i=s.memoizedProps;if((n=null!==(n=n.compare)?n:oa)(i,a)&&e.ref===t.ref)return ql(e,t,r)}return t.flags|=1,(e=Oc(s,a)).ref=t.ref,e.return=t,t.child=e}function wl(e,t,n,a,r){if(null!==e){var s=e.memoizedProps;if(oa(s,a)&&e.ref===t.ref){if(bl=!1,t.pendingProps=a=s,0===(e.lanes&r))return t.lanes=e.lanes,ql(e,t,r);0!==(131072&e.flags)&&(bl=!0)}}return Sl(e,t,n,a,r)}function Nl(e,t,n){var a=t.pendingProps,r=a.children,s=null!==e?e.memoizedState:null;if("hidden"===a.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Cr(Oo,Ao),Ao|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Cr(Oo,Ao),Ao|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=null!==s?s.baseLanes:n,Cr(Oo,Ao),Ao|=a}else null!==s?(a=s.baseLanes|n,t.memoizedState=null):a=n,Cr(Oo,Ao),Ao|=a;return vl(e,t,r,n),t.child}function kl(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Sl(e,t,n,a,r){var s=Ar(n)?Pr:Er.current;return s=Dr(t,s),Is(t,r),n=hi(e,t,n,a,s,r),a=fi(),null===e||bl?(rs&&a&&es(t),t.flags|=1,vl(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,ql(e,t,r))}function Cl(e,t,n,a,r){if(Ar(n)){var s=!0;Fr(t)}else s=!1;if(Is(t,r),null===t.stateNode)Hl(e,t),sl(t,n,a),ll(t,n,a,r),a=!0;else if(null===e){var i=t.stateNode,l=t.memoizedProps;i.props=l;var o=i.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ps(c):c=Dr(t,c=Ar(n)?Pr:Er.current);var d=n.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof i.getSnapshotBeforeUpdate;u||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(l!==a||o!==c)&&il(t,i,a,c),Rs=!1;var m=t.memoizedState;i.state=m,Hs(t,a,i,r),o=t.memoizedState,l!==a||m!==o||Ir.current||Rs?("function"===typeof d&&(nl(t,n,d,a),o=t.memoizedState),(l=Rs||rl(t,n,l,a,m,o,c))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=o),i.props=a,i.state=o,i.context=c,a=l):("function"===typeof i.componentDidMount&&(t.flags|=4194308),a=!1)}else{i=t.stateNode,Ls(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:tl(t.type,l),i.props=c,u=t.pendingProps,m=i.context,"object"===typeof(o=n.contextType)&&null!==o?o=Ps(o):o=Dr(t,o=Ar(n)?Pr:Er.current);var p=n.getDerivedStateFromProps;(d="function"===typeof p||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(l!==u||m!==o)&&il(t,i,a,o),Rs=!1,m=t.memoizedState,i.state=m,Hs(t,a,i,r);var x=t.memoizedState;l!==u||m!==x||Ir.current||Rs?("function"===typeof p&&(nl(t,n,p,a),x=t.memoizedState),(c=Rs||rl(t,n,c,a,m,x,o)||!1)?(d||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(a,x,o),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(a,x,o)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=x),i.props=a,i.state=x,i.context=o,a=c):("function"!==typeof i.componentDidUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),a=!1)}return _l(e,t,n,a,s,r)}function _l(e,t,n,a,r,s){kl(e,t);var i=0!==(128&t.flags);if(!a&&!i)return r&&Lr(t,n,!1),ql(e,t,s);a=t.stateNode,gl.current=t;var l=i&&"function"!==typeof n.getDerivedStateFromError?null:a.render();return t.flags|=1,null!==e&&i?(t.child=ys(t,e.child,null,s),t.child=ys(t,null,l,s)):vl(e,t,l,s),t.memoizedState=a.state,r&&Lr(t,n,!0),t.child}function El(e){var t=e.stateNode;t.pendingContext?Tr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Tr(0,t.context,!1),Js(e,t.containerInfo)}function Il(e,t,n,a,r){return ps(),xs(r),t.flags|=256,vl(e,t,n,a),t.child}var Pl,Dl,Al,Ol,Tl={dehydrated:null,treeContext:null,retryLane:0};function Rl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fl(e,t,n){var a,r=t.pendingProps,i=Zs.current,l=!1,o=0!==(128&t.flags);if((a=o)||(a=(null===e||null!==e.memoizedState)&&0!==(2&i)),a?(l=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Cr(Zs,1&i),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=r.children,e=r.fallback,l?(r=t.mode,l=t.child,o={mode:"hidden",children:o},0===(1&r)&&null!==l?(l.childLanes=0,l.pendingProps=o):l=Fc(o,r,0,null),e=Rc(e,r,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Rl(n),t.memoizedState=Tl,e):Ll(t,o));if(null!==(i=e.memoizedState)&&null!==(a=i.dehydrated))return function(e,t,n,a,r,i,l){if(n)return 256&t.flags?(t.flags&=-257,Ml(e,t,l,a=cl(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=a.fallback,r=t.mode,a=Fc({mode:"visible",children:a.children},r,0,null),(i=Rc(i,r,l,null)).flags|=2,a.return=t,i.return=t,a.sibling=i,t.child=a,0!==(1&t.mode)&&ys(t,e.child,null,l),t.child.memoizedState=Rl(l),t.memoizedState=Tl,i);if(0===(1&t.mode))return Ml(e,t,l,null);if("$!"===r.data){if(a=r.nextSibling&&r.nextSibling.dataset)var o=a.dgst;return a=o,Ml(e,t,l,a=cl(i=Error(s(419)),a,void 0))}if(o=0!==(l&e.childLanes),bl||o){if(null!==(a=Io)){switch(l&-l){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(a.suspendedLanes|l))?0:r)&&r!==i.retryLane&&(i.retryLane=r,Ts(e,r),nc(a,e,r,-1))}return hc(),Ml(e,t,l,a=cl(Error(s(421))))}return"$?"===r.data?(t.flags|=128,t.child=e.child,t=_c.bind(null,e),r._reactRetry=t,null):(e=i.treeContext,as=cr(r.nextSibling),ns=t,rs=!0,ss=null,null!==e&&($r[Kr++]=Qr,$r[Kr++]=Yr,$r[Kr++]=Jr,Qr=e.id,Yr=e.overflow,Jr=t),t=Ll(t,a.children),t.flags|=4096,t)}(e,t,o,r,a,i,n);if(l){l=r.fallback,o=t.mode,a=(i=e.child).sibling;var c={mode:"hidden",children:r.children};return 0===(1&o)&&t.child!==i?((r=t.child).childLanes=0,r.pendingProps=c,t.deletions=null):(r=Oc(i,c)).subtreeFlags=14680064&i.subtreeFlags,null!==a?l=Oc(a,l):(l=Rc(l,o,n,null)).flags|=2,l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,o=null===(o=e.child.memoizedState)?Rl(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},l.memoizedState=o,l.childLanes=e.childLanes&~n,t.memoizedState=Tl,r}return e=(l=e.child).sibling,r=Oc(l,{mode:"visible",children:r.children}),0===(1&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ll(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ml(e,t,n,a){return null!==a&&xs(a),ys(t,e.child,null,n),(e=Ll(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zl(e,t,n){e.lanes|=t;var a=e.alternate;null!==a&&(a.lanes|=t),Es(e.return,t,n)}function Bl(e,t,n,a,r){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=a,s.tail=n,s.tailMode=r)}function Ul(e,t,n){var a=t.pendingProps,r=a.revealOrder,s=a.tail;if(vl(e,t,a.children,n),0!==(2&(a=Zs.current)))a=1&a|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zl(e,n,t);else if(19===e.tag)zl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Cr(Zs,a),0===(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===ei(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Bl(t,!1,r,n,s);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===ei(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Bl(t,!0,n,null,s);break;case"together":Bl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hl(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ql(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fo|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wl(e,t){if(!rs)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;null!==n;)null!==n.alternate&&(a=n),n=n.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Gl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,a=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,a|=14680064&r.subtreeFlags,a|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,a|=r.subtreeFlags,a|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function Vl(e,t,n){var a=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gl(t),null;case 1:case 17:return Ar(t.type)&&Or(),Gl(t),null;case 3:return a=t.stateNode,Qs(),Sr(Ir),Sr(Er),ni(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),null!==e&&null!==e.child||(us(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ic(ss),ss=null))),Dl(e,t),Gl(t),null;case 5:Xs(t);var r=Ks($s.current);if(n=t.type,null!==e&&null!=t.stateNode)Al(e,t,n,a,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(null===t.stateNode)throw Error(s(166));return Gl(t),null}if(e=Ks(Gs.current),us(t)){a=t.stateNode,n=t.type;var i=t.memoizedProps;switch(a[mr]=t,a[pr]=i,e=0!==(1&t.mode),n){case"dialog":za("cancel",a),za("close",a);break;case"iframe":case"object":case"embed":za("load",a);break;case"video":case"audio":for(r=0;r<Ra.length;r++)za(Ra[r],a);break;case"source":za("error",a);break;case"img":case"image":case"link":za("error",a),za("load",a);break;case"details":za("toggle",a);break;case"input":Q(a,i),za("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!i.multiple},za("invalid",a);break;case"textarea":re(a,i),za("invalid",a)}for(var o in be(n,i),r=null,i)if(i.hasOwnProperty(o)){var c=i[o];"children"===o?"string"===typeof c?a.textContent!==c&&(!0!==i.suppressHydrationWarning&&Xa(a.textContent,c,e),r=["children",c]):"number"===typeof c&&a.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&Xa(a.textContent,c,e),r=["children",""+c]):l.hasOwnProperty(o)&&null!=c&&"onScroll"===o&&za("scroll",a)}switch(n){case"input":V(a),Z(a,i,!0);break;case"textarea":V(a),ie(a);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(a.onclick=Za)}a=r,t.updateQueue=a,null!==a&&(t.flags|=4)}else{o=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=le(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof a.is?e=o.createElement(n,{is:a.is}):(e=o.createElement(n),"select"===n&&(o=e,a.multiple?o.multiple=!0:a.size&&(o.size=a.size))):e=o.createElementNS(e,n),e[mr]=t,e[pr]=a,Pl(e,t,!1,!1),t.stateNode=e;e:{switch(o=ve(n,a),n){case"dialog":za("cancel",e),za("close",e),r=a;break;case"iframe":case"object":case"embed":za("load",e),r=a;break;case"video":case"audio":for(r=0;r<Ra.length;r++)za(Ra[r],e);r=a;break;case"source":za("error",e),r=a;break;case"img":case"image":case"link":za("error",e),za("load",e),r=a;break;case"details":za("toggle",e),r=a;break;case"input":Q(e,a),r=J(e,a),za("invalid",e);break;case"option":default:r=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},r=L({},a,{value:void 0}),za("invalid",e);break;case"textarea":re(e,a),r=ae(e,a),za("invalid",e)}for(i in be(n,r),c=r)if(c.hasOwnProperty(i)){var d=c[i];"style"===i?fe(e,d):"dangerouslySetInnerHTML"===i?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===i?"string"===typeof d?("textarea"!==n||""!==d)&&me(e,d):"number"===typeof d&&me(e,""+d):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(l.hasOwnProperty(i)?null!=d&&"onScroll"===i&&za("scroll",e):null!=d&&v(e,i,d,o))}switch(n){case"input":V(e),Z(e,a,!1);break;case"textarea":V(e),ie(e);break;case"option":null!=a.value&&e.setAttribute("value",""+W(a.value));break;case"select":e.multiple=!!a.multiple,null!=(i=a.value)?ne(e,!!a.multiple,i,!1):null!=a.defaultValue&&ne(e,!!a.multiple,a.defaultValue,!0);break;default:"function"===typeof r.onClick&&(e.onclick=Za)}switch(n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gl(t),null;case 6:if(e&&null!=t.stateNode)Ol(e,t,e.memoizedProps,a);else{if("string"!==typeof a&&null===t.stateNode)throw Error(s(166));if(n=Ks($s.current),Ks(Gs.current),us(t)){if(a=t.stateNode,n=t.memoizedProps,a[mr]=t,(i=a.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Xa(a.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xa(a.nodeValue,n,0!==(1&e.mode))}i&&(t.flags|=4)}else(a=(9===n.nodeType?n:n.ownerDocument).createTextNode(a))[mr]=t,t.stateNode=a}return Gl(t),null;case 13:if(Sr(Zs),a=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(rs&&null!==as&&0!==(1&t.mode)&&0===(128&t.flags))ms(),ps(),t.flags|=98560,i=!1;else if(i=us(t),null!==a&&null!==a.dehydrated){if(null===e){if(!i)throw Error(s(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(s(317));i[mr]=t}else ps(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gl(t),i=!1}else null!==ss&&(ic(ss),ss=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((a=null!==a)!==(null!==e&&null!==e.memoizedState)&&a&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===To&&(To=3):hc())),null!==t.updateQueue&&(t.flags|=4),Gl(t),null);case 4:return Qs(),Dl(e,t),null===e&&Ha(t.stateNode.containerInfo),Gl(t),null;case 10:return _s(t.type._context),Gl(t),null;case 19:if(Sr(Zs),null===(i=t.memoizedState))return Gl(t),null;if(a=0!==(128&t.flags),null===(o=i.rendering))if(a)Wl(i,!1);else{if(0!==To||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=ei(e))){for(t.flags|=128,Wl(i,!1),null!==(a=o.updateQueue)&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=n,n=t.child;null!==n;)e=a,(i=n).flags&=14680066,null===(o=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Cr(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==i.tail&&Ye()>Ho&&(t.flags|=128,a=!0,Wl(i,!1),t.lanes=4194304)}else{if(!a)if(null!==(e=ei(o))){if(t.flags|=128,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!o.alternate&&!rs)return Gl(t),null}else 2*Ye()-i.renderingStartTime>Ho&&1073741824!==n&&(t.flags|=128,a=!0,Wl(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(null!==(n=i.last)?n.sibling=o:t.child=o,i.last=o)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ye(),t.sibling=null,n=Zs.current,Cr(Zs,a?1&n|2:1&n),t):(Gl(t),null);case 22:case 23:return uc(),a=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==a&&(t.flags|=8192),a&&0!==(1&t.mode)?0!==(1073741824&Ao)&&(Gl(t),6&t.subtreeFlags&&(t.flags|=8192)):Gl(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function $l(e,t){switch(ts(t),t.tag){case 1:return Ar(t.type)&&Or(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Qs(),Sr(Ir),Sr(Er),ni(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xs(t),null;case 13:if(Sr(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));ps()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Sr(Zs),null;case 4:return Qs(),null;case 10:return _s(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Pl=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Dl=function(){},Al=function(e,t,n,a){var r=e.memoizedProps;if(r!==a){e=t.stateNode,Ks(Gs.current);var s,i=null;switch(n){case"input":r=J(e,r),a=J(e,a),i=[];break;case"select":r=L({},r,{value:void 0}),a=L({},a,{value:void 0}),i=[];break;case"textarea":r=ae(e,r),a=ae(e,a),i=[];break;default:"function"!==typeof r.onClick&&"function"===typeof a.onClick&&(e.onclick=Za)}for(d in be(n,a),n=null,r)if(!a.hasOwnProperty(d)&&r.hasOwnProperty(d)&&null!=r[d])if("style"===d){var o=r[d];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(l.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in a){var c=a[d];if(o=null!=r?r[d]:void 0,a.hasOwnProperty(d)&&c!==o&&(null!=c||null!=o))if("style"===d)if(o){for(s in o)!o.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&o[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(i||(i=[]),i.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,o=o?o.__html:void 0,null!=c&&o!==c&&(i=i||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(i=i||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(l.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&za("scroll",e),i||o===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}},Ol=function(e,t,n,a){n!==a&&(t.flags|=4)};var Kl=!1,Jl=!1,Ql="function"===typeof WeakSet?WeakSet:Set,Yl=null;function Xl(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(a){kc(e,t,a)}else n.current=null}function Zl(e,t,n){try{n()}catch(a){kc(e,t,a)}}var eo=!1;function to(e,t,n){var a=t.updateQueue;if(null!==(a=null!==a?a.lastEffect:null)){var r=a=a.next;do{if((r.tag&e)===e){var s=r.destroy;r.destroy=void 0,void 0!==s&&Zl(t,n,s)}r=r.next}while(r!==a)}}function no(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var a=n.create;n.destroy=a()}n=n.next}while(n!==t)}}function ao(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ro(e){var t=e.alternate;null!==t&&(e.alternate=null,ro(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[mr],delete t[pr],delete t[hr],delete t[fr],delete t[gr])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function so(e){return 5===e.tag||3===e.tag||4===e.tag}function io(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||so(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function lo(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Za));else if(4!==a&&null!==(e=e.child))for(lo(e,t,n),e=e.sibling;null!==e;)lo(e,t,n),e=e.sibling}function oo(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==a&&null!==(e=e.child))for(oo(e,t,n),e=e.sibling;null!==e;)oo(e,t,n),e=e.sibling}var co=null,uo=!1;function mo(e,t,n){for(n=n.child;null!==n;)po(e,t,n),n=n.sibling}function po(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(rt,n)}catch(l){}switch(n.tag){case 5:Jl||Xl(n,t);case 6:var a=co,r=uo;co=null,mo(e,t,n),uo=r,null!==(co=a)&&(uo?(e=co,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):co.removeChild(n.stateNode));break;case 18:null!==co&&(uo?(e=co,n=n.stateNode,8===e.nodeType?or(e.parentNode,n):1===e.nodeType&&or(e,n),Ht(e)):or(co,n.stateNode));break;case 4:a=co,r=uo,co=n.stateNode.containerInfo,uo=!0,mo(e,t,n),co=a,uo=r;break;case 0:case 11:case 14:case 15:if(!Jl&&(null!==(a=n.updateQueue)&&null!==(a=a.lastEffect))){r=a=a.next;do{var s=r,i=s.destroy;s=s.tag,void 0!==i&&(0!==(2&s)||0!==(4&s))&&Zl(n,t,i),r=r.next}while(r!==a)}mo(e,t,n);break;case 1:if(!Jl&&(Xl(n,t),"function"===typeof(a=n.stateNode).componentWillUnmount))try{a.props=n.memoizedProps,a.state=n.memoizedState,a.componentWillUnmount()}catch(l){kc(n,t,l)}mo(e,t,n);break;case 21:mo(e,t,n);break;case 22:1&n.mode?(Jl=(a=Jl)||null!==n.memoizedState,mo(e,t,n),Jl=a):mo(e,t,n);break;default:mo(e,t,n)}}function xo(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ql),t.forEach((function(t){var a=Ec.bind(null,e,t);n.has(t)||(n.add(t),t.then(a,a))}))}}function ho(e,t){var n=t.deletions;if(null!==n)for(var a=0;a<n.length;a++){var r=n[a];try{var i=e,l=t,o=l;e:for(;null!==o;){switch(o.tag){case 5:co=o.stateNode,uo=!1;break e;case 3:case 4:co=o.stateNode.containerInfo,uo=!0;break e}o=o.return}if(null===co)throw Error(s(160));po(i,l,r),co=null,uo=!1;var c=r.alternate;null!==c&&(c.return=null),r.return=null}catch(d){kc(r,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)fo(t,e),t=t.sibling}function fo(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ho(t,e),go(e),4&a){try{to(3,e,e.return),no(3,e)}catch(f){kc(e,e.return,f)}try{to(5,e,e.return)}catch(f){kc(e,e.return,f)}}break;case 1:ho(t,e),go(e),512&a&&null!==n&&Xl(n,n.return);break;case 5:if(ho(t,e),go(e),512&a&&null!==n&&Xl(n,n.return),32&e.flags){var r=e.stateNode;try{me(r,"")}catch(f){kc(e,e.return,f)}}if(4&a&&null!=(r=e.stateNode)){var i=e.memoizedProps,l=null!==n?n.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===o&&"radio"===i.type&&null!=i.name&&Y(r,i),ve(o,l);var d=ve(o,i);for(l=0;l<c.length;l+=2){var u=c[l],m=c[l+1];"style"===u?fe(r,m):"dangerouslySetInnerHTML"===u?ue(r,m):"children"===u?me(r,m):v(r,u,m,d)}switch(o){case"input":X(r,i);break;case"textarea":se(r,i);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var x=i.value;null!=x?ne(r,!!i.multiple,x,!1):p!==!!i.multiple&&(null!=i.defaultValue?ne(r,!!i.multiple,i.defaultValue,!0):ne(r,!!i.multiple,i.multiple?[]:"",!1))}r[pr]=i}catch(f){kc(e,e.return,f)}}break;case 6:if(ho(t,e),go(e),4&a){if(null===e.stateNode)throw Error(s(162));r=e.stateNode,i=e.memoizedProps;try{r.nodeValue=i}catch(f){kc(e,e.return,f)}}break;case 3:if(ho(t,e),go(e),4&a&&null!==n&&n.memoizedState.isDehydrated)try{Ht(t.containerInfo)}catch(f){kc(e,e.return,f)}break;case 4:default:ho(t,e),go(e);break;case 13:ho(t,e),go(e),8192&(r=e.child).flags&&(i=null!==r.memoizedState,r.stateNode.isHidden=i,!i||null!==r.alternate&&null!==r.alternate.memoizedState||(Uo=Ye())),4&a&&xo(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(Jl=(d=Jl)||u,ho(t,e),Jl=d):ho(t,e),go(e),8192&a){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Yl=e,u=e.child;null!==u;){for(m=Yl=u;null!==Yl;){switch(x=(p=Yl).child,p.tag){case 0:case 11:case 14:case 15:to(4,p,p.return);break;case 1:Xl(p,p.return);var h=p.stateNode;if("function"===typeof h.componentWillUnmount){a=p,n=p.return;try{t=a,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(f){kc(a,n,f)}}break;case 5:Xl(p,p.return);break;case 22:if(null!==p.memoizedState){jo(m);continue}}null!==x?(x.return=p,Yl=x):jo(m)}u=u.sibling}e:for(u=null,m=e;;){if(5===m.tag){if(null===u){u=m;try{r=m.stateNode,d?"function"===typeof(i=r.style).setProperty?i.setProperty("display","none","important"):i.display="none":(o=m.stateNode,l=void 0!==(c=m.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,o.style.display=he("display",l))}catch(f){kc(e,e.return,f)}}}else if(6===m.tag){if(null===u)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(f){kc(e,e.return,f)}}else if((22!==m.tag&&23!==m.tag||null===m.memoizedState||m===e)&&null!==m.child){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;null===m.sibling;){if(null===m.return||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:ho(t,e),go(e),4&a&&xo(e);case 21:}}function go(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(so(n)){var a=n;break e}n=n.return}throw Error(s(160))}switch(a.tag){case 5:var r=a.stateNode;32&a.flags&&(me(r,""),a.flags&=-33),oo(e,io(e),r);break;case 3:case 4:var i=a.stateNode.containerInfo;lo(e,io(e),i);break;default:throw Error(s(161))}}catch(l){kc(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bo(e,t,n){Yl=e,vo(e,t,n)}function vo(e,t,n){for(var a=0!==(1&e.mode);null!==Yl;){var r=Yl,s=r.child;if(22===r.tag&&a){var i=null!==r.memoizedState||Kl;if(!i){var l=r.alternate,o=null!==l&&null!==l.memoizedState||Jl;l=Kl;var c=Jl;if(Kl=i,(Jl=o)&&!c)for(Yl=r;null!==Yl;)o=(i=Yl).child,22===i.tag&&null!==i.memoizedState?wo(r):null!==o?(o.return=i,Yl=o):wo(r);for(;null!==s;)Yl=s,vo(s,t,n),s=s.sibling;Yl=r,Kl=l,Jl=c}yo(e)}else 0!==(8772&r.subtreeFlags)&&null!==s?(s.return=r,Yl=s):yo(e)}}function yo(e){for(;null!==Yl;){var t=Yl;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Jl||no(5,t);break;case 1:var a=t.stateNode;if(4&t.flags&&!Jl)if(null===n)a.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:tl(t.type,n.memoizedProps);a.componentDidUpdate(r,n.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&qs(t,i,a);break;case 3:var l=t.updateQueue;if(null!==l){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}qs(t,l,n)}break;case 5:var o=t.stateNode;if(null===n&&4&t.flags){n=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var m=u.dehydrated;null!==m&&Ht(m)}}}break;default:throw Error(s(163))}Jl||512&t.flags&&ao(t)}catch(p){kc(t,t.return,p)}}if(t===e){Yl=null;break}if(null!==(n=t.sibling)){n.return=t.return,Yl=n;break}Yl=t.return}}function jo(e){for(;null!==Yl;){var t=Yl;if(t===e){Yl=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Yl=n;break}Yl=t.return}}function wo(e){for(;null!==Yl;){var t=Yl;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{no(4,t)}catch(o){kc(t,n,o)}break;case 1:var a=t.stateNode;if("function"===typeof a.componentDidMount){var r=t.return;try{a.componentDidMount()}catch(o){kc(t,r,o)}}var s=t.return;try{ao(t)}catch(o){kc(t,s,o)}break;case 5:var i=t.return;try{ao(t)}catch(o){kc(t,i,o)}}}catch(o){kc(t,t.return,o)}if(t===e){Yl=null;break}var l=t.sibling;if(null!==l){l.return=t.return,Yl=l;break}Yl=t.return}}var No,ko=Math.ceil,So=y.ReactCurrentDispatcher,Co=y.ReactCurrentOwner,_o=y.ReactCurrentBatchConfig,Eo=0,Io=null,Po=null,Do=0,Ao=0,Oo=kr(0),To=0,Ro=null,Fo=0,Lo=0,Mo=0,zo=null,Bo=null,Uo=0,Ho=1/0,qo=null,Wo=!1,Go=null,Vo=null,$o=!1,Ko=null,Jo=0,Qo=0,Yo=null,Xo=-1,Zo=0;function ec(){return 0!==(6&Eo)?Ye():-1!==Xo?Xo:Xo=Ye()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Eo)&&0!==Do?Do&-Do:null!==hs.transition?(0===Zo&&(Zo=ht()),Zo):0!==(e=vt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function nc(e,t,n,a){if(50<Qo)throw Qo=0,Yo=null,Error(s(185));gt(e,n,a),0!==(2&Eo)&&e===Io||(e===Io&&(0===(2&Eo)&&(Lo|=n),4===To&&lc(e,Do)),ac(e,a),1===n&&0===Eo&&0===(1&t.mode)&&(Ho=Ye()+500,zr&&Hr()))}function ac(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,r=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-it(s),l=1<<i,o=r[i];-1===o?0!==(l&n)&&0===(l&a)||(r[i]=pt(l,t)):o<=t&&(e.expiredLanes|=l),s&=~l}}(e,t);var a=mt(e,e===Io?Do:0);if(0===a)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){zr=!0,Ur(e)}(oc.bind(null,e)):Ur(oc.bind(null,e)),ir((function(){0===(6&Eo)&&Hr()})),n=null;else{switch(yt(a)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=at}n=Ic(n,rc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rc(e,t){if(Xo=-1,Zo=0,0!==(6&Eo))throw Error(s(327));var n=e.callbackNode;if(wc()&&e.callbackNode!==n)return null;var a=mt(e,e===Io?Do:0);if(0===a)return null;if(0!==(30&a)||0!==(a&e.expiredLanes)||t)t=fc(e,a);else{t=a;var r=Eo;Eo|=2;var i=xc();for(Io===e&&Do===t||(qo=null,Ho=Ye()+500,mc(e,t));;)try{bc();break}catch(o){pc(e,o)}Cs(),So.current=i,Eo=r,null!==Po?t=0:(Io=null,Do=0,t=To)}if(0!==t){if(2===t&&(0!==(r=xt(e))&&(a=r,t=sc(e,r))),1===t)throw n=Ro,mc(e,0),lc(e,a),ac(e,Ye()),n;if(6===t)lc(e,a);else{if(r=e.current.alternate,0===(30&a)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var a=0;a<n.length;a++){var r=n[a],s=r.getSnapshot;r=r.value;try{if(!la(s(),r))return!1}catch(l){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)&&(2===(t=fc(e,a))&&(0!==(i=xt(e))&&(a=i,t=sc(e,i))),1===t))throw n=Ro,mc(e,0),lc(e,a),ac(e,Ye()),n;switch(e.finishedWork=r,e.finishedLanes=a,t){case 0:case 1:throw Error(s(345));case 2:case 5:jc(e,Bo,qo);break;case 3:if(lc(e,a),(130023424&a)===a&&10<(t=Uo+500-Ye())){if(0!==mt(e,0))break;if(((r=e.suspendedLanes)&a)!==a){ec(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=ar(jc.bind(null,e,Bo,qo),t);break}jc(e,Bo,qo);break;case 4:if(lc(e,a),(4194240&a)===a)break;for(t=e.eventTimes,r=-1;0<a;){var l=31-it(a);i=1<<l,(l=t[l])>r&&(r=l),a&=~i}if(a=r,10<(a=(120>(a=Ye()-a)?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*ko(a/1960))-a)){e.timeoutHandle=ar(jc.bind(null,e,Bo,qo),a);break}jc(e,Bo,qo);break;default:throw Error(s(329))}}}return ac(e,Ye()),e.callbackNode===n?rc.bind(null,e):null}function sc(e,t){var n=zo;return e.current.memoizedState.isDehydrated&&(mc(e,t).flags|=256),2!==(e=fc(e,t))&&(t=Bo,Bo=n,null!==t&&ic(t)),e}function ic(e){null===Bo?Bo=e:Bo.push.apply(Bo,e)}function lc(e,t){for(t&=~Mo,t&=~Lo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),a=1<<n;e[n]=-1,t&=~a}}function oc(e){if(0!==(6&Eo))throw Error(s(327));wc();var t=mt(e,0);if(0===(1&t))return ac(e,Ye()),null;var n=fc(e,t);if(0!==e.tag&&2===n){var a=xt(e);0!==a&&(t=a,n=sc(e,a))}if(1===n)throw n=Ro,mc(e,0),lc(e,t),ac(e,Ye()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jc(e,Bo,qo),ac(e,Ye()),null}function cc(e,t){var n=Eo;Eo|=1;try{return e(t)}finally{0===(Eo=n)&&(Ho=Ye()+500,zr&&Hr())}}function dc(e){null!==Ko&&0===Ko.tag&&0===(6&Eo)&&wc();var t=Eo;Eo|=1;var n=_o.transition,a=vt;try{if(_o.transition=null,vt=1,e)return e()}finally{vt=a,_o.transition=n,0===(6&(Eo=t))&&Hr()}}function uc(){Ao=Oo.current,Sr(Oo)}function mc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,rr(n)),null!==Po)for(n=Po.return;null!==n;){var a=n;switch(ts(a),a.tag){case 1:null!==(a=a.type.childContextTypes)&&void 0!==a&&Or();break;case 3:Qs(),Sr(Ir),Sr(Er),ni();break;case 5:Xs(a);break;case 4:Qs();break;case 13:case 19:Sr(Zs);break;case 10:_s(a.type._context);break;case 22:case 23:uc()}n=n.return}if(Io=e,Po=e=Oc(e.current,null),Do=Ao=t,To=0,Ro=null,Mo=Lo=Fo=0,Bo=zo=null,null!==Ds){for(t=0;t<Ds.length;t++)if(null!==(a=(n=Ds[t]).interleaved)){n.interleaved=null;var r=a.next,s=n.pending;if(null!==s){var i=s.next;s.next=r,a.next=i}n.pending=a}Ds=null}return e}function pc(e,t){for(;;){var n=Po;try{if(Cs(),ai.current=Yi,ci){for(var a=ii.memoizedState;null!==a;){var r=a.queue;null!==r&&(r.pending=null),a=a.next}ci=!1}if(si=0,oi=li=ii=null,di=!1,ui=0,Co.current=null,null===n||null===n.return){To=1,Ro=t,Po=null;break}e:{var i=e,l=n.return,o=n,c=t;if(t=Do,o.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=o,m=u.tag;if(0===(1&u.mode)&&(0===m||11===m||15===m)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var x=hl(l);if(null!==x){x.flags&=-257,fl(x,l,o,0,t),1&x.mode&&xl(i,d,t),c=d;var h=(t=x).updateQueue;if(null===h){var f=new Set;f.add(c),t.updateQueue=f}else h.add(c);break e}if(0===(1&t)){xl(i,d,t),hc();break e}c=Error(s(426))}else if(rs&&1&o.mode){var g=hl(l);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),fl(g,l,o,0,t),xs(ol(c,o));break e}}i=c=ol(c,o),4!==To&&(To=2),null===zo?zo=[i]:zo.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,Us(i,ml(0,c,t));break e;case 1:o=c;var b=i.type,v=i.stateNode;if(0===(128&i.flags)&&("function"===typeof b.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===Vo||!Vo.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t,Us(i,pl(i,o,t));break e}}i=i.return}while(null!==i)}yc(n)}catch(y){t=y,Po===n&&null!==n&&(Po=n=n.return);continue}break}}function xc(){var e=So.current;return So.current=Yi,null===e?Yi:e}function hc(){0!==To&&3!==To&&2!==To||(To=4),null===Io||0===(268435455&Fo)&&0===(268435455&Lo)||lc(Io,Do)}function fc(e,t){var n=Eo;Eo|=2;var a=xc();for(Io===e&&Do===t||(qo=null,mc(e,t));;)try{gc();break}catch(r){pc(e,r)}if(Cs(),Eo=n,So.current=a,null!==Po)throw Error(s(261));return Io=null,Do=0,To}function gc(){for(;null!==Po;)vc(Po)}function bc(){for(;null!==Po&&!Je();)vc(Po)}function vc(e){var t=No(e.alternate,e,Ao);e.memoizedProps=e.pendingProps,null===t?yc(e):Po=t,Co.current=null}function yc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Vl(n,t,Ao)))return void(Po=n)}else{if(null!==(n=$l(n,t)))return n.flags&=32767,void(Po=n);if(null===e)return To=6,void(Po=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Po=t);Po=t=e}while(null!==t);0===To&&(To=5)}function jc(e,t,n){var a=vt,r=_o.transition;try{_o.transition=null,vt=1,function(e,t,n,a){do{wc()}while(null!==Ko);if(0!==(6&Eo))throw Error(s(327));n=e.finishedWork;var r=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-it(n),s=1<<r;t[r]=0,a[r]=-1,e[r]=-1,n&=~s}}(e,i),e===Io&&(Po=Io=null,Do=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||$o||($o=!0,Ic(tt,(function(){return wc(),null}))),i=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||i){i=_o.transition,_o.transition=null;var l=vt;vt=1;var o=Eo;Eo|=4,Co.current=null,function(e,t){if(er=Wt,pa(e=ma())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var a=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(a&&0!==a.rangeCount){n=a.anchorNode;var r=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{n.nodeType,i.nodeType}catch(j){n=null;break e}var l=0,o=-1,c=-1,d=0,u=0,m=e,p=null;t:for(;;){for(var x;m!==n||0!==r&&3!==m.nodeType||(o=l+r),m!==i||0!==a&&3!==m.nodeType||(c=l+a),3===m.nodeType&&(l+=m.nodeValue.length),null!==(x=m.firstChild);)p=m,m=x;for(;;){if(m===e)break t;if(p===n&&++d===r&&(o=l),p===i&&++u===a&&(c=l),null!==(x=m.nextSibling))break;p=(m=p).parentNode}m=x}n=-1===o||-1===c?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(tr={focusedElem:e,selectionRange:n},Wt=!1,Yl=t;null!==Yl;)if(e=(t=Yl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Yl=e;else for(;null!==Yl;){t=Yl;try{var h=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==h){var f=h.memoizedProps,g=h.memoizedState,b=t.stateNode,v=b.getSnapshotBeforeUpdate(t.elementType===t.type?f:tl(t.type,f),g);b.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var y=t.stateNode.containerInfo;1===y.nodeType?y.textContent="":9===y.nodeType&&y.documentElement&&y.removeChild(y.documentElement);break;default:throw Error(s(163))}}catch(j){kc(t,t.return,j)}if(null!==(e=t.sibling)){e.return=t.return,Yl=e;break}Yl=t.return}h=eo,eo=!1}(e,n),fo(n,e),xa(tr),Wt=!!er,tr=er=null,e.current=n,bo(n,e,r),Qe(),Eo=o,vt=l,_o.transition=i}else e.current=n;if($o&&($o=!1,Ko=e,Jo=r),i=e.pendingLanes,0===i&&(Vo=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ac(e,Ye()),null!==t)for(a=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],a(r.value,{componentStack:r.stack,digest:r.digest});if(Wo)throw Wo=!1,e=Go,Go=null,e;0!==(1&Jo)&&0!==e.tag&&wc(),i=e.pendingLanes,0!==(1&i)?e===Yo?Qo++:(Qo=0,Yo=e):Qo=0,Hr()}(e,t,n,a)}finally{_o.transition=r,vt=a}return null}function wc(){if(null!==Ko){var e=yt(Jo),t=_o.transition,n=vt;try{if(_o.transition=null,vt=16>e?16:e,null===Ko)var a=!1;else{if(e=Ko,Ko=null,Jo=0,0!==(6&Eo))throw Error(s(331));var r=Eo;for(Eo|=4,Yl=e.current;null!==Yl;){var i=Yl,l=i.child;if(0!==(16&Yl.flags)){var o=i.deletions;if(null!==o){for(var c=0;c<o.length;c++){var d=o[c];for(Yl=d;null!==Yl;){var u=Yl;switch(u.tag){case 0:case 11:case 15:to(8,u,i)}var m=u.child;if(null!==m)m.return=u,Yl=m;else for(;null!==Yl;){var p=(u=Yl).sibling,x=u.return;if(ro(u),u===d){Yl=null;break}if(null!==p){p.return=x,Yl=p;break}Yl=x}}}var h=i.alternate;if(null!==h){var f=h.child;if(null!==f){h.child=null;do{var g=f.sibling;f.sibling=null,f=g}while(null!==f)}}Yl=i}}if(0!==(2064&i.subtreeFlags)&&null!==l)l.return=i,Yl=l;else e:for(;null!==Yl;){if(0!==(2048&(i=Yl).flags))switch(i.tag){case 0:case 11:case 15:to(9,i,i.return)}var b=i.sibling;if(null!==b){b.return=i.return,Yl=b;break e}Yl=i.return}}var v=e.current;for(Yl=v;null!==Yl;){var y=(l=Yl).child;if(0!==(2064&l.subtreeFlags)&&null!==y)y.return=l,Yl=y;else e:for(l=v;null!==Yl;){if(0!==(2048&(o=Yl).flags))try{switch(o.tag){case 0:case 11:case 15:no(9,o)}}catch(w){kc(o,o.return,w)}if(o===l){Yl=null;break e}var j=o.sibling;if(null!==j){j.return=o.return,Yl=j;break e}Yl=o.return}}if(Eo=r,Hr(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(rt,e)}catch(w){}a=!0}return a}finally{vt=n,_o.transition=t}}return!1}function Nc(e,t,n){e=zs(e,t=ml(0,t=ol(n,t),1),1),t=ec(),null!==e&&(gt(e,1,t),ac(e,t))}function kc(e,t,n){if(3===e.tag)Nc(e,e,n);else for(;null!==t;){if(3===t.tag){Nc(t,e,n);break}if(1===t.tag){var a=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof a.componentDidCatch&&(null===Vo||!Vo.has(a))){t=zs(t,e=pl(t,e=ol(n,e),1),1),e=ec(),null!==t&&(gt(t,1,e),ac(t,e));break}}t=t.return}}function Sc(e,t,n){var a=e.pingCache;null!==a&&a.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Io===e&&(Do&n)===n&&(4===To||3===To&&(130023424&Do)===Do&&500>Ye()-Uo?mc(e,0):Mo|=n),ac(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var n=ec();null!==(e=Ts(e,t))&&(gt(e,t,n),ac(e,n))}function _c(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function Ec(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(s(314))}null!==a&&a.delete(t),Cc(e,n)}function Ic(e,t){return $e(e,t)}function Pc(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dc(e,t,n,a){return new Pc(e,t,n,a)}function Ac(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Dc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Tc(e,t,n,a,r,i){var l=2;if(a=e,"function"===typeof e)Ac(e)&&(l=1);else if("string"===typeof e)l=5;else e:switch(e){case N:return Rc(n.children,r,i,t);case k:l=8,r|=8;break;case S:return(e=Dc(12,n,t,2|r)).elementType=S,e.lanes=i,e;case I:return(e=Dc(13,n,t,r)).elementType=I,e.lanes=i,e;case P:return(e=Dc(19,n,t,r)).elementType=P,e.lanes=i,e;case O:return Fc(n,r,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:l=10;break e;case _:l=9;break e;case E:l=11;break e;case D:l=14;break e;case A:l=16,a=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Dc(l,n,t,r)).elementType=e,t.type=a,t.lanes=i,t}function Rc(e,t,n,a){return(e=Dc(7,e,a,t)).lanes=n,e}function Fc(e,t,n,a){return(e=Dc(22,e,a,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Lc(e,t,n){return(e=Dc(6,e,null,t)).lanes=n,e}function Mc(e,t,n){return(t=Dc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,n,a,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ft(0),this.expirationTimes=ft(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ft(0),this.identifierPrefix=a,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,a,r,s,i,l,o){return e=new zc(e,t,n,l,o),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Dc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:a,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fs(s),e}function Uc(e){if(!e)return _r;e:{if(He(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ar(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Ar(n))return Rr(e,n,t)}return t}function Hc(e,t,n,a,r,s,i,l,o){return(e=Bc(n,a,!0,e,0,s,0,l,o)).context=Uc(null),n=e.current,(s=Ms(a=ec(),r=tc(n))).callback=void 0!==t&&null!==t?t:null,zs(n,s,r),e.current.lanes=r,gt(e,r,a),ac(e,a),e}function qc(e,t,n,a){var r=t.current,s=ec(),i=tc(r);return n=Uc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ms(s,i)).payload={element:e},null!==(a=void 0===a?null:a)&&(t.callback=a),null!==(e=zs(r,t,i))&&(nc(e,r,i,s),Bs(e,r,i)),i}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Vc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}No=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ir.current)bl=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bl=!1,function(e,t,n){switch(t.tag){case 3:El(t),ps();break;case 5:Ys(t);break;case 1:Ar(t.type)&&Fr(t);break;case 4:Js(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,r=t.memoizedProps.value;Cr(ws,a._currentValue),a._currentValue=r;break;case 13:if(null!==(a=t.memoizedState))return null!==a.dehydrated?(Cr(Zs,1&Zs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fl(e,t,n):(Cr(Zs,1&Zs.current),null!==(e=ql(e,t,n))?e.sibling:null);Cr(Zs,1&Zs.current);break;case 19:if(a=0!==(n&t.childLanes),0!==(128&e.flags)){if(a)return Ul(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Cr(Zs,Zs.current),a)break;return null;case 22:case 23:return t.lanes=0,Nl(e,t,n)}return ql(e,t,n)}(e,t,n);bl=0!==(131072&e.flags)}else bl=!1,rs&&0!==(1048576&t.flags)&&Zr(t,Vr,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;Hl(e,t),e=t.pendingProps;var r=Dr(t,Er.current);Is(t,n),r=hi(null,t,a,e,r,n);var i=fi();return t.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ar(a)?(i=!0,Fr(t)):i=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Fs(t),r.updater=al,t.stateNode=r,r._reactInternals=t,ll(t,a,e,n),t=_l(null,t,a,!0,i,n)):(t.tag=0,rs&&i&&es(t),vl(null,t,r,n),t=t.child),t;case 16:a=t.elementType;e:{switch(Hl(e,t),e=t.pendingProps,a=(r=a._init)(a._payload),t.type=a,r=t.tag=function(e){if("function"===typeof e)return Ac(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===E)return 11;if(e===D)return 14}return 2}(a),e=tl(a,e),r){case 0:t=Sl(null,t,a,e,n);break e;case 1:t=Cl(null,t,a,e,n);break e;case 11:t=yl(null,t,a,e,n);break e;case 14:t=jl(null,t,a,tl(a.type,e),n);break e}throw Error(s(306,a,""))}return t;case 0:return a=t.type,r=t.pendingProps,Sl(e,t,a,r=t.elementType===a?r:tl(a,r),n);case 1:return a=t.type,r=t.pendingProps,Cl(e,t,a,r=t.elementType===a?r:tl(a,r),n);case 3:e:{if(El(t),null===e)throw Error(s(387));a=t.pendingProps,r=(i=t.memoizedState).element,Ls(e,t),Hs(t,a,null,n);var l=t.memoizedState;if(a=l.element,i.isDehydrated){if(i={element:a,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Il(e,t,a,n,r=ol(Error(s(423)),t));break e}if(a!==r){t=Il(e,t,a,n,r=ol(Error(s(424)),t));break e}for(as=cr(t.stateNode.containerInfo.firstChild),ns=t,rs=!0,ss=null,n=js(t,null,a,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ps(),a===r){t=ql(e,t,n);break e}vl(e,t,a,n)}t=t.child}return t;case 5:return Ys(t),null===e&&cs(t),a=t.type,r=t.pendingProps,i=null!==e?e.memoizedProps:null,l=r.children,nr(a,r)?l=null:null!==i&&nr(a,i)&&(t.flags|=32),kl(e,t),vl(e,t,l,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Fl(e,t,n);case 4:return Js(t,t.stateNode.containerInfo),a=t.pendingProps,null===e?t.child=ys(t,null,a,n):vl(e,t,a,n),t.child;case 11:return a=t.type,r=t.pendingProps,yl(e,t,a,r=t.elementType===a?r:tl(a,r),n);case 7:return vl(e,t,t.pendingProps,n),t.child;case 8:case 12:return vl(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(a=t.type._context,r=t.pendingProps,i=t.memoizedProps,l=r.value,Cr(ws,a._currentValue),a._currentValue=l,null!==i)if(la(i.value,l)){if(i.children===r.children&&!Ir.current){t=ql(e,t,n);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var o=i.dependencies;if(null!==o){l=i.child;for(var c=o.firstContext;null!==c;){if(c.context===a){if(1===i.tag){(c=Ms(-1,n&-n)).tag=2;var d=i.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=n,null!==(c=i.alternate)&&(c.lanes|=n),Es(i.return,n,t),o.lanes|=n;break}c=c.next}}else if(10===i.tag)l=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(l=i.return))throw Error(s(341));l.lanes|=n,null!==(o=l.alternate)&&(o.lanes|=n),Es(l,n,t),l=i.sibling}else l=i.child;if(null!==l)l.return=i;else for(l=i;null!==l;){if(l===t){l=null;break}if(null!==(i=l.sibling)){i.return=l.return,l=i;break}l=l.return}i=l}vl(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,a=t.pendingProps.children,Is(t,n),a=a(r=Ps(r)),t.flags|=1,vl(e,t,a,n),t.child;case 14:return r=tl(a=t.type,t.pendingProps),jl(e,t,a,r=tl(a.type,r),n);case 15:return wl(e,t,t.type,t.pendingProps,n);case 17:return a=t.type,r=t.pendingProps,r=t.elementType===a?r:tl(a,r),Hl(e,t),t.tag=1,Ar(a)?(e=!0,Fr(t)):e=!1,Is(t,n),sl(t,a,r),ll(t,a,r,n),_l(null,t,a,!0,e,n);case 19:return Ul(e,t,n);case 22:return Nl(e,t,n)}throw Error(s(156,t.tag))};var $c="function"===typeof reportError?reportError:function(e){console.error(e)};function Kc(e){this._internalRoot=e}function Jc(e){this._internalRoot=e}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function Zc(e,t,n,a,r){var s=n._reactRootContainer;if(s){var i=s;if("function"===typeof r){var l=r;r=function(){var e=Wc(i);l.call(e)}}qc(t,i,e,r)}else i=function(e,t,n,a,r){if(r){if("function"===typeof a){var s=a;a=function(){var e=Wc(i);s.call(e)}}var i=Hc(t,a,e,0,null,!1,0,"",Xc);return e._reactRootContainer=i,e[xr]=i.current,Ha(8===e.nodeType?e.parentNode:e),dc(),i}for(;r=e.lastChild;)e.removeChild(r);if("function"===typeof a){var l=a;a=function(){var e=Wc(o);l.call(e)}}var o=Bc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=o,e[xr]=o.current,Ha(8===e.nodeType?e.parentNode:e),dc((function(){qc(t,o,n,a)})),o}(n,t,e,r,a);return Wc(i)}Jc.prototype.render=Kc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));qc(e,t,null,null)},Jc.prototype.unmount=Kc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){qc(null,e,null,null)})),t[xr]=null}},Jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Lt(e)}},jt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(bt(t,1|n),ac(t,Ye()),0===(6&Eo)&&(Ho=Ye()+500,Hr()))}break;case 13:dc((function(){var t=Ts(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Vc(e,1)}},wt=function(e){if(13===e.tag){var t=Ts(e,134217728);if(null!==t)nc(t,e,134217728,ec());Vc(e,134217728)}},Nt=function(e){if(13===e.tag){var t=tc(e),n=Ts(e,t);if(null!==n)nc(n,e,t,ec());Vc(e,t)}},kt=function(){return vt},St=function(e,t){var n=vt;try{return vt=e,t()}finally{vt=n}},we=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var r=jr(a);if(!r)throw Error(s(90));$(a),X(a,r)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ee=cc,Ie=dc;var ed={usingClientEntryPoint:!1,Events:[vr,yr,jr,Ce,_e,cc]},td={findFiberByHostInstance:br,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nd={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ad=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ad.isDisabled&&ad.supportsFiber)try{rt=ad.inject(nd),st=ad}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qc(t))throw Error(s(200));return function(e,t,n){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==a?null:""+a,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Qc(e))throw Error(s(299));var n=!1,a="",r=$c;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(a=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,a,r),e[xr]=t.current,Ha(8===e.nodeType?e.parentNode:e),new Kc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Yc(t))throw Error(s(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qc(e))throw Error(s(405));var a=null!=n&&n.hydratedSources||null,r=!1,i="",l=$c;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onRecoverableError&&(l=n.onRecoverableError)),t=Hc(t,null,e,1,null!=n?n:null,r,0,i,l),e[xr]=t.current,Ha(e),a)for(e=0;e<a.length;e++)r=(r=(n=a[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Jc(t)},t.render=function(e,t,n){if(!Yc(t))throw Error(s(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yc(e))throw Error(s(40));return!!e._reactRootContainer&&(dc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[xr]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,a){if(!Yc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Zc(e,t,n,!1,a)},t.version="18.3.1-next-f1338f8080-20240426"},364:(e,t,n)=>{"use strict";var a=n(771);function r(){}function s(){}s.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,s,i){if(i!==a){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:r};return n.PropTypes=n,n}},593:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(239)},632:(e,t,n)=>{"use strict";e.exports=n(916)},660:(e,t,n)=>{"use strict";e.exports=n(103)},679:(e,t,n)=>{"use strict";e.exports=n(963)},771:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},826:(e,t,n)=>{e.exports=n(364)()},903:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var a=n-1>>>1,r=e[a];if(!(0<s(r,t)))break e;e[a]=t,e[n]=r,n=a}}function a(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var a=0,r=e.length,i=r>>>1;a<i;){var l=2*(a+1)-1,o=e[l],c=l+1,d=e[c];if(0>s(o,n))c<r&&0>s(d,o)?(e[a]=d,e[c]=n,a=c):(e[a]=o,e[l]=n,a=l);else{if(!(c<r&&0>s(d,n)))break e;e[a]=d,e[c]=n,a=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();t.unstable_now=function(){return l.now()-o}}var c=[],d=[],u=1,m=null,p=3,x=!1,h=!1,f=!1,g="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function y(e){for(var t=a(d);null!==t;){if(null===t.callback)r(d);else{if(!(t.startTime<=e))break;r(d),t.sortIndex=t.expirationTime,n(c,t)}t=a(d)}}function j(e){if(f=!1,y(e),!h)if(null!==a(c))h=!0,O(w);else{var t=a(d);null!==t&&T(j,t.startTime-e)}}function w(e,n){h=!1,f&&(f=!1,b(C),C=-1),x=!0;var s=p;try{for(y(n),m=a(c);null!==m&&(!(m.expirationTime>n)||e&&!I());){var i=m.callback;if("function"===typeof i){m.callback=null,p=m.priorityLevel;var l=i(m.expirationTime<=n);n=t.unstable_now(),"function"===typeof l?m.callback=l:m===a(c)&&r(c),y(n)}else r(c);m=a(c)}if(null!==m)var o=!0;else{var u=a(d);null!==u&&T(j,u.startTime-n),o=!1}return o}finally{m=null,p=s,x=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var N,k=!1,S=null,C=-1,_=5,E=-1;function I(){return!(t.unstable_now()-E<_)}function P(){if(null!==S){var e=t.unstable_now();E=e;var n=!0;try{n=S(!0,e)}finally{n?N():(k=!1,S=null)}}else k=!1}if("function"===typeof v)N=function(){v(P)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,A=D.port2;D.port1.onmessage=P,N=function(){A.postMessage(null)}}else N=function(){g(P,0)};function O(e){S=e,k||(k=!0,N())}function T(e,n){C=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){h||x||(h=!0,O(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return a(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,r,s){var i=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?i+s:i:s=i,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:u++,callback:r,priorityLevel:e,startTime:s,expirationTime:l=s+l,sortIndex:-1},s>i?(e.sortIndex=s,n(d,e),null===a(c)&&e===a(d)&&(f?(b(C),C=-1):f=!0,T(j,s-i))):(e.sortIndex=l,n(c,e),h||x||(h=!0,O(w))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},916:(e,t,n)=>{"use strict";var a=n(660),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,l=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var a,s={},c=null,d=null;for(a in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)i.call(t,a)&&!o.hasOwnProperty(a)&&(s[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===s[a]&&(s[a]=t[a]);return{$$typeof:r,type:e,key:c,ref:d,props:s,_owner:l.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},954:(e,t,n)=>{"use strict";var a=n(593);t.createRoot=a.createRoot,t.hydrateRoot=a.hydrateRoot},963:(e,t)=>{"use strict";var n=60103,a=60106,r=60107,s=60108,i=60114,l=60109,o=60110,c=60112,d=60113,u=60120,m=60115,p=60116,x=60121,h=60122,f=60117,g=60129,b=60131;if("function"===typeof Symbol&&Symbol.for){var v=Symbol.for;n=v("react.element"),a=v("react.portal"),r=v("react.fragment"),s=v("react.strict_mode"),i=v("react.profiler"),l=v("react.provider"),o=v("react.context"),c=v("react.forward_ref"),d=v("react.suspense"),u=v("react.suspense_list"),m=v("react.memo"),p=v("react.lazy"),x=v("react.block"),h=v("react.server.block"),f=v("react.fundamental"),g=v("react.debug_trace_mode"),b=v("react.legacy_hidden")}function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case r:case i:case s:case d:case u:return e;default:switch(e=e&&e.$$typeof){case o:case c:case p:case m:case l:return e;default:return t}}case a:return t}}}t.isContextConsumer=function(e){return y(e)===o}}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var s=t[a]={exports:{}};return e[a](s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(a,r){if(1&r&&(a=this(a)),8&r)return a;if("object"===typeof a&&a){if(4&r&&a.__esModule)return a;if(16&r&&"function"===typeof a.then)return a}var s=Object.create(null);n.r(s);var i={};e=e||[null,t({}),t([]),t(t)];for(var l=2&r&&a;"object"==typeof l&&!~e.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach((e=>i[e]=()=>a[e]));return i.default=()=>a,n.d(s,i),s}})(),n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>wa,hasStandardBrowserEnv:()=>ka,hasStandardBrowserWebWorkerEnv:()=>Sa,navigator:()=>Na,origin:()=>Ca});var t,a=n(660),r=n.t(a,2),s=n(954),i=n(593),l=n.t(i,2);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));const c="popstate";function d(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(at){}}}function m(e,t){return{usr:e.state,key:e.key,idx:t}}function p(e,t,n,a){return void 0===n&&(n=null),o({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?h(t):t,{state:n,key:t&&t.key||a||Math.random().toString(36).substr(2,8)})}function x(e){let{pathname:t="/",search:n="",hash:a=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),a&&"#"!==a&&(t+="#"===a.charAt(0)?a:"#"+a),t}function h(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function f(e,n,a,r){void 0===r&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,l=s.history,u=t.Pop,h=null,f=g();function g(){return(l.state||{idx:null}).idx}function b(){u=t.Pop;let e=g(),n=null==e?null:e-f;f=e,h&&h({action:u,location:y.location,delta:n})}function v(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:x(e);return n=n.replace(/ $/,"%20"),d(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==f&&(f=0,l.replaceState(o({},l.state,{idx:f}),""));let y={get action(){return u},get location(){return e(s,l)},listen(e){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(c,b),h=e,()=>{s.removeEventListener(c,b),h=null}},createHref:e=>n(s,e),createURL:v,encodeLocation(e){let t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){u=t.Push;let r=p(y.location,e,n);a&&a(r,e),f=g()+1;let o=m(r,f),c=y.createHref(r);try{l.pushState(o,"",c)}catch(d){if(d instanceof DOMException&&"DataCloneError"===d.name)throw d;s.location.assign(c)}i&&h&&h({action:u,location:y.location,delta:1})},replace:function(e,n){u=t.Replace;let r=p(y.location,e,n);a&&a(r,e),f=g();let s=m(r,f),o=y.createHref(r);l.replaceState(s,"",o),i&&h&&h({action:u,location:y.location,delta:0})},go:e=>l.go(e)};return y}var g;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(g||(g={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function b(e,t,n){return void 0===n&&(n="/"),v(e,t,n,!1)}function v(e,t,n,a){let r=O(("string"===typeof t?h(t):t).pathname||"/",n);if(null==r)return null;let s=y(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(s);let i=null;for(let l=0;null==i&&l<s.length;++l){let e=A(r);i=P(s[l],e,a)}return i}function y(e,t,n,a){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===a&&(a="");let r=(e,r,s)=>{let i={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:r,route:e};i.relativePath.startsWith("/")&&(d(i.relativePath.startsWith(a),'Absolute route path "'+i.relativePath+'" nested under path "'+a+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(a.length));let l=M([a,i.relativePath]),o=n.concat(i);e.children&&e.children.length>0&&(d(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+l+'".'),y(e.children,t,o,l)),(null!=e.path||e.index)&&t.push({path:l,score:I(l,e.index),routesMeta:o})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let a of j(e.path))r(e,t,a);else r(e,t)})),t}function j(e){let t=e.split("/");if(0===t.length)return[];let[n,...a]=t,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===a.length)return r?[s,""]:[s];let i=j(a.join("/")),l=[];return l.push(...i.map((e=>""===e?s:[s,e].join("/")))),r&&l.push(...i),l.map((t=>e.startsWith("/")&&""===t?"/":t))}const w=/^:[\w-]+$/,N=3,k=2,S=1,C=10,_=-2,E=e=>"*"===e;function I(e,t){let n=e.split("/"),a=n.length;return n.some(E)&&(a+=_),t&&(a+=k),n.filter((e=>!E(e))).reduce(((e,t)=>e+(w.test(t)?N:""===t?S:C)),a)}function P(e,t,n){void 0===n&&(n=!1);let{routesMeta:a}=e,r={},s="/",i=[];for(let l=0;l<a.length;++l){let e=a[l],o=l===a.length-1,c="/"===s?t:t.slice(s.length)||"/",d=D({path:e.relativePath,caseSensitive:e.caseSensitive,end:o},c),u=e.route;if(!d&&o&&n&&!a[a.length-1].route.index&&(d=D({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(r,d.params),i.push({params:r,pathname:M([s,d.pathname]),pathnameBase:z(M([s,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(s=M([s,d.pathnameBase]))}return i}function D(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,a]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let a=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(a.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(a.push({paramName:"*"}),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":""!==e&&"/"!==e&&(r+="(?:(?=\\/|$))");let s=new RegExp(r,t?void 0:"i");return[s,a]}(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let s=r[0],i=s.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:a.reduce(((e,t,n)=>{let{paramName:a,isOptional:r}=t;if("*"===a){let e=l[n]||"";i=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const o=l[n];return e[a]=r&&!o?void 0:(o||"").replace(/%2F/g,"/"),e}),{}),pathname:s,pathnameBase:i,pattern:e}}function A(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function O(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=e.charAt(n);return a&&"/"!==a?null:e.slice(n)||"/"}function T(e,t,n,a){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function R(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function F(e,t){let n=R(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function L(e,t,n,a){let r;void 0===a&&(a=!1),"string"===typeof e?r=h(e):(r=o({},e),d(!r.pathname||!r.pathname.includes("?"),T("?","pathname","search",r)),d(!r.pathname||!r.pathname.includes("#"),T("#","pathname","hash",r)),d(!r.search||!r.search.includes("#"),T("#","search","hash",r)));let s,i=""===e||""===r.pathname,l=i?"/":r.pathname;if(null==l)s=n;else{let e=t.length-1;if(!a&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}s=e>=0?t[e]:"/"}let c=function(e,t){void 0===t&&(t="/");let{pathname:n,search:a="",hash:r=""}="string"===typeof e?h(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:B(a),hash:U(r)}}(r,s),u=l&&"/"!==l&&l.endsWith("/"),m=(i||"."===l)&&n.endsWith("/");return c.pathname.endsWith("/")||!u&&!m||(c.pathname+="/"),c}const M=e=>e.join("/").replace(/\/\/+/g,"/"),z=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),B=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",U=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function H(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const q=["post","put","patch","delete"],W=(new Set(q),["get",...q]);new Set(W),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function G(){return G=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},G.apply(this,arguments)}const V=a.createContext(null);const $=a.createContext(null);const K=a.createContext(null);const J=a.createContext(null);const Q=a.createContext({outlet:null,matches:[],isDataRoute:!1});const Y=a.createContext(null);function X(){return null!=a.useContext(J)}function Z(){return X()||d(!1),a.useContext(J).location}function ee(e){a.useContext(K).static||a.useLayoutEffect(e)}function te(){let{isDataRoute:e}=a.useContext(Q);return e?function(){let{router:e}=me(de.UseNavigateStable),t=xe(ue.UseNavigateStable),n=a.useRef(!1);return ee((()=>{n.current=!0})),a.useCallback((function(a,r){void 0===r&&(r={}),n.current&&("number"===typeof a?e.navigate(a):e.navigate(a,G({fromRouteId:t},r)))}),[e,t])}():function(){X()||d(!1);let e=a.useContext(V),{basename:t,future:n,navigator:r}=a.useContext(K),{matches:s}=a.useContext(Q),{pathname:i}=Z(),l=JSON.stringify(F(s,n.v7_relativeSplatPath)),o=a.useRef(!1);return ee((()=>{o.current=!0})),a.useCallback((function(n,a){if(void 0===a&&(a={}),!o.current)return;if("number"===typeof n)return void r.go(n);let s=L(n,JSON.parse(l),i,"path"===a.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:M([t,s.pathname])),(a.replace?r.replace:r.push)(s,a.state,a)}),[t,r,l,i,e])}()}function ne(){let{matches:e}=a.useContext(Q),t=e[e.length-1];return t?t.params:{}}function ae(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=a.useContext(K),{matches:s}=a.useContext(Q),{pathname:i}=Z(),l=JSON.stringify(F(s,r.v7_relativeSplatPath));return a.useMemo((()=>L(e,JSON.parse(l),i,"path"===n)),[e,l,i,n])}function re(e,n,r,s){X()||d(!1);let{navigator:i}=a.useContext(K),{matches:l}=a.useContext(Q),o=l[l.length-1],c=o?o.params:{},u=(o&&o.pathname,o?o.pathnameBase:"/");o&&o.route;let m,p=Z();if(n){var x;let e="string"===typeof n?h(n):n;"/"===u||(null==(x=e.pathname)?void 0:x.startsWith(u))||d(!1),m=e}else m=p;let f=m.pathname||"/",g=f;if("/"!==u){let e=u.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(e.length).join("/")}let v=b(e,{pathname:g});let y=ce(v&&v.map((e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:M([u,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:M([u,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),l,r,s);return n&&y?a.createElement(J.Provider,{value:{location:G({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:t.Pop}},y):y}function se(){let e=function(){var e;let t=a.useContext(Y),n=pe(ue.UseRouteError),r=xe(ue.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=H(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r};return a.createElement(a.Fragment,null,a.createElement("h2",null,"Unexpected Application Error!"),a.createElement("h3",{style:{fontStyle:"italic"}},t),n?a.createElement("pre",{style:s},n):null,null)}const ie=a.createElement(se,null);class le extends a.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?a.createElement(Q.Provider,{value:this.props.routeContext},a.createElement(Y.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oe(e){let{routeContext:t,match:n,children:r}=e,s=a.useContext(V);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),a.createElement(Q.Provider,{value:t},r)}function ce(e,t,n,r){var s;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var i;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(i=r)&&i.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let l=e,o=null==(s=n)?void 0:s.errors;if(null!=o){let e=l.findIndex((e=>e.route.id&&void 0!==(null==o?void 0:o[e.route.id])));e>=0||d(!1),l=l.slice(0,Math.min(l.length,e+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let a=0;a<l.length;a++){let e=l[a];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=a),e.route.id){let{loaderData:t,errors:a}=n,r=e.route.loader&&void 0===t[e.route.id]&&(!a||void 0===a[e.route.id]);if(e.route.lazy||r){c=!0,l=u>=0?l.slice(0,u+1):[l[0]];break}}}return l.reduceRight(((e,r,s)=>{let i,d=!1,m=null,p=null;var x;n&&(i=o&&r.route.id?o[r.route.id]:void 0,m=r.route.errorElement||ie,c&&(u<0&&0===s?(x="route-fallback",!1||he[x]||(he[x]=!0),d=!0,p=null):u===s&&(d=!0,p=r.route.hydrateFallbackElement||null)));let h=t.concat(l.slice(0,s+1)),f=()=>{let t;return t=i?m:d?p:r.route.Component?a.createElement(r.route.Component,null):r.route.element?r.route.element:e,a.createElement(oe,{match:r,routeContext:{outlet:e,matches:h,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===s)?a.createElement(le,{location:n.location,revalidation:n.revalidation,component:m,error:i,children:f(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):f()}),null)}var de=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(de||{}),ue=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ue||{});function me(e){let t=a.useContext(V);return t||d(!1),t}function pe(e){let t=a.useContext($);return t||d(!1),t}function xe(e){let t=function(){let e=a.useContext(Q);return e||d(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||d(!1),n.route.id}const he={};function fe(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}r.startTransition;function ge(e){d(!1)}function be(e){let{basename:n="/",children:r=null,location:s,navigationType:i=t.Pop,navigator:l,static:o=!1,future:c}=e;X()&&d(!1);let u=n.replace(/^\/*/,"/"),m=a.useMemo((()=>({basename:u,navigator:l,static:o,future:G({v7_relativeSplatPath:!1},c)})),[u,c,l,o]);"string"===typeof s&&(s=h(s));let{pathname:p="/",search:x="",hash:f="",state:g=null,key:b="default"}=s,v=a.useMemo((()=>{let e=O(p,u);return null==e?null:{location:{pathname:e,search:x,hash:f,state:g,key:b},navigationType:i}}),[u,p,x,f,g,b,i]);return null==v?null:a.createElement(K.Provider,{value:m},a.createElement(J.Provider,{children:r,value:v}))}function ve(e){let{children:t,location:n}=e;return re(ye(t),n)}new Promise((()=>{}));a.Component;function ye(e,t){void 0===t&&(t=[]);let n=[];return a.Children.forEach(e,((e,r)=>{if(!a.isValidElement(e))return;let s=[...t,r];if(e.type===a.Fragment)return void n.push.apply(n,ye(e.props.children,s));e.type!==ge&&d(!1),e.props.index&&e.props.children&&d(!1);let i={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=ye(e.props.children,s)),n.push(i)})),n}function je(){return je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},je.apply(this,arguments)}function we(e,t){if(null==e)return{};var n,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}function Ne(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce(((t,n)=>{let a=e[n];return t.concat(Array.isArray(a)?a.map((e=>[n,e])):[[n,a]])}),[]))}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const ke=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(at){}new Map;const Se=r.startTransition;l.flushSync,r.useId;function Ce(e){let{basename:t,children:n,future:r,window:s}=e,i=a.useRef();var l;null==i.current&&(i.current=(void 0===(l={window:s,v5Compat:!0})&&(l={}),f((function(e,t){let{pathname:n,search:a,hash:r}=e.location;return p("",{pathname:n,search:a,hash:r},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:x(t)}),null,l)));let o=i.current,[c,d]=a.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},m=a.useCallback((e=>{u&&Se?Se((()=>d(e))):d(e)}),[d,u]);return a.useLayoutEffect((()=>o.listen(m)),[o,m]),a.useEffect((()=>fe(r)),[r]),a.createElement(be,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:o,future:r})}const _e="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ee=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ie=a.forwardRef((function(e,t){let n,{onClick:r,relative:s,reloadDocument:i,replace:l,state:o,target:c,to:u,preventScrollReset:m,viewTransition:p}=e,h=we(e,ke),{basename:f}=a.useContext(K),g=!1;if("string"===typeof u&&Ee.test(u)&&(n=u,_e))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=O(t.pathname,f);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:g=!0}catch(at){}let b=function(e,t){let{relative:n}=void 0===t?{}:t;X()||d(!1);let{basename:r,navigator:s}=a.useContext(K),{hash:i,pathname:l,search:o}=ae(e,{relative:n}),c=l;return"/"!==r&&(c="/"===l?r:M([r,l])),s.createHref({pathname:c,search:o,hash:i})}(u,{relative:s}),v=function(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:l,viewTransition:o}=void 0===t?{}:t,c=te(),d=Z(),u=ae(e,{relative:l});return a.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:x(d)===x(u);c(e,{replace:n,state:s,preventScrollReset:i,relative:l,viewTransition:o})}}),[d,c,u,r,s,n,e,i,l,o])}(u,{replace:l,state:o,target:c,preventScrollReset:m,relative:s,viewTransition:p});return a.createElement("a",je({},h,{href:n||b,onClick:g||i?r:function(e){r&&r(e),e.defaultPrevented||v(e)},ref:t,target:c}))}));var Pe,De;function Ae(e){let t=a.useRef(Ne(e)),n=a.useRef(!1),r=Z(),s=a.useMemo((()=>function(e,t){let n=Ne(e);return t&&t.forEach(((e,a)=>{n.has(a)||t.getAll(a).forEach((e=>{n.append(a,e)}))})),n}(r.search,n.current?null:t.current)),[r.search]),i=te(),l=a.useCallback(((e,t)=>{const a=Ne("function"===typeof e?e(s):e);n.current=!0,i("?"+a,t)}),[i,s]);return[s,l]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Pe||(Pe={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(De||(De={}));function Oe(e){return Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oe(e)}function Te(e){var t=function(e,t){if("object"!=Oe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=Oe(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Oe(t)?t:t+""}function Re(e,t,n){return(t=Te(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(n),!0).forEach((function(t){Re(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Me(e,t){if(null==e)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;n[a]=e[a]}return n}function ze(e,t){if(null==e)return{};var n,a,r=Me(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Be={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Ue=["color","size","strokeWidth","absoluteStrokeWidth","children"],He=(e,t)=>{const n=(0,a.forwardRef)(((n,r)=>{let{color:s="currentColor",size:i=24,strokeWidth:l=2,absoluteStrokeWidth:o,children:c}=n,d=ze(n,Ue);return(0,a.createElement)("svg",Le(Le({ref:r},Be),{},{width:i,height:i,stroke:s,strokeWidth:o?24*Number(l)/Number(i):l,className:"lucide lucide-".concat((u=e,u.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()))},d),[...t.map((e=>{let[t,n]=e;return(0,a.createElement)(t,n)})),...(Array.isArray(c)?c:[c])||[]]);var u}));return n.displayName="".concat(e),n},qe=He("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),We=He("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Ge=He("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Ve=He("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),$e=He("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Ke=He("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),Je=He("BrainCircuit",[["path",{d:"M12 4.5a2.5 2.5 0 0 0-4.96-.46 2.5 2.5 0 0 0-1.98 3 2.5 2.5 0 0 0-1.32 4.24 3 3 0 0 0 .34 5.58 2.5 2.5 0 0 0 2.96 3.08 2.5 2.5 0 0 0 4.91.05L12 20V4.5Z",key:"ixwj2a"}],["path",{d:"M16 8V5c0-1.1.9-2 2-2",key:"13dx7u"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M20.5 8a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z",key:"1s25gz"}],["path",{d:"M16.5 13a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z",key:"127460"}],["path",{d:"M20.5 21a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z",key:"fys062"}],["path",{d:"M18.5 3a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z",key:"1vib61"}]]);var Qe=n(632);const Ye=e=>{let{children:t}=e;const n=Z(),a=[{name:"Dashboard",href:"/dashboard",icon:qe},{name:"Models",href:"/models",icon:We},{name:"All Accounts",href:"/accounts",icon:Ge},{name:"Content Registry",href:"/content",icon:Ve},{name:"Analytics",href:"/analytics",icon:$e},{name:"iPhone Settings",href:"/iphones",icon:Ke},{name:"AI Settings",href:"/settings",icon:Je}],r=e=>n.pathname===e||n.pathname.startsWith(e+"/");return(0,Qe.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Qe.jsxs)("div",{className:"fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg",children:[(0,Qe.jsx)("div",{className:"flex h-16 items-center px-6 border-b border-gray-200",children:(0,Qe.jsxs)("div",{className:"flex items-center",children:[(0,Qe.jsx)("img",{src:"/logo.png",alt:"NoduNet Logo",className:"h-8 w-8 object-contain"}),(0,Qe.jsx)("span",{className:"ml-3 text-xl font-bold text-gray-900",children:"NoduNet - Marketing"})]})}),(0,Qe.jsx)("nav",{className:"mt-8 px-4",children:(0,Qe.jsx)("ul",{className:"space-y-2",children:a.map((e=>{const t=e.icon;return(0,Qe.jsx)("li",{children:(0,Qe.jsxs)(Ie,{to:e.href,className:"group flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ".concat(r(e.href)?"bg-primary-100 text-primary-700":"text-gray-700 hover:bg-gray-100"),children:[(0,Qe.jsx)(t,{className:"mr-3 h-5 w-5 ".concat(r(e.href)?"text-primary-500":"text-gray-400 group-hover:text-gray-500")}),e.name]})},e.name)}))})})]}),(0,Qe.jsx)("div",{className:"pl-64",children:(0,Qe.jsx)("main",{className:"min-h-screen",children:t})})]})},Xe=He("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Ze=He("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),et=He("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),tt=He("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);function nt(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}let at={data:""},rt=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||at,st=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,it=/\/\*[^]*?\*\/|  +/g,lt=/\n+/g,ot=(e,t)=>{let n="",a="",r="";for(let s in e){let i=e[s];"@"==s[0]?"i"==s[1]?n=s+" "+i+";":a+="f"==s[1]?ot(i,s):s+"{"+ot(i,"k"==s[1]?"":t)+"}":"object"==typeof i?a+=ot(i,t?t.replace(/([^,])+/g,(e=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,(t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)))):s):null!=i&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),r+=ot.p?ot.p(s,i):s+":"+i+";")}return n+(t&&r?t+"{"+r+"}":r)+a},ct={},dt=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+dt(e[n]);return t}return e},ut=(e,t,n,a,r)=>{let s=dt(e),i=ct[s]||(ct[s]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(s));if(!ct[i]){let t=s!==e?e:(e=>{let t,n,a=[{}];for(;t=st.exec(e.replace(it,""));)t[4]?a.shift():t[3]?(n=t[3].replace(lt," ").trim(),a.unshift(a[0][n]=a[0][n]||{})):a[0][t[1]]=t[2].replace(lt," ").trim();return a[0]})(e);ct[i]=ot(r?{["@keyframes "+i]:t}:t,n?"":"."+i)}let l=n&&ct.g?ct.g:null;return n&&(ct.g=ct[i]),((e,t,n,a)=>{a?t.data=t.data.replace(a,e):-1===t.data.indexOf(e)&&(t.data=n?e+t.data:t.data+e)})(ct[i],t,a,l),i};function mt(e){let t=this||{},n=e.call?e(t.p):e;return ut(n.unshift?n.raw?((e,t,n)=>e.reduce(((e,a,r)=>{let s=t[r];if(s&&s.call){let e=s(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;s=t?"."+t:e&&"object"==typeof e?e.props?"":ot(e,""):!1===e?"":e}return e+a+(null==s?"":s)}),""))(n,[].slice.call(arguments,1),t.p):n.reduce(((e,n)=>Object.assign(e,n&&n.call?n(t.p):n)),{}):n,rt(t.target),t.g,t.o,t.k)}mt.bind({g:1});let pt,xt,ht,ft=mt.bind({k:1});function gt(e,t){let n=this||{};return function(){let a=arguments;function r(s,i){let l=Object.assign({},s),o=l.className||r.className;n.p=Object.assign({theme:xt&&xt()},l),n.o=/ *go\d+/.test(o),l.className=mt.apply(n,a)+(o?" "+o:""),t&&(l.ref=i);let c=e;return e[0]&&(c=l.as||e,delete l.as),ht&&c[0]&&ht(l),pt(c,l)}return t?t(r):r}}var bt,vt,yt,jt,wt,Nt,kt,St,Ct,_t,Et,It,Pt,Dt,At,Ot,Tt=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,Rt=(()=>{let e=0;return()=>(++e).toString()})(),Ft=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Lt=(e,t)=>{switch(t.type){case 0:return Le(Le({},e),{},{toasts:[t.toast,...e.toasts].slice(0,20)});case 1:return Le(Le({},e),{},{toasts:e.toasts.map((e=>e.id===t.toast.id?Le(Le({},e),t.toast):e))});case 2:let{toast:n}=t;return Lt(e,{type:e.toasts.find((e=>e.id===n.id))?1:0,toast:n});case 3:let{toastId:a}=t;return Le(Le({},e),{},{toasts:e.toasts.map((e=>e.id===a||void 0===a?Le(Le({},e),{},{dismissed:!0,visible:!1}):e))});case 4:return void 0===t.toastId?Le(Le({},e),{},{toasts:[]}):Le(Le({},e),{},{toasts:e.toasts.filter((e=>e.id!==t.toastId))});case 5:return Le(Le({},e),{},{pausedAt:t.time});case 6:let r=t.time-(e.pausedAt||0);return Le(Le({},e),{},{pausedAt:void 0,toasts:e.toasts.map((e=>Le(Le({},e),{},{pauseDuration:e.pauseDuration+r})))})}},Mt=[],zt={toasts:[],pausedAt:void 0},Bt=e=>{zt=Lt(zt,e),Mt.forEach((e=>{e(zt)}))},Ut={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Ht=e=>(t,n)=>{let a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",n=arguments.length>2?arguments[2]:void 0;return Le(Le({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},n),{},{id:(null==n?void 0:n.id)||Rt()})}(t,e,n);return Bt({type:2,toast:a}),a.id},qt=(e,t)=>Ht("blank")(e,t);qt.error=Ht("error"),qt.success=Ht("success"),qt.loading=Ht("loading"),qt.custom=Ht("custom"),qt.dismiss=e=>{Bt({type:3,toastId:e})},qt.remove=e=>Bt({type:4,toastId:e}),qt.promise=(e,t,n)=>{let a=qt.loading(t.loading,Le(Le({},n),null==n?void 0:n.loading));return"function"==typeof e&&(e=e()),e.then((e=>{let r=t.success?Tt(t.success,e):void 0;return r?qt.success(r,Le(Le({id:a},n),null==n?void 0:n.success)):qt.dismiss(a),e})).catch((e=>{let r=t.error?Tt(t.error,e):void 0;r?qt.error(r,Le(Le({id:a},n),null==n?void 0:n.error)):qt.dismiss(a)})),e};var Wt=(e,t)=>{Bt({type:1,toast:{id:e,height:t}})},Gt=()=>{Bt({type:5,time:Date.now()})},Vt=new Map,$t=e=>{let{toasts:t,pausedAt:n}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[t,n]=(0,a.useState)(zt),r=(0,a.useRef)(zt);(0,a.useEffect)((()=>(r.current!==zt&&n(zt),Mt.push(n),()=>{let e=Mt.indexOf(n);e>-1&&Mt.splice(e,1)})),[]);let s=t.toasts.map((t=>{var n,a,r;return Le(Le(Le(Le({},e),e[t.type]),t),{},{removeDelay:t.removeDelay||(null==(n=e[t.type])?void 0:n.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(a=e[t.type])?void 0:a.duration)||(null==e?void 0:e.duration)||Ut[t.type],style:Le(Le(Le({},e.style),null==(r=e[t.type])?void 0:r.style),t.style)})}));return Le(Le({},t),{},{toasts:s})}(e);(0,a.useEffect)((()=>{if(n)return;let e=Date.now(),a=t.map((t=>{if(t.duration===1/0)return;let n=(t.duration||0)+t.pauseDuration-(e-t.createdAt);if(!(n<0))return setTimeout((()=>qt.dismiss(t.id)),n);t.visible&&qt.dismiss(t.id)}));return()=>{a.forEach((e=>e&&clearTimeout(e)))}}),[t,n]);let r=(0,a.useCallback)((()=>{n&&Bt({type:6,time:Date.now()})}),[n]),s=(0,a.useCallback)(((e,n)=>{let{reverseOrder:a=!1,gutter:r=8,defaultPosition:s}=n||{},i=t.filter((t=>(t.position||s)===(e.position||s)&&t.height)),l=i.findIndex((t=>t.id===e.id)),o=i.filter(((e,t)=>t<l&&e.visible)).length;return i.filter((e=>e.visible)).slice(...a?[o+1]:[0,o]).reduce(((e,t)=>e+(t.height||0)+r),0)}),[t]);return(0,a.useEffect)((()=>{t.forEach((e=>{if(e.dismissed)!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(Vt.has(e))return;let n=setTimeout((()=>{Vt.delete(e),Bt({type:4,toastId:e})}),t);Vt.set(e,n)}(e.id,e.removeDelay);else{let t=Vt.get(e.id);t&&(clearTimeout(t),Vt.delete(e.id))}}))}),[t]),{toasts:t,handlers:{updateHeight:Wt,startPause:Gt,endPause:r,calculateOffset:s}}},Kt=ft(bt||(bt=nt(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]))),Jt=ft(vt||(vt=nt(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),Qt=ft(yt||(yt=nt(["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"]))),Yt=gt("div")(jt||(jt=nt(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"])),(e=>e.primary||"#ff4b4b"),Kt,Jt,(e=>e.secondary||"#fff"),Qt),Xt=ft(wt||(wt=nt(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),Zt=gt("div")(Nt||(Nt=nt(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"])),(e=>e.secondary||"#e0e0e0"),(e=>e.primary||"#616161"),Xt),en=ft(kt||(kt=nt(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"]))),tn=ft(St||(St=nt(["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]))),nn=gt("div")(Ct||(Ct=nt(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"])),(e=>e.primary||"#61d345"),en,tn,(e=>e.secondary||"#fff")),an=gt("div")(_t||(_t=nt(["\n  position: absolute;\n"]))),rn=gt("div")(Et||(Et=nt(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]))),sn=ft(It||(It=nt(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),ln=gt("div")(Pt||(Pt=nt(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"])),sn),on=e=>{let{toast:t}=e,{icon:n,type:r,iconTheme:s}=t;return void 0!==n?"string"==typeof n?a.createElement(ln,null,n):n:"blank"===r?null:a.createElement(rn,null,a.createElement(Zt,Le({},s)),"loading"!==r&&a.createElement(an,null,"error"===r?a.createElement(Yt,Le({},s)):a.createElement(nn,Le({},s))))},cn=e=>"\n0% {transform: translate3d(0,".concat(-200*e,"%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n"),dn=e=>"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,".concat(-150*e,"%,-1px) scale(.6); opacity:0;}\n"),un=gt("div")(Dt||(Dt=nt(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]))),mn=gt("div")(At||(At=nt(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"]))),pn=a.memo((e=>{let{toast:t,position:n,style:r,children:s}=e,i=t.height?((e,t)=>{let n=e.includes("top")?1:-1,[a,r]=Ft()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[cn(n),dn(n)];return{animation:t?"".concat(ft(a)," 0.35s cubic-bezier(.21,1.02,.73,1) forwards"):"".concat(ft(r)," 0.4s forwards cubic-bezier(.06,.71,.55,1)")}})(t.position||n||"top-center",t.visible):{opacity:0},l=a.createElement(on,{toast:t}),o=a.createElement(mn,Le({},t.ariaProps),Tt(t.message,t));return a.createElement(un,{className:t.className,style:Le(Le(Le({},i),r),t.style)},"function"==typeof s?s({icon:l,message:o}):a.createElement(a.Fragment,null,l,o))}));!function(e,t,n,a){ot.p=t,pt=e,xt=n,ht=a}(a.createElement);var xn=e=>{let{id:t,className:n,style:r,onHeightUpdate:s,children:i}=e,l=a.useCallback((e=>{if(e){let n=()=>{let n=e.getBoundingClientRect().height;s(t,n)};n(),new MutationObserver(n).observe(e,{subtree:!0,childList:!0,characterData:!0})}}),[t,s]);return a.createElement("div",{ref:l,className:n,style:r},i)},hn=mt(Ot||(Ot=nt(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"]))),fn=e=>{let{reverseOrder:t,position:n="top-center",toastOptions:r,gutter:s,children:i,containerStyle:l,containerClassName:o}=e,{toasts:c,handlers:d}=$t(r);return a.createElement("div",{id:"_rht_toaster",style:Le({position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none"},l),className:o,onMouseEnter:d.startPause,onMouseLeave:d.endPause},c.map((e=>{let r=e.position||n,l=((e,t)=>{let n=e.includes("top"),a=n?{top:0}:{bottom:0},r=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return Le(Le({left:0,right:0,display:"flex",position:"absolute",transition:Ft()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:"translateY(".concat(t*(n?1:-1),"px)")},a),r)})(r,d.calculateOffset(e,{reverseOrder:t,gutter:s,defaultPosition:n}));return a.createElement(xn,{id:e.id,key:e.id,onHeightUpdate:d.updateHeight,className:e.visible?hn:"",style:l},"custom"===e.type?Tt(e.message,e):i?i(e):a.createElement(pn,{toast:e,position:r}))})))},gn=qt;function bn(e,t){return function(){return e.apply(t,arguments)}}const{toString:vn}=Object.prototype,{getPrototypeOf:yn}=Object,{iterator:jn,toStringTag:wn}=Symbol,Nn=(kn=Object.create(null),e=>{const t=vn.call(e);return kn[t]||(kn[t]=t.slice(8,-1).toLowerCase())});var kn;const Sn=e=>(e=e.toLowerCase(),t=>Nn(t)===e),Cn=e=>t=>typeof t===e,{isArray:_n}=Array,En=Cn("undefined");const In=Sn("ArrayBuffer");const Pn=Cn("string"),Dn=Cn("function"),An=Cn("number"),On=e=>null!==e&&"object"===typeof e,Tn=e=>{if("object"!==Nn(e))return!1;const t=yn(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(wn in e)&&!(jn in e)},Rn=Sn("Date"),Fn=Sn("File"),Ln=Sn("Blob"),Mn=Sn("FileList"),zn=Sn("URLSearchParams"),[Bn,Un,Hn,qn]=["ReadableStream","Request","Response","Headers"].map(Sn);function Wn(e,t){let n,a,{allOwnKeys:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),_n(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{const a=r?Object.getOwnPropertyNames(e):Object.keys(e),s=a.length;let i;for(n=0;n<s;n++)i=a[n],t.call(null,e[i],i,e)}}function Gn(e,t){t=t.toLowerCase();const n=Object.keys(e);let a,r=n.length;for(;r-- >0;)if(a=n[r],t===a.toLowerCase())return a;return null}const Vn="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,$n=e=>!En(e)&&e!==Vn;const Kn=(Jn="undefined"!==typeof Uint8Array&&yn(Uint8Array),e=>Jn&&e instanceof Jn);var Jn;const Qn=Sn("HTMLFormElement"),Yn=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),Xn=Sn("RegExp"),Zn=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),a={};Wn(n,((n,r)=>{let s;!1!==(s=t(n,r,e))&&(a[r]=s||n)})),Object.defineProperties(e,a)};const ea=Sn("AsyncFunction"),ta=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),a=[],Vn.addEventListener("message",(e=>{let{source:t,data:r}=e;t===Vn&&r===n&&a.length&&a.shift()()}),!1),e=>{a.push(e),Vn.postMessage(n,"*")}):e=>setTimeout(e);var n,a})("function"===typeof setImmediate,Dn(Vn.postMessage)),na="undefined"!==typeof queueMicrotask?queueMicrotask.bind(Vn):"undefined"!==typeof process&&process.nextTick||ta,aa={isArray:_n,isArrayBuffer:In,isBuffer:function(e){return null!==e&&!En(e)&&null!==e.constructor&&!En(e.constructor)&&Dn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Dn(e.append)&&("formdata"===(t=Nn(e))||"object"===t&&Dn(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&In(e.buffer),t},isString:Pn,isNumber:An,isBoolean:e=>!0===e||!1===e,isObject:On,isPlainObject:Tn,isReadableStream:Bn,isRequest:Un,isResponse:Hn,isHeaders:qn,isUndefined:En,isDate:Rn,isFile:Fn,isBlob:Ln,isRegExp:Xn,isFunction:Dn,isStream:e=>On(e)&&Dn(e.pipe),isURLSearchParams:zn,isTypedArray:Kn,isFileList:Mn,forEach:Wn,merge:function e(){const{caseless:t}=$n(this)&&this||{},n={},a=(a,r)=>{const s=t&&Gn(n,r)||r;Tn(n[s])&&Tn(a)?n[s]=e(n[s],a):Tn(a)?n[s]=e({},a):_n(a)?n[s]=a.slice():n[s]=a};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&Wn(arguments[r],a);return n},extend:function(e,t,n){let{allOwnKeys:a}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Wn(t,((t,a)=>{n&&Dn(t)?e[a]=bn(t,n):e[a]=t}),{allOwnKeys:a}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,a)=>{let r,s,i;const l={};if(t=t||{},null==e)return t;do{for(r=Object.getOwnPropertyNames(e),s=r.length;s-- >0;)i=r[s],a&&!a(i,e,t)||l[i]||(t[i]=e[i],l[i]=!0);e=!1!==n&&yn(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Nn,kindOfTest:Sn,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const a=e.indexOf(t,n);return-1!==a&&a===n},toArray:e=>{if(!e)return null;if(_n(e))return e;let t=e.length;if(!An(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[jn]).call(e);let a;for(;(a=n.next())&&!a.done;){const n=a.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const a=[];for(;null!==(n=e.exec(t));)a.push(n);return a},isHTMLForm:Qn,hasOwnProperty:Yn,hasOwnProp:Yn,reduceDescriptors:Zn,freezeMethods:e=>{Zn(e,((t,n)=>{if(Dn(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const a=e[n];Dn(a)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},a=e=>{e.forEach((e=>{n[e]=!0}))};return _n(e)?a(e):a(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:Gn,global:Vn,isContextDefined:$n,isSpecCompliantForm:function(e){return!!(e&&Dn(e.append)&&"FormData"===e[wn]&&e[jn])},toJSONObject:e=>{const t=new Array(10),n=(e,a)=>{if(On(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[a]=e;const r=_n(e)?[]:{};return Wn(e,((e,t)=>{const s=n(e,a+1);!En(s)&&(r[t]=s)})),t[a]=void 0,r}}return e};return n(e,0)},isAsyncFn:ea,isThenable:e=>e&&(On(e)||Dn(e))&&Dn(e.then)&&Dn(e.catch),setImmediate:ta,asap:na,isIterable:e=>null!=e&&Dn(e[jn])};function ra(e,t,n,a,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),a&&(this.request=a),r&&(this.response=r,this.status=r.status?r.status:null)}aa.inherits(ra,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:aa.toJSONObject(this.config),code:this.code,status:this.status}}});const sa=ra.prototype,ia={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{ia[e]={value:e}})),Object.defineProperties(ra,ia),Object.defineProperty(sa,"isAxiosError",{value:!0}),ra.from=(e,t,n,a,r,s)=>{const i=Object.create(sa);return aa.toFlatObject(e,i,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),ra.call(i,e.message,t,n,a,r),i.cause=e,i.name=e.name,s&&Object.assign(i,s),i};const la=ra;function oa(e){return aa.isPlainObject(e)||aa.isArray(e)}function ca(e){return aa.endsWith(e,"[]")?e.slice(0,-2):e}function da(e,t,n){return e?e.concat(t).map((function(e,t){return e=ca(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const ua=aa.toFlatObject(aa,{},null,(function(e){return/^is[A-Z]/.test(e)}));const ma=function(e,t,n){if(!aa.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const a=(n=aa.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!aa.isUndefined(t[e])}))).metaTokens,r=n.visitor||c,s=n.dots,i=n.indexes,l=(n.Blob||"undefined"!==typeof Blob&&Blob)&&aa.isSpecCompliantForm(t);if(!aa.isFunction(r))throw new TypeError("visitor must be a function");function o(e){if(null===e)return"";if(aa.isDate(e))return e.toISOString();if(!l&&aa.isBlob(e))throw new la("Blob is not supported. Use a Buffer instead.");return aa.isArrayBuffer(e)||aa.isTypedArray(e)?l&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,r){let l=e;if(e&&!r&&"object"===typeof e)if(aa.endsWith(n,"{}"))n=a?n:n.slice(0,-2),e=JSON.stringify(e);else if(aa.isArray(e)&&function(e){return aa.isArray(e)&&!e.some(oa)}(e)||(aa.isFileList(e)||aa.endsWith(n,"[]"))&&(l=aa.toArray(e)))return n=ca(n),l.forEach((function(e,a){!aa.isUndefined(e)&&null!==e&&t.append(!0===i?da([n],a,s):null===i?n:n+"[]",o(e))})),!1;return!!oa(e)||(t.append(da(r,n,s),o(e)),!1)}const d=[],u=Object.assign(ua,{defaultVisitor:c,convertValue:o,isVisitable:oa});if(!aa.isObject(e))throw new TypeError("data must be an object");return function e(n,a){if(!aa.isUndefined(n)){if(-1!==d.indexOf(n))throw Error("Circular reference detected in "+a.join("."));d.push(n),aa.forEach(n,(function(n,s){!0===(!(aa.isUndefined(n)||null===n)&&r.call(t,n,aa.isString(s)?s.trim():s,a,u))&&e(n,a?a.concat(s):[s])})),d.pop()}}(e),t};function pa(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function xa(e,t){this._pairs=[],e&&ma(e,this,t)}const ha=xa.prototype;ha.append=function(e,t){this._pairs.push([e,t])},ha.toString=function(e){const t=e?function(t){return e.call(this,t,pa)}:pa;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const fa=xa;function ga(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ba(e,t,n){if(!t)return e;const a=n&&n.encode||ga;aa.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let s;if(s=r?r(t,n):aa.isURLSearchParams(t)?t.toString():new fa(t,n).toString(a),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}const va=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){aa.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},ya={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ja={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:fa,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},wa="undefined"!==typeof window&&"undefined"!==typeof document,Na="object"===typeof navigator&&navigator||void 0,ka=wa&&(!Na||["ReactNative","NativeScript","NS"].indexOf(Na.product)<0),Sa="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Ca=wa&&window.location.href||"http://localhost",_a=Le(Le({},e),ja);const Ea=function(e){function t(e,n,a,r){let s=e[r++];if("__proto__"===s)return!0;const i=Number.isFinite(+s),l=r>=e.length;if(s=!s&&aa.isArray(a)?a.length:s,l)return aa.hasOwnProp(a,s)?a[s]=[a[s],n]:a[s]=n,!i;a[s]&&aa.isObject(a[s])||(a[s]=[]);return t(e,n,a[s],r)&&aa.isArray(a[s])&&(a[s]=function(e){const t={},n=Object.keys(e);let a;const r=n.length;let s;for(a=0;a<r;a++)s=n[a],t[s]=e[s];return t}(a[s])),!i}if(aa.isFormData(e)&&aa.isFunction(e.entries)){const n={};return aa.forEachEntry(e,((e,a)=>{t(function(e){return aa.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),a,n,0)})),n}return null};const Ia={transitional:ya,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",a=n.indexOf("application/json")>-1,r=aa.isObject(e);r&&aa.isHTMLForm(e)&&(e=new FormData(e));if(aa.isFormData(e))return a?JSON.stringify(Ea(e)):e;if(aa.isArrayBuffer(e)||aa.isBuffer(e)||aa.isStream(e)||aa.isFile(e)||aa.isBlob(e)||aa.isReadableStream(e))return e;if(aa.isArrayBufferView(e))return e.buffer;if(aa.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(r){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return ma(e,new _a.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,a){return _a.isNode&&aa.isBuffer(e)?(this.append(t,e.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=aa.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return ma(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return r||a?(t.setContentType("application/json",!1),function(e,t,n){if(aa.isString(e))try{return(t||JSON.parse)(e),aa.trim(e)}catch(at){if("SyntaxError"!==at.name)throw at}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Ia.transitional,n=t&&t.forcedJSONParsing,a="json"===this.responseType;if(aa.isResponse(e)||aa.isReadableStream(e))return e;if(e&&aa.isString(e)&&(n&&!this.responseType||a)){const n=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(at){if(n){if("SyntaxError"===at.name)throw la.from(at,la.ERR_BAD_RESPONSE,this,null,this.response);throw at}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:_a.classes.FormData,Blob:_a.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};aa.forEach(["delete","get","head","post","put","patch"],(e=>{Ia.headers[e]={}}));const Pa=Ia,Da=aa.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Aa=Symbol("internals");function Oa(e){return e&&String(e).trim().toLowerCase()}function Ta(e){return!1===e||null==e?e:aa.isArray(e)?e.map(Ta):String(e)}function Ra(e,t,n,a,r){return aa.isFunction(a)?a.call(this,t,n):(r&&(t=n),aa.isString(t)?aa.isString(a)?-1!==t.indexOf(a):aa.isRegExp(a)?a.test(t):void 0:void 0)}class Fa{constructor(e){e&&this.set(e)}set(e,t,n){const a=this;function r(e,t,n){const r=Oa(t);if(!r)throw new Error("header name must be a non-empty string");const s=aa.findKey(a,r);(!s||void 0===a[s]||!0===n||void 0===n&&!1!==a[s])&&(a[s||t]=Ta(e))}const s=(e,t)=>aa.forEach(e,((e,n)=>r(e,n,t)));if(aa.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(aa.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))s((e=>{const t={};let n,a,r;return e&&e.split("\n").forEach((function(e){r=e.indexOf(":"),n=e.substring(0,r).trim().toLowerCase(),a=e.substring(r+1).trim(),!n||t[n]&&Da[n]||("set-cookie"===n?t[n]?t[n].push(a):t[n]=[a]:t[n]=t[n]?t[n]+", "+a:a)})),t})(e),t);else if(aa.isObject(e)&&aa.isIterable(e)){let n,a,r={};for(const t of e){if(!aa.isArray(t))throw TypeError("Object iterator must return a key-value pair");r[a=t[0]]=(n=r[a])?aa.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}s(r,t)}else null!=e&&r(t,e,n);return this}get(e,t){if(e=Oa(e)){const n=aa.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=n.exec(e);)t[a[1]]=a[2];return t}(e);if(aa.isFunction(t))return t.call(this,e,n);if(aa.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Oa(e)){const n=aa.findKey(this,e);return!(!n||void 0===this[n]||t&&!Ra(0,this[n],n,t))}return!1}delete(e,t){const n=this;let a=!1;function r(e){if(e=Oa(e)){const r=aa.findKey(n,e);!r||t&&!Ra(0,n[r],r,t)||(delete n[r],a=!0)}}return aa.isArray(e)?e.forEach(r):r(e),a}clear(e){const t=Object.keys(this);let n=t.length,a=!1;for(;n--;){const r=t[n];e&&!Ra(0,this[r],r,e,!0)||(delete this[r],a=!0)}return a}normalize(e){const t=this,n={};return aa.forEach(this,((a,r)=>{const s=aa.findKey(n,r);if(s)return t[s]=Ta(a),void delete t[r];const i=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(r):String(r).trim();i!==r&&delete t[r],t[i]=Ta(a),n[i]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return aa.forEach(this,((n,a)=>{null!=n&&!1!==n&&(t[a]=e&&aa.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];return a.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[Aa]=this[Aa]={accessors:{}}).accessors,n=this.prototype;function a(e){const a=Oa(e);t[a]||(!function(e,t){const n=aa.toCamelCase(" "+t);["get","set","has"].forEach((a=>{Object.defineProperty(e,a+n,{value:function(e,n,r){return this[a].call(this,t,e,n,r)},configurable:!0})}))}(n,e),t[a]=!0)}return aa.isArray(e)?e.forEach(a):a(e),this}}Fa.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),aa.reduceDescriptors(Fa.prototype,((e,t)=>{let{value:n}=e,a=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[a]=e}}})),aa.freezeMethods(Fa);const La=Fa;function Ma(e,t){const n=this||Pa,a=t||n,r=La.from(a.headers);let s=a.data;return aa.forEach(e,(function(e){s=e.call(n,s,r.normalize(),t?t.status:void 0)})),r.normalize(),s}function za(e){return!(!e||!e.__CANCEL__)}function Ba(e,t,n){la.call(this,null==e?"canceled":e,la.ERR_CANCELED,t,n),this.name="CanceledError"}aa.inherits(Ba,la,{__CANCEL__:!0});const Ua=Ba;function Ha(e,t,n){const a=n.config.validateStatus;n.status&&a&&!a(n.status)?t(new la("Request failed with status code "+n.status,[la.ERR_BAD_REQUEST,la.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const qa=function(e,t){e=e||10;const n=new Array(e),a=new Array(e);let r,s=0,i=0;return t=void 0!==t?t:1e3,function(l){const o=Date.now(),c=a[i];r||(r=o),n[s]=l,a[s]=o;let d=i,u=0;for(;d!==s;)u+=n[d++],d%=e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),o-r<t)return;const m=c&&o-c;return m?Math.round(1e3*u/m):void 0}};const Wa=function(e,t){let n,a,r=0,s=1e3/t;const i=function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();r=s,n=null,a&&(clearTimeout(a),a=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-r;for(var l=arguments.length,o=new Array(l),c=0;c<l;c++)o[c]=arguments[c];t>=s?i(o,e):(n=o,a||(a=setTimeout((()=>{a=null,i(n)}),s-t)))},()=>n&&i(n)]},Ga=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,a=0;const r=qa(50,250);return Wa((n=>{const s=n.loaded,i=n.lengthComputable?n.total:void 0,l=s-a,o=r(l);a=s;e({loaded:s,total:i,progress:i?s/i:void 0,bytes:l,rate:o||void 0,estimated:o&&i&&s<=i?(i-s)/o:void 0,event:n,lengthComputable:null!=i,[t?"download":"upload"]:!0})}),n)},Va=(e,t)=>{const n=null!=e;return[a=>t[0]({lengthComputable:n,total:e,loaded:a}),t[1]]},$a=e=>function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return aa.asap((()=>e(...n)))},Ka=_a.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,_a.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(_a.origin),_a.navigator&&/(msie|trident)/i.test(_a.navigator.userAgent)):()=>!0,Ja=_a.hasStandardBrowserEnv?{write(e,t,n,a,r,s){const i=[e+"="+encodeURIComponent(t)];aa.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),aa.isString(a)&&i.push("path="+a),aa.isString(r)&&i.push("domain="+r),!0===s&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Qa(e,t,n){let a=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(a||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Ya=e=>e instanceof La?Le({},e):e;function Xa(e,t){t=t||{};const n={};function a(e,t,n,a){return aa.isPlainObject(e)&&aa.isPlainObject(t)?aa.merge.call({caseless:a},e,t):aa.isPlainObject(t)?aa.merge({},t):aa.isArray(t)?t.slice():t}function r(e,t,n,r){return aa.isUndefined(t)?aa.isUndefined(e)?void 0:a(void 0,e,0,r):a(e,t,0,r)}function s(e,t){if(!aa.isUndefined(t))return a(void 0,t)}function i(e,t){return aa.isUndefined(t)?aa.isUndefined(e)?void 0:a(void 0,e):a(void 0,t)}function l(n,r,s){return s in t?a(n,r):s in e?a(void 0,n):void 0}const o={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(e,t,n)=>r(Ya(e),Ya(t),0,!0)};return aa.forEach(Object.keys(Object.assign({},e,t)),(function(a){const s=o[a]||r,i=s(e[a],t[a],a);aa.isUndefined(i)&&s!==l||(n[a]=i)})),n}const Za=e=>{const t=Xa({},e);let n,{data:a,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:l,auth:o}=t;if(t.headers=l=La.from(l),t.url=ba(Qa(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&l.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),aa.isFormData(a))if(_a.hasStandardBrowserEnv||_a.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(!1!==(n=l.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];l.setContentType([e||"multipart/form-data",...t].join("; "))}if(_a.hasStandardBrowserEnv&&(r&&aa.isFunction(r)&&(r=r(t)),r||!1!==r&&Ka(t.url))){const e=s&&i&&Ja.read(i);e&&l.set(s,e)}return t},er="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const a=Za(e);let r=a.data;const s=La.from(a.headers).normalize();let i,l,o,c,d,{responseType:u,onUploadProgress:m,onDownloadProgress:p}=a;function x(){c&&c(),d&&d(),a.cancelToken&&a.cancelToken.unsubscribe(i),a.signal&&a.signal.removeEventListener("abort",i)}let h=new XMLHttpRequest;function f(){if(!h)return;const a=La.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders());Ha((function(e){t(e),x()}),(function(e){n(e),x()}),{data:u&&"text"!==u&&"json"!==u?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:a,config:e,request:h}),h=null}h.open(a.method.toUpperCase(),a.url,!0),h.timeout=a.timeout,"onloadend"in h?h.onloadend=f:h.onreadystatechange=function(){h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))&&setTimeout(f)},h.onabort=function(){h&&(n(new la("Request aborted",la.ECONNABORTED,e,h)),h=null)},h.onerror=function(){n(new la("Network Error",la.ERR_NETWORK,e,h)),h=null},h.ontimeout=function(){let t=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const r=a.transitional||ya;a.timeoutErrorMessage&&(t=a.timeoutErrorMessage),n(new la(t,r.clarifyTimeoutError?la.ETIMEDOUT:la.ECONNABORTED,e,h)),h=null},void 0===r&&s.setContentType(null),"setRequestHeader"in h&&aa.forEach(s.toJSON(),(function(e,t){h.setRequestHeader(t,e)})),aa.isUndefined(a.withCredentials)||(h.withCredentials=!!a.withCredentials),u&&"json"!==u&&(h.responseType=a.responseType),p&&([o,d]=Ga(p,!0),h.addEventListener("progress",o)),m&&h.upload&&([l,c]=Ga(m),h.upload.addEventListener("progress",l),h.upload.addEventListener("loadend",c)),(a.cancelToken||a.signal)&&(i=t=>{h&&(n(!t||t.type?new Ua(null,e,h):t),h.abort(),h=null)},a.cancelToken&&a.cancelToken.subscribe(i),a.signal&&(a.signal.aborted?i():a.signal.addEventListener("abort",i)));const g=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(a.url);g&&-1===_a.protocols.indexOf(g)?n(new la("Unsupported protocol "+g+":",la.ERR_BAD_REQUEST,e)):h.send(r||null)}))},tr=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,a=new AbortController;const r=function(e){if(!n){n=!0,i();const t=e instanceof Error?e:this.reason;a.abort(t instanceof la?t:new Ua(t instanceof Error?t.message:t))}};let s=t&&setTimeout((()=>{s=null,r(new la("timeout ".concat(t," of ms exceeded"),la.ETIMEDOUT))}),t);const i=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(r):e.removeEventListener("abort",r)})),e=null)};e.forEach((e=>e.addEventListener("abort",r)));const{signal:l}=a;return l.unsubscribe=()=>aa.asap(i),l}};function nr(e,t){this.v=e,this.k=t}function ar(e){return function(){return new rr(e.apply(this,arguments))}}function rr(e){var t,n;function a(t,n){try{var s=e[t](n),i=s.value,l=i instanceof nr;Promise.resolve(l?i.v:i).then((function(n){if(l){var o="return"===t?"return":"next";if(!i.k||n.done)return a(o,n);n=e[o](n).value}r(s.done?"return":"normal",n)}),(function(e){a("throw",e)}))}catch(e){r("throw",e)}}function r(e,r){switch(e){case"return":t.resolve({value:r,done:!0});break;case"throw":t.reject(r);break;default:t.resolve({value:r,done:!1})}(t=t.next)?a(t.key,t.arg):n=null}this._invoke=function(e,r){return new Promise((function(s,i){var l={key:e,arg:r,resolve:s,reject:i,next:null};n?n=n.next=l:(t=n=l,a(e,r))}))},"function"!=typeof e.return&&(this.return=void 0)}function sr(e){return new nr(e,0)}function ir(e){var t={},n=!1;function a(t,a){return n=!0,a=new Promise((function(n){n(e[t](a))})),{done:!1,value:new nr(a,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):a("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return a("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):a("return",e)}),t}function lr(e){var t,n,a,r=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,a=Symbol.iterator);r--;){if(n&&null!=(t=e[n]))return t.call(e);if(a&&null!=(t=e[a]))return new or(t.call(e));n="@@asyncIterator",a="@@iterator"}throw new TypeError("Object is not async iterable")}function or(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return or=function(e){this.s=e,this.n=e.next},or.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new or(e)}rr.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},rr.prototype.next=function(e){return this._invoke("next",e)},rr.prototype.throw=function(e){return this._invoke("throw",e)},rr.prototype.return=function(e){return this._invoke("return",e)};const cr=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let a,r=0;for(;r<n;)a=r+t,yield e.slice(r,a),r=a},dr=function(){var e=ar((function*(e,t){var n,a=!1,r=!1;try{for(var s,i=lr(ur(e));a=!(s=yield sr(i.next())).done;a=!1){const e=s.value;yield*ir(lr(cr(e,t)))}}catch(l){r=!0,n=l}finally{try{a&&null!=i.return&&(yield sr(i.return()))}finally{if(r)throw n}}}));return function(t,n){return e.apply(this,arguments)}}(),ur=function(){var e=ar((function*(e){if(e[Symbol.asyncIterator])return void(yield*ir(lr(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield sr(t.read());if(e)break;yield n}}finally{yield sr(t.cancel())}}));return function(t){return e.apply(this,arguments)}}(),mr=(e,t,n,a)=>{const r=dr(e,t);let s,i=0,l=e=>{s||(s=!0,a&&a(e))};return new ReadableStream({async pull(e){try{const{done:t,value:a}=await r.next();if(t)return l(),void e.close();let s=a.byteLength;if(n){let e=i+=s;n(e)}e.enqueue(new Uint8Array(a))}catch(t){throw l(t),t}},cancel:e=>(l(e),r.return())},{highWaterMark:2})},pr="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,xr=pr&&"function"===typeof ReadableStream,hr=pr&&("function"===typeof TextEncoder?(fr=new TextEncoder,e=>fr.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var fr;const gr=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return!!e(...n)}catch(at){return!1}},br=xr&&gr((()=>{let e=!1;const t=new Request(_a.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),vr=xr&&gr((()=>aa.isReadableStream(new Response("").body))),yr={stream:vr&&(e=>e.body)};var jr;pr&&(jr=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!yr[e]&&(yr[e]=aa.isFunction(jr[e])?t=>t[e]():(t,n)=>{throw new la("Response type '".concat(e,"' is not supported"),la.ERR_NOT_SUPPORT,n)})})));const wr=async(e,t)=>{const n=aa.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(aa.isBlob(e))return e.size;if(aa.isSpecCompliantForm(e)){const t=new Request(_a.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return aa.isArrayBufferView(e)||aa.isArrayBuffer(e)?e.byteLength:(aa.isURLSearchParams(e)&&(e+=""),aa.isString(e)?(await hr(e)).byteLength:void 0)})(t):n},Nr=pr&&(async e=>{let{url:t,method:n,data:a,signal:r,cancelToken:s,timeout:i,onDownloadProgress:l,onUploadProgress:o,responseType:c,headers:d,withCredentials:u="same-origin",fetchOptions:m}=Za(e);c=c?(c+"").toLowerCase():"text";let p,x=tr([r,s&&s.toAbortSignal()],i);const h=x&&x.unsubscribe&&(()=>{x.unsubscribe()});let f;try{if(o&&br&&"get"!==n&&"head"!==n&&0!==(f=await wr(d,a))){let e,n=new Request(t,{method:"POST",body:a,duplex:"half"});if(aa.isFormData(a)&&(e=n.headers.get("content-type"))&&d.setContentType(e),n.body){const[e,t]=Va(f,Ga($a(o)));a=mr(n.body,65536,e,t)}}aa.isString(u)||(u=u?"include":"omit");const r="credentials"in Request.prototype;p=new Request(t,Le(Le({},m),{},{signal:x,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:a,duplex:"half",credentials:r?u:void 0}));let s=await fetch(p);const i=vr&&("stream"===c||"response"===c);if(vr&&(l||i&&h)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=s[t]}));const t=aa.toFiniteNumber(s.headers.get("content-length")),[n,a]=l&&Va(t,Ga($a(l),!0))||[];s=new Response(mr(s.body,65536,n,(()=>{a&&a(),h&&h()})),e)}c=c||"text";let g=await yr[aa.findKey(yr,c)||"text"](s,e);return!i&&h&&h(),await new Promise(((t,n)=>{Ha(t,n,{data:g,headers:La.from(s.headers),status:s.status,statusText:s.statusText,config:e,request:p})}))}catch(g){if(h&&h(),g&&"TypeError"===g.name&&/Load failed|fetch/i.test(g.message))throw Object.assign(new la("Network Error",la.ERR_NETWORK,e,p),{cause:g.cause||g});throw la.from(g,g&&g.code,e,p)}}),kr={http:null,xhr:er,fetch:Nr};aa.forEach(kr,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(at){}Object.defineProperty(e,"adapterName",{value:t})}}));const Sr=e=>"- ".concat(e),Cr=e=>aa.isFunction(e)||null===e||!1===e,_r=e=>{e=aa.isArray(e)?e:[e];const{length:t}=e;let n,a;const r={};for(let s=0;s<t;s++){let t;if(n=e[s],a=n,!Cr(n)&&(a=kr[(t=String(n)).toLowerCase()],void 0===a))throw new la("Unknown adapter '".concat(t,"'"));if(a)break;r[t||"#"+s]=a}if(!a){const e=Object.entries(r).map((e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(Sr).join("\n"):" "+Sr(e[0]):"as no adapter specified";throw new la("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return a};function Er(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ua(null,e)}function Ir(e){Er(e),e.headers=La.from(e.headers),e.data=Ma.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return _r(e.adapter||Pa.adapter)(e).then((function(t){return Er(e),t.data=Ma.call(e,e.transformResponse,t),t.headers=La.from(t.headers),t}),(function(t){return za(t)||(Er(e),t&&t.response&&(t.response.data=Ma.call(e,e.transformResponse,t.response),t.response.headers=La.from(t.response.headers))),Promise.reject(t)}))}const Pr="1.9.0",Dr={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{Dr[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const Ar={};Dr.transitional=function(e,t,n){function a(e,t){return"[Axios v1.9.0] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,r,s)=>{if(!1===e)throw new la(a(r," has been removed"+(t?" in "+t:"")),la.ERR_DEPRECATED);return t&&!Ar[r]&&(Ar[r]=!0,console.warn(a(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,s)}},Dr.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const Or={assertOptions:function(e,t,n){if("object"!==typeof e)throw new la("options must be an object",la.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let r=a.length;for(;r-- >0;){const s=a[r],i=t[s];if(i){const t=e[s],n=void 0===t||i(t,s,e);if(!0!==n)throw new la("option "+s+" must be "+n,la.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new la("Unknown option "+s,la.ERR_BAD_OPTION)}},validators:Dr},Tr=Or.validators;class Rr{constructor(e){this.defaults=e||{},this.interceptors={request:new va,response:new va}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(at){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Xa(this.defaults,t);const{transitional:n,paramsSerializer:a,headers:r}=t;void 0!==n&&Or.assertOptions(n,{silentJSONParsing:Tr.transitional(Tr.boolean),forcedJSONParsing:Tr.transitional(Tr.boolean),clarifyTimeoutError:Tr.transitional(Tr.boolean)},!1),null!=a&&(aa.isFunction(a)?t.paramsSerializer={serialize:a}:Or.assertOptions(a,{encode:Tr.function,serialize:Tr.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Or.assertOptions(t,{baseUrl:Tr.spelling("baseURL"),withXsrfToken:Tr.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=r&&aa.merge(r.common,r[t.method]);r&&aa.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete r[e]})),t.headers=La.concat(s,r);const i=[];let l=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(l=l&&e.synchronous,i.unshift(e.fulfilled,e.rejected))}));const o=[];let c;this.interceptors.response.forEach((function(e){o.push(e.fulfilled,e.rejected)}));let d,u=0;if(!l){const e=[Ir.bind(this),void 0];for(e.unshift.apply(e,i),e.push.apply(e,o),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=i.length;let m=t;for(u=0;u<d;){const e=i[u++],t=i[u++];try{m=e(m)}catch(p){t.call(this,p);break}}try{c=Ir.call(this,m)}catch(p){return Promise.reject(p)}for(u=0,d=o.length;u<d;)c=c.then(o[u++],o[u++]);return c}getUri(e){return ba(Qa((e=Xa(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}aa.forEach(["delete","get","head","options"],(function(e){Rr.prototype[e]=function(t,n){return this.request(Xa(n||{},{method:e,url:t,data:(n||{}).data}))}})),aa.forEach(["post","put","patch"],(function(e){function t(t){return function(n,a,r){return this.request(Xa(r||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:a}))}}Rr.prototype[e]=t(),Rr.prototype[e+"Form"]=t(!0)}));const Fr=Rr;class Lr{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const a=new Promise((e=>{n.subscribe(e),t=e})).then(e);return a.cancel=function(){n.unsubscribe(t)},a},e((function(e,a,r){n.reason||(n.reason=new Ua(e,a,r),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;const t=new Lr((function(t){e=t}));return{token:t,cancel:e}}}const Mr=Lr;const zr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(zr).forEach((e=>{let[t,n]=e;zr[n]=t}));const Br=zr;const Ur=function e(t){const n=new Fr(t),a=bn(Fr.prototype.request,n);return aa.extend(a,Fr.prototype,n,{allOwnKeys:!0}),aa.extend(a,n,null,{allOwnKeys:!0}),a.create=function(n){return e(Xa(t,n))},a}(Pa);Ur.Axios=Fr,Ur.CanceledError=Ua,Ur.CancelToken=Mr,Ur.isCancel=za,Ur.VERSION=Pr,Ur.toFormData=ma,Ur.AxiosError=la,Ur.Cancel=Ur.CanceledError,Ur.all=function(e){return Promise.all(e)},Ur.spread=function(e){return function(t){return e.apply(null,t)}},Ur.isAxiosError=function(e){return aa.isObject(e)&&!0===e.isAxiosError},Ur.mergeConfig=Xa,Ur.AxiosHeaders=La,Ur.formToJSON=e=>Ea(aa.isHTMLForm(e)?new FormData(e):e),Ur.getAdapter=_r,Ur.HttpStatusCode=Br,Ur.default=Ur;const Hr=Ur,qr={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"/api";const Wr=new class{constructor(){this.client=void 0,this.client=Hr.create({baseURL:qr,timeout:3e4,headers:{"Content-Type":"application/json"}}),this.client.interceptors.request.use((e=>{var t;return console.log("API Request: ".concat(null===(t=e.method)||void 0===t?void 0:t.toUpperCase()," ").concat(e.url)),e}),(e=>(console.error("API Request Error:",e),Promise.reject(e)))),this.client.interceptors.response.use((e=>e),(e=>{var t;return console.error("API Response Error:",(null===(t=e.response)||void 0===t?void 0:t.data)||e.message),Promise.reject(this.formatError(e))}))}formatError(e){var t;return null!==(t=e.response)&&void 0!==t&&t.data?e.response.data:{error:"Network Error",message:e.message||"An unexpected error occurred"}}async healthCheck(){return(await this.client.get("/health")).data}async getModels(){return(await this.client.get("/models")).data.data}async getModel(e){return(await this.client.get("/models/".concat(e))).data.data}async createModel(e){return(await this.client.post("/models",e)).data.data}async updateModel(e,t){return(await this.client.put("/models/".concat(e),t)).data.data}async deleteModel(e){return(await this.client.delete("/models/".concat(e))).data}async getAccounts(e){var t,n,a,r;const s=new URLSearchParams;e&&Object.entries(e).forEach((e=>{let[t,n]=e;void 0!==n&&null!==n&&""!==n&&(Array.isArray(n)?n.forEach((e=>s.append(t,e.toString()))):s.append(t,n.toString()))}));const i=(await this.client.get("/accounts?".concat(s))).data.data;return{accounts:i.accounts||[],total_count:(null===(t=i.pagination)||void 0===t?void 0:t.total_count)||0,page:(null===(n=i.pagination)||void 0===n?void 0:n.page)||1,page_size:(null===(a=i.pagination)||void 0===a?void 0:a.limit)||50,total_pages:(null===(r=i.pagination)||void 0===r?void 0:r.total_pages)||0,filters:e,sort:void 0}}async getAccount(e){return(await this.client.get("/accounts/".concat(e))).data.data}async createAccount(e){return(await this.client.post("/accounts",e)).data.data}async updateAccount(e,t){return(await this.client.put("/accounts/".concat(e),t)).data.data}async deleteAccount(e){return(await this.client.delete("/accounts/".concat(e))).data}async bulkImportAccounts(e){return(await this.client.post("/accounts/bulk-import",e)).data}async getAccountPerformance(e){return(await this.client.get("/accounts/".concat(e,"/performance"))).data.data}async testProxyConnection(e){return(await this.client.post("/accounts/".concat(e,"/test-proxy"))).data}async getAccountsByModel(e){return(await this.getAccounts({model_id:e})).accounts||[]}async getAllAccountsWithAllFields(e){const t=new URLSearchParams;e&&Object.entries(e).forEach((e=>{let[n,a]=e;void 0!==a&&null!==a&&""!==a&&t.append(n,a.toString())}));return(await this.client.get("/accounts/all-fields?".concat(t))).data}async getAnalytics(){return(await this.client.get("/analytics/overview")).data.data}async getDashboardAnalytics(e){const t=new URLSearchParams;e&&Object.entries(e).forEach((e=>{let[n,a]=e;void 0!==a&&null!==a&&t.append(n,a.toString())}));return(await this.client.get("/analytics/dashboard?".concat(t))).data}async getFollowBackRates(e){const t=new URLSearchParams;e&&Object.entries(e).forEach((e=>{let[n,a]=e;void 0!==a&&null!==a&&t.append(n,a.toString())}));return(await this.client.get("/analytics/follow-back-rates?".concat(t))).data}async getProfitMarginBreakdown(e){const t=new URLSearchParams;e&&t.append("model_id",e.toString());return(await this.client.get("/analytics/profit-margin-breakdown?".concat(t))).data}async getConversionFunnel(e){const t=new URLSearchParams;e&&Object.entries(e).forEach((e=>{let[n,a]=e;void 0!==a&&null!==a&&t.append(n,a.toString())}));return(await this.client.get("/analytics/conversion-funnel?".concat(t))).data}async getBestPerformers(e){const t=new URLSearchParams;e&&Object.entries(e).forEach((e=>{let[n,a]=e;void 0!==a&&null!==a&&t.append(n,a.toString())}));return(await this.client.get("/analytics/best-performers?".concat(t))).data}async getTimeSeries(){let e=arguments.length>2?arguments[2]:void 0;const t=new URLSearchParams({metric:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"follows",period:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"7d"});e&&t.append("model_id",e.toString());return(await this.client.get("/analytics/timeseries?".concat(t))).data.data}async getModelComparison(){return(await this.client.get("/analytics/models/comparison")).data.data}async getProxyProviders(){return(await this.client.get("/analytics/proxy-providers")).data.data}async getActivityFeed(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2?arguments[2]:void 0;const n=new URLSearchParams({limit:(arguments.length>0&&void 0!==arguments[0]?arguments[0]:50).toString(),offset:e.toString()});t&&n.append("model_id",t.toString());return(await this.client.get("/analytics/activity-feed?".concat(n))).data}async getModelPerformance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"30d";return(await this.client.get("/analytics/models/".concat(e,"/performance?period=").concat(t))).data.data}async importAccounts(e,t){return(await this.client.post("/import/accounts/".concat(e),{data:t})).data}async exportAccountsToCSV(e){const t=new URLSearchParams;e&&Object.entries(e).forEach((e=>{let[n,a]=e;void 0!==a&&null!==a&&""!==a&&(Array.isArray(a)?a.forEach((e=>t.append(n,e.toString()))):t.append(n,a.toString()))})),t.append("format","csv");const n=await this.client.get("/accounts/export?".concat(t),{responseType:"blob"});return new Blob([n.data],{type:"text/csv"})}async validateAccountsData(e){return(await this.client.post("/accounts/bulk-import",{accounts:e,validate_only:!0})).data}async addRevenue(e,t,n){return(await this.client.post("/revenue",{account_id:e,revenue_amount:t,description:n||"Manual revenue entry"})).data}async addCost(e,t,n,a){return(await this.client.post("/costs",{account_id:e,cost_category_id:t,cost_amount:n,description:a||"Manual cost entry"})).data}async getDynamicColumns(e){return(await this.client.get("/models/".concat(e,"/dynamic-columns"))).data.data}async createDynamicColumn(e,t){return(await this.client.post("/models/".concat(e,"/dynamic-columns"),t)).data.data}async updateDynamicData(e,t){return(await this.client.put("/accounts/".concat(e,"/dynamic-data"),t)).data.data}async getWarmupStatus(e){return(await this.client.get("/accounts/".concat(e,"/warmup-status"))).data.data}async getReadyAccountsForWarmup(e){const t=new URLSearchParams({limit:(arguments.length>1&&void 0!==arguments[1]?arguments[1]:50).toString()});e&&t.append("model_id",e.toString());return(await this.client.get("/accounts/warmup/ready?".concat(t))).data.data}async startWarmupProcess(e,t,n){return(await this.client.post("/accounts/".concat(e,"/start-warmup"),{bot_id:t,session_id:n})).data}async completeManualSetup(e,t){return(await this.client.post("/accounts/".concat(e,"/complete-manual-setup"),{user_id:t})).data}async markAccountInvalid(e,t){return(await this.client.post("/accounts/lifecycle/".concat(e,"/invalidate"),{reason:t||"Marked as invalid by user"})).data}async getAvailableWarmupPhases(e){return(await this.client.get("/bot/accounts/".concat(e,"/available-phases"))).data.data}async getNextAvailablePhase(e,t){return(await this.client.get("/bot/accounts/".concat(e,"/next-phase?bot_id=").concat(t))).data.data}async startWarmupPhase(e,t,n,a){return(await this.client.post("/bot/accounts/".concat(e,"/phases/").concat(t,"/start"),{bot_id:n,session_id:a})).data}async completeWarmupPhase(e,t,n,a,r){return(await this.client.post("/bot/accounts/".concat(e,"/phases/").concat(t,"/complete"),{bot_id:n,execution_time_ms:a,instagram_response:r})).data}async failWarmupPhase(e,t,n,a,r){return(await this.client.post("/bot/accounts/".concat(e,"/phases/").concat(t,"/fail"),{bot_id:n,error_message:a,error_details:r})).data}async getSprintTypes(){return(await this.client.get("/sprints/types")).data.data}async getSprints(e){const t=new URLSearchParams;e&&Object.entries(e).forEach((e=>{let[n,a]=e;void 0!==a&&null!==a&&""!==a&&t.append(n,a.toString())}));return(await this.client.get("/sprints?".concat(t))).data}async createSprint(e){return(await this.client.post("/sprints",e)).data}async updateSprint(e,t){return(await this.client.put("/sprints/".concat(e),t)).data}async deleteSprint(e){return(await this.client.delete("/sprints/".concat(e))).data}async getTimelineData(e){const t=new URLSearchParams;Object.entries(e).forEach((e=>{let[n,a]=e;void 0!==a&&null!==a&&(Array.isArray(a)?a.forEach((e=>t.append(n,e.toString()))):t.append(n,a.toString()))}));return(await this.client.get("/gantt/timeline-data?".concat(t))).data}async getZoomLevels(){return(await this.client.get("/gantt/zoom-levels")).data}async resolveConflict(e){return(await this.client.post("/gantt/resolve-conflict",e)).data}async get(e,t){return await this.client.get(e,t)}async post(e,t,n){return await this.client.post(e,t,n)}async put(e,t,n){return await this.client.put(e,t,n)}async delete(e,t){return await this.client.delete(e,t)}async getCampaignPools(e){const t=new URLSearchParams;e&&Object.entries(e).forEach((e=>{let[n,a]=e;void 0!==a&&null!==a&&""!==a&&"all"!==a&&t.append(n,a.toString())}));return(await this.client.get("/campaign-pools?".concat(t))).data}async getCampaignPool(e){return(await this.client.get("/campaign-pools/".concat(e))).data}async createCampaignPool(e){return(await this.client.post("/campaign-pools",e)).data}async updateCampaignPool(e,t){return(await this.client.put("/campaign-pools/".concat(e),t)).data}async deleteCampaignPool(e){return(await this.client.delete("/campaign-pools/".concat(e))).data}async getHighlightGroups(){return(await this.client.get("/highlight-groups")).data}},Gr=He("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),Vr=He("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),$r=He("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),Kr=He("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Jr=He("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Qr=He("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),Yr=He("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Xr=He("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),Zr=He("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),es=He("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]),ts=He("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ns=He("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),as=He("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),rs=[{id:"pfp",label:"Profile Picture",description:"Images for profile picture updates",icon:Xr,color:"bg-blue-100 text-blue-800 border-blue-200"},{id:"bio",label:"Bio Content",description:"Text content for bio updates",icon:Zr,color:"bg-green-100 text-green-800 border-green-200"},{id:"post",label:"Posts",description:"Images and videos for posts",icon:Xr,color:"bg-purple-100 text-purple-800 border-purple-200"},{id:"highlight",label:"Story Highlights",description:"Content for story highlights",icon:es,color:"bg-yellow-100 text-yellow-800 border-yellow-200"},{id:"story",label:"Stories",description:"Content for story posts",icon:es,color:"bg-pink-100 text-pink-800 border-pink-200"},{id:"any",label:"Universal",description:"Can be used for any warmup phase",icon:Xe,color:"bg-gray-100 text-gray-800 border-gray-200"}],ss=e=>{let{isOpen:t,onClose:n,modelId:r,onSuccess:s}=e;const[i,l]=(0,a.useState)([]),[o,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(!1),m=(0,a.useRef)(null);(0,a.useEffect)((()=>{t||(l([]),c(!1),u(!1))}),[t]);const p=(0,a.useCallback)((e=>{e.preventDefault(),c(!0)}),[]),x=(0,a.useCallback)((e=>{e.preventDefault(),c(!1)}),[]),h=e=>new Promise((t=>{if(e.type.startsWith("image/")){const n=new FileReader;n.onload=e=>{var n;return t(null===(n=e.target)||void 0===n?void 0:n.result)},n.readAsDataURL(e)}else t(void 0)})),f=async e=>{const t=[];for(let n=0;n<e.length;n++){const a=e[n];if(!a.type.startsWith("image/")&&!a.type.startsWith("video/")){qt.error("Invalid file type: ".concat(a.name,". Only images and videos are allowed."));continue}if(a.size>10485760){qt.error("File too large: ".concat(a.name,". Maximum size is 10MB."));continue}const r=await h(a);t.push({id:"".concat(Date.now(),"-").concat(n),file:a,preview:r,categories:new Set,textContent:"",uploading:!1,uploaded:!1})}l((e=>[...e,...t]))},g=(0,a.useCallback)((async e=>{e.preventDefault(),c(!1);const t=e.dataTransfer.files;t.length>0&&await f(t)}),[]),b=(0,a.useCallback)((async e=>{const t=e.target.files;t&&t.length>0&&await f(t),m.current&&(m.current.value="")}),[]);if(!t)return null;const v=i.some((e=>e.categories.size>0)),y=i.filter((e=>e.uploaded)).length,j=i.filter((e=>e.error)).length;return(0,Qe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Qe.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[(0,Qe.jsxs)("div",{className:"flex items-center justify-between p-6 border-b",children:[(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Upload Content"}),(0,Qe.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Upload images and videos for your model's warmup phases"})]}),(0,Qe.jsx)("button",{onClick:n,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-md transition-colors",disabled:d,children:(0,Qe.jsx)(ts,{className:"h-5 w-5"})})]}),(0,Qe.jsxs)("div",{className:"p-6 max-h-[60vh] overflow-y-auto",children:[(0,Qe.jsxs)("div",{className:"border-2 border-dashed rounded-lg p-8 text-center transition-colors ".concat(o?"border-blue-400 bg-blue-50":"border-gray-300 hover:border-gray-400"),onDragOver:p,onDragLeave:x,onDrop:g,children:[(0,Qe.jsx)(Jr,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),(0,Qe.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Drop files here or click to browse"}),(0,Qe.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Supports images and videos up to 10MB each"}),(0,Qe.jsxs)("button",{onClick:()=>{var e;return null===(e=m.current)||void 0===e?void 0:e.click()},className:"btn-primary",disabled:d,children:[(0,Qe.jsx)(Xe,{className:"h-4 w-4 mr-2"}),"Select Files"]}),(0,Qe.jsx)("input",{ref:m,type:"file",multiple:!0,accept:"image/*,video/*",onChange:b,className:"hidden"})]}),i.length>0&&(0,Qe.jsxs)("div",{className:"mt-6",children:[(0,Qe.jsxs)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:["Files (",i.length,")",y>0&&(0,Qe.jsxs)("span",{className:"text-green-600 ml-2",children:["\u2022 ",y," uploaded"]}),j>0&&(0,Qe.jsxs)("span",{className:"text-red-600 ml-2",children:["\u2022 ",j," failed"]})]}),(0,Qe.jsx)("div",{className:"space-y-4",children:i.map((e=>(0,Qe.jsx)("div",{className:"border rounded-lg p-4 ".concat(e.uploaded?"bg-green-50 border-green-200":e.error?"bg-red-50 border-red-200":"bg-white border-gray-200"),children:(0,Qe.jsxs)("div",{className:"flex items-start gap-4",children:[(0,Qe.jsx)("div",{className:"flex-shrink-0",children:e.preview?(0,Qe.jsx)("img",{src:e.preview,alt:e.file.name,className:"w-16 h-16 object-cover rounded"}):(0,Qe.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded flex items-center justify-center",children:(0,Qe.jsx)(es,{className:"h-6 w-6 text-gray-400"})})}),(0,Qe.jsxs)("div",{className:"flex-grow min-w-0",children:[(0,Qe.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Qe.jsx)("h4",{className:"font-medium text-gray-900 truncate",children:e.file.name}),(0,Qe.jsxs)("div",{className:"flex items-center gap-2",children:[e.uploading&&(0,Qe.jsx)("div",{className:"w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}),e.uploaded&&(0,Qe.jsx)(ns,{className:"h-4 w-4 text-green-600"}),e.error&&(0,Qe.jsx)(as,{className:"h-4 w-4 text-red-600"}),!e.uploaded&&!e.uploading&&(0,Qe.jsx)("button",{onClick:()=>{return t=e.id,void l((e=>e.filter((e=>e.id!==t))));var t},className:"p-1 text-gray-400 hover:text-gray-600 rounded",children:(0,Qe.jsx)(ts,{className:"h-4 w-4"})})]})]}),(0,Qe.jsxs)("p",{className:"text-sm text-gray-500 mb-3",children:[(e.file.size/1024/1024).toFixed(2)," MB"]}),e.error&&(0,Qe.jsx)("div",{className:"mb-3 p-2 bg-red-100 border border-red-200 rounded text-sm text-red-700",children:e.error}),!e.uploaded&&(0,Qe.jsxs)("div",{className:"mb-4",children:[(0,Qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Text Content (optional)"}),(0,Qe.jsx)("textarea",{value:e.textContent||"",onChange:t=>{return n=e.id,a=t.target.value,void l((e=>e.map((e=>e.id===n?Le(Le({},e),{},{textContent:a}):e))));var n,a},placeholder:"Enter text content for this image/video...",className:"form-textarea h-20 text-sm",disabled:e.uploading}),(0,Qe.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"If provided, this text will be assigned to the image and won't be randomly assigned later."})]}),!e.uploaded&&(0,Qe.jsxs)("div",{children:[(0,Qe.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Categories (",e.categories.size," selected)"]}),(0,Qe.jsx)("div",{className:"flex flex-wrap gap-2",children:rs.map((t=>{const n=e.categories.has(t.id),a=t.icon;return(0,Qe.jsxs)("button",{onClick:()=>{return n=e.id,a=t.id,void l((e=>e.map((e=>{if(e.id===n){const t=new Set(e.categories);return t.has(a)?t.delete(a):t.add(a),Le(Le({},e),{},{categories:t})}return e}))));var n,a},className:"flex items-center gap-2 px-3 py-2 rounded-md border text-sm font-medium transition-colors ".concat(n?t.color:"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"),disabled:e.uploading,children:[(0,Qe.jsx)(a,{className:"h-4 w-4"}),t.label]},t.id)}))})]})]})]})},e.id)))})]})]}),(0,Qe.jsxs)("div",{className:"flex items-center justify-between p-6 border-t bg-gray-50",children:[(0,Qe.jsx)("div",{className:"text-sm text-gray-600",children:i.length>0&&(0,Qe.jsx)(Qe.Fragment,{children:v?(0,Qe.jsxs)("span",{className:"text-green-600",children:["\u2713 ",i.filter((e=>e.categories.size>0)).length," files ready to upload"]}):(0,Qe.jsx)("span",{className:"text-yellow-600",children:"\u26a0 Please assign categories to files before uploading"})})}),(0,Qe.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Qe.jsx)("button",{onClick:n,className:"btn-secondary",disabled:d,children:"Cancel"}),(0,Qe.jsx)("button",{onClick:async()=>{const e=i.filter((e=>!e.uploaded&&e.categories.size>0));if(0!==e.length){u(!0);try{for(const n of e){l((e=>e.map((e=>e.id===n.id?Le(Le({},e),{},{uploading:!0}):e))));const e=new FormData;e.append("file",n.file),e.append("categories",JSON.stringify(Array.from(n.categories))),e.append("modelId",r.toString()),n.textContent&&n.textContent.trim()&&e.append("textContent",n.textContent.trim());try{const t=await fetch("http://localhost:3001/api/models/".concat(r,"/content"),{method:"POST",body:e});if(!t.ok){const e=await t.json();throw new Error(e.message||"Upload failed: ".concat(t.statusText))}l((e=>e.map((e=>e.id===n.id?Le(Le({},e),{},{uploading:!1,uploaded:!0}):e)))),qt.success("Uploaded: ".concat(n.file.name))}catch(t){l((e=>e.map((e=>e.id===n.id?Le(Le({},e),{},{uploading:!1,error:t.message}):e)))),qt.error("Failed to upload ".concat(n.file.name,": ").concat(t.message))}}const a=i.every((e=>e.uploaded||e.error));a&&(qt.success("All files processed!"),null===s||void 0===s||s(),setTimeout(n,1500))}finally{u(!1)}}else qt.error("Please select at least one file and assign categories.")},className:"btn-primary",disabled:!v||d,children:d?(0,Qe.jsxs)(Qe.Fragment,{children:[(0,Qe.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Uploading..."]}):(0,Qe.jsxs)(Qe.Fragment,{children:[(0,Qe.jsx)(Jr,{className:"h-4 w-4 mr-2"}),"Upload Files"]})})]})]})]})})},is=e=>{let{model:t,isSelected:n=!1,onSelect:r,onEdit:s,onDelete:i}=e;const l=te(),[o,c]=(0,a.useState)(!1),d=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),u=[{label:"Total",value:t.account_count||0,color:"text-gray-600"},{label:"Active",value:t.active_accounts||0,color:"text-green-600"},{label:"Banned",value:t.banned_accounts||0,color:"text-red-600"},{label:"Suspended",value:t.suspended_accounts||0,color:"text-yellow-600"}],m=()=>{l("/models/".concat(t.id,"/accounts"))};return(0,Qe.jsxs)("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 hover:shadow-lg transition-shadow duration-200 ".concat(n?"ring-2 ring-blue-500 ring-opacity-50":""),children:[(0,Qe.jsx)("div",{className:"p-6 border-b border-gray-100",children:(0,Qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qe.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[r&&(0,Qe.jsx)("button",{onClick:()=>r(!n),className:"text-gray-400 hover:text-blue-600 transition-colors",children:n?(0,Qe.jsx)(Gr,{className:"h-5 w-5 text-blue-600"}):(0,Qe.jsx)(Vr,{className:"h-5 w-5"})}),(0,Qe.jsxs)("div",{className:"flex-1",children:[(0,Qe.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Qe.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:t.name}),(0,Qe.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat((e=>{switch(e){case"active":return"bg-green-100 text-green-800";case"paused":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}})(t.status)),children:t.status})]}),t.description&&(0,Qe.jsx)("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:t.description})]})]}),(0,Qe.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[s&&(0,Qe.jsx)("button",{onClick:()=>s(t),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-md transition-colors",title:"Edit model",children:(0,Qe.jsx)($r,{className:"h-4 w-4"})}),i&&(0,Qe.jsx)("button",{onClick:()=>i(t),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-md transition-colors",title:"Delete model",children:(0,Qe.jsx)(Kr,{className:"h-4 w-4"})}),(0,Qe.jsx)(Ie,{to:"/models/".concat(t.id),className:"p-2 text-gray-400 hover:text-primary-600 hover:bg-primary-50 rounded-md transition-colors",title:"View details",children:(0,Qe.jsx)(We,{className:"h-4 w-4"})})]})]})}),(0,Qe.jsxs)("div",{className:"p-6",children:[(0,Qe.jsx)("div",{className:"mb-4",children:(0,Qe.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Qe.jsxs)("button",{onClick:m,className:"flex items-center justify-center gap-2 px-3 py-2 text-sm font-medium text-gray-700 bg-gray-50 hover:bg-gray-100 rounded-md transition-colors",children:[(0,Qe.jsx)(Ge,{className:"h-4 w-4"}),"Accounts"]}),(0,Qe.jsxs)("button",{onClick:()=>c(!0),className:"flex items-center justify-center gap-2 px-3 py-2 text-sm font-medium text-blue-700 bg-blue-50 hover:bg-blue-100 rounded-md transition-colors",children:[(0,Qe.jsx)(Jr,{className:"h-4 w-4"}),"Content"]})]})}),(0,Qe.jsxs)("div",{className:"mb-4",children:[(0,Qe.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,Qe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Qe.jsx)(Ge,{className:"h-4 w-4 text-gray-500"}),(0,Qe.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Account Stats"})]})}),(0,Qe.jsx)("div",{className:"grid grid-cols-2 gap-3 cursor-pointer hover:bg-gray-50 p-2 rounded-md transition-colors",onClick:m,children:u.map((e=>(0,Qe.jsxs)("div",{className:"text-center",children:[(0,Qe.jsx)("div",{className:"text-lg font-semibold ".concat(e.color),children:e.value}),(0,Qe.jsx)("div",{className:"text-xs text-gray-500",children:e.label})]},e.label)))})]}),(t.total_follows||t.active_follows)&&(0,Qe.jsxs)("div",{className:"mb-4",children:[(0,Qe.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,Qe.jsx)(Qr,{className:"h-4 w-4 text-gray-500"}),(0,Qe.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Follows"})]}),(0,Qe.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,Qe.jsxs)("div",{className:"text-center",children:[(0,Qe.jsx)("div",{className:"text-lg font-semibold text-blue-600",children:t.total_follows||0}),(0,Qe.jsx)("div",{className:"text-xs text-gray-500",children:"Total"})]}),(0,Qe.jsxs)("div",{className:"text-center",children:[(0,Qe.jsx)("div",{className:"text-lg font-semibold text-green-600",children:t.active_follows||0}),(0,Qe.jsx)("div",{className:"text-xs text-gray-500",children:"Active"})]})]})]}),(0,Qe.jsx)("div",{className:"mb-4",children:(0,Qe.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("span",{className:"text-gray-500",children:"Unfollow Ratio:"}),(0,Qe.jsxs)("span",{className:"ml-2 font-medium",children:[t.unfollow_ratio,"%"]})]}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("span",{className:"text-gray-500",children:"Daily Limit:"}),(0,Qe.jsx)("span",{className:"ml-2 font-medium",children:t.daily_follow_limit})]})]})}),(0,Qe.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500 pt-3 border-t border-gray-100",children:[(0,Qe.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Qe.jsx)(Yr,{className:"h-3 w-3"}),(0,Qe.jsxs)("span",{children:["Created ",d(t.created_at)]})]}),t.last_account_activity&&(0,Qe.jsxs)("div",{children:["Last activity: ",d(t.last_account_activity)]})]})]}),(0,Qe.jsx)(ss,{isOpen:o,onClose:()=>c(!1),modelId:t.id,onSuccess:()=>{c(!1)}})]})},ls=e=>{let{models:t,selectedModels:n=new Set,onSelectionChange:a,onEdit:r,onDelete:s,onCreate:i,className:l=""}=e;return 0===t.length?(0,Qe.jsxs)("div",{className:"text-center py-12 ".concat(l),children:[(0,Qe.jsx)("div",{className:"text-gray-400 text-6xl mb-4",children:"\ud83d\udccb"}),(0,Qe.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No models found"}),(0,Qe.jsx)("p",{className:"text-gray-500 mb-6",children:"Get started by creating your first model/campaign."}),(0,Qe.jsx)("button",{onClick:i,className:"btn-primary",children:"Create Model"})]}):(0,Qe.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 ".concat(l),children:t.map((e=>(0,Qe.jsx)(is,{model:e,isSelected:n.has(e.id),onSelect:a?t=>((e,t)=>{if(!a)return;const r=new Set(n);t?r.add(e):r.delete(e),a(r)})(e.id,t):void 0,onEdit:r,onDelete:s},e.id)))})},os=e=>{let{size:t="md",text:n="Loading...",className:a=""}=e;return(0,Qe.jsxs)("div",{className:"flex flex-col items-center justify-center ".concat(a),children:[(0,Qe.jsx)("div",{className:"animate-spin rounded-full border-b-2 border-primary-600 ".concat({sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"}[t])}),n&&(0,Qe.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:n})]})},cs=He("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),ds=He("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),us=e=>{let{isOpen:t,onClose:n,title:r,children:s,size:i="md",className:l=""}=e;const o=(0,a.useRef)(null);(0,a.useEffect)((()=>{const e=e=>{"Escape"===e.key&&n()};return t&&(document.addEventListener("keydown",e),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",e),document.body.style.overflow="unset"}}),[t,n]);return t?(0,Qe.jsxs)("div",{className:"fixed inset-0 z-50 overflow-y-auto",onClick:e=>{e.target===e.currentTarget&&n()},children:[(0,Qe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity"}),(0,Qe.jsx)("div",{className:"flex min-h-full items-center justify-center p-4",children:(0,Qe.jsxs)("div",{ref:o,className:"relative w-full ".concat({sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"}[i]," bg-white rounded-lg shadow-xl transform transition-all ").concat(l),children:[r&&(0,Qe.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,Qe.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:r}),(0,Qe.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-md p-1 transition-colors",children:(0,Qe.jsx)(ts,{className:"h-5 w-5"})})]}),(0,Qe.jsx)("div",{className:"p-6",children:s})]})})]}):null};function ms(e){let{initialValues:t,validationRules:n={},onSubmit:r}=e;const[s,i]=(0,a.useState)(t),[l,o]=(0,a.useState)({}),[c,d]=(0,a.useState)({}),[u,m]=(0,a.useState)(!1),p=(0,a.useCallback)(((e,t)=>{const a=n[e];if(!a)return"";if(a.required&&(!t||"string"===typeof t&&""===t.trim()))return"This field is required";if(!t||"string"===typeof t&&""===t.trim())return"";if("string"===typeof t){if(a.minLength&&t.length<a.minLength)return"Minimum length is ".concat(a.minLength," characters");if(a.maxLength&&t.length>a.maxLength)return"Maximum length is ".concat(a.maxLength," characters")}if("number"===typeof t||!isNaN(Number(t))){const e=Number(t);if(void 0!==a.min&&e<a.min)return"Minimum value is ".concat(a.min);if(void 0!==a.max&&e>a.max)return"Maximum value is ".concat(a.max)}if(a.pattern&&"string"===typeof t&&!a.pattern.test(t))return"Invalid format";if(a.custom){const e=a.custom(t);if(e)return e}return""}),[n]),x=(0,a.useCallback)(((e,t)=>{i((n=>Le(Le({},n),{},{[e]:t}))),l[e]&&o((t=>Le(Le({},t),{},{[e]:""})))}),[l]),h=(0,a.useCallback)((e=>{d((t=>Le(Le({},t),{},{[e]:!0})));const t=p(e,s[e]);o((n=>Le(Le({},n),{},{[e]:t})))}),[p,s]),f=(0,a.useCallback)((e=>{const{name:t,value:n,type:a}=e.target;let r=n;"number"===a?r=""===n?"":Number(n):"checkbox"===a&&(r=e.target.checked),x(t,r)}),[x]),g=(0,a.useCallback)((e=>{const{name:t}=e.target;h(t)}),[h]),b=(0,a.useCallback)((()=>{const e={};let t=!0;return Object.keys(n).forEach((n=>{const a=p(n,s[n]);a&&(e[n]=a,t=!1)})),o(e),t}),[p,n,s]),v=(0,a.useCallback)((async e=>{e&&e.preventDefault();const t={};if(Object.keys(n).forEach((e=>{t[e]=!0})),d(t),b()&&r){m(!0);try{await r(s)}catch(a){console.error("Form submission error:",a)}finally{m(!1)}}}),[b,r,s,n]),y=(0,a.useCallback)((()=>{i(t),o({}),d({}),m(!1)}),[t]),j=(0,a.useCallback)((e=>({name:e,value:s[e]||"",onChange:f,onBlur:g})),[s,f,g]),w=(0,a.useCallback)((e=>({error:c[e]?l[e]:"",hasError:Boolean(c[e]&&l[e]),isTouched:Boolean(c[e])})),[l,c]),N=(0,a.useMemo)((()=>{const e={};for(const t of Object.keys(n)){const n=p(t,s[t]);n&&(e[t]=n)}return 0===Object.keys(e).length}),[s,n,p]);return{values:s,errors:l,touched:c,isSubmitting:u,isValid:N,setValue:x,setFieldTouched:h,handleChange:f,handleBlur:g,handleSubmit:v,reset:y,validateAll:b,getFieldProps:j,getFieldState:w}}const ps={name:"",description:"",unfollow_ratio:90,daily_follow_limit:50,posting_schedule:"{}"},xs={name:{required:!0,minLength:3,maxLength:255},description:{maxLength:1e3},unfollow_ratio:{required:!0,min:0,max:100},daily_follow_limit:{required:!0,min:1,max:1e3},posting_schedule:{custom:e=>{if(!e||""===e.trim())return null;try{return JSON.parse(e),null}catch(t){return"Must be valid JSON"}}}},hs=e=>{let{form:t}=e;return(0,Qe.jsxs)("div",{className:"space-y-6",children:[(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Model Name *"}),(0,Qe.jsx)("input",Le(Le({},t.getFieldProps("name")),{},{type:"text",className:"form-input w-full ".concat(t.getFieldState("name").hasError?"border-red-500":""),placeholder:"e.g., Fashion Campaign 2024"})),t.getFieldState("name").error&&(0,Qe.jsx)("p",{className:"text-red-600 text-sm mt-1",children:t.getFieldState("name").error})]}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),(0,Qe.jsx)("textarea",Le(Le({},t.getFieldProps("description")),{},{rows:3,className:"form-textarea w-full ".concat(t.getFieldState("description").hasError?"border-red-500":""),placeholder:"Optional description of this model/campaign..."})),t.getFieldState("description").error&&(0,Qe.jsx)("p",{className:"text-red-600 text-sm mt-1",children:t.getFieldState("description").error})]})]})},fs=e=>{let{form:t}=e;return(0,Qe.jsxs)("div",{className:"space-y-6",children:[(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Unfollow Ratio (%) *"}),(0,Qe.jsx)("input",Le(Le({},t.getFieldProps("unfollow_ratio")),{},{type:"number",min:"0",max:"100",className:"form-input w-full ".concat(t.getFieldState("unfollow_ratio").hasError?"border-red-500":"")})),(0,Qe.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Percentage of follows that will be unfollowed (0-100%)"}),t.getFieldState("unfollow_ratio").error&&(0,Qe.jsx)("p",{className:"text-red-600 text-sm mt-1",children:t.getFieldState("unfollow_ratio").error})]}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Daily Follow Limit *"}),(0,Qe.jsx)("input",Le(Le({},t.getFieldProps("daily_follow_limit")),{},{type:"number",min:"1",max:"1000",className:"form-input w-full ".concat(t.getFieldState("daily_follow_limit").hasError?"border-red-500":"")})),(0,Qe.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Maximum number of new follows per day (1-1000)"}),t.getFieldState("daily_follow_limit").error&&(0,Qe.jsx)("p",{className:"text-red-600 text-sm mt-1",children:t.getFieldState("daily_follow_limit").error})]})]})},gs=e=>{let{form:t}=e;return(0,Qe.jsx)("div",{className:"space-y-6",children:(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Posting Schedule (JSON)"}),(0,Qe.jsx)("textarea",Le(Le({},t.getFieldProps("posting_schedule")),{},{rows:6,className:"form-textarea w-full font-mono text-sm ".concat(t.getFieldState("posting_schedule").hasError?"border-red-500":""),placeholder:'{"daily_posts": 2, "hours": [9, 18], "content_types": ["image", "story"]}'})),(0,Qe.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"JSON configuration for content posting schedule"}),t.getFieldState("posting_schedule").error&&(0,Qe.jsx)("p",{className:"text-red-600 text-sm mt-1",children:t.getFieldState("posting_schedule").error})]})})},bs=e=>{let{form:t}=e;return(0,Qe.jsxs)("div",{className:"space-y-6",children:[(0,Qe.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,Qe.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Review Your Settings"}),(0,Qe.jsxs)("dl",{className:"space-y-2",children:[(0,Qe.jsxs)("div",{className:"flex justify-between",children:[(0,Qe.jsx)("dt",{className:"text-sm text-gray-600",children:"Name:"}),(0,Qe.jsx)("dd",{className:"text-sm font-medium text-gray-900",children:t.values.name})]}),t.values.description&&(0,Qe.jsxs)("div",{className:"flex justify-between",children:[(0,Qe.jsx)("dt",{className:"text-sm text-gray-600",children:"Description:"}),(0,Qe.jsx)("dd",{className:"text-sm text-gray-900 max-w-64 text-right",children:t.values.description})]}),(0,Qe.jsxs)("div",{className:"flex justify-between",children:[(0,Qe.jsx)("dt",{className:"text-sm text-gray-600",children:"Unfollow Ratio:"}),(0,Qe.jsxs)("dd",{className:"text-sm font-medium text-gray-900",children:[t.values.unfollow_ratio,"%"]})]}),(0,Qe.jsxs)("div",{className:"flex justify-between",children:[(0,Qe.jsx)("dt",{className:"text-sm text-gray-600",children:"Daily Follow Limit:"}),(0,Qe.jsx)("dd",{className:"text-sm font-medium text-gray-900",children:t.values.daily_follow_limit})]})]})]}),(0,Qe.jsx)("div",{className:"text-sm text-gray-600",children:(0,Qe.jsx)("p",{children:"\u26a0\ufe0f Once created, you can modify these settings later from the model management page."})})]})},vs=e=>{let{isOpen:t,onClose:n,onSuccess:r}=e;const[s,i]=(0,a.useState)(0);console.log("ModelWizard render - isOpen:",t);const l=ms({initialValues:ps,validationRules:xs,onSubmit:async e=>{console.log("Form onSubmit called with values:",e);try{const t={name:e.name,description:e.description||void 0,unfollow_ratio:e.unfollow_ratio,daily_follow_limit:e.daily_follow_limit,posting_schedule:e.posting_schedule&&e.posting_schedule.trim()?JSON.parse(e.posting_schedule):{}};console.log("Creating model with data:",t),await Wr.createModel(t),qt.success('Model "'.concat(e.name,'" created successfully!')),l.reset(),i(0),n(),r&&r()}catch(t){console.error("Failed to create model:",t),qt.error(t.message||"Failed to create model")}}}),o=[{title:"Basic Information",description:"Enter the basic details for your model",component:(0,Qe.jsx)(hs,{form:l})},{title:"Automation Settings",description:"Configure follow/unfollow behavior",component:(0,Qe.jsx)(fs,{form:l})},{title:"Posting Schedule",description:"Set up content posting schedule",component:(0,Qe.jsx)(gs,{form:l})},{title:"Review & Confirm",description:"Review your settings before creating",component:(0,Qe.jsx)(bs,{form:l})}],c=()=>m(s).every((e=>!l.getFieldState(e).hasError)),d=()=>s>0,u=()=>{const e=s===o.length-1,t=l.values.name&&l.values.name.trim().length>=3,n=l.values.unfollow_ratio>=0&&l.values.unfollow_ratio<=100,a=l.values.daily_follow_limit>=1&&l.values.daily_follow_limit<=1e3;let r=!0;if(l.values.posting_schedule&&l.values.posting_schedule.trim())try{JSON.parse(l.values.posting_schedule)}catch(d){r=!1}const i=t&&n&&a&&r,c=e&&i;return console.log("canSubmit check:",{currentStep:s,stepsLength:o.length,isLastStep:e,hasName:t,hasValidRatio:n,hasValidLimit:a,hasValidSchedule:r,isFormValid:i,formIsValid:l.isValid,formValues:l.values,formErrors:l.errors,result:c}),c},m=e=>{switch(e){case 0:return["name","description"];case 1:return["unfollow_ratio","daily_follow_limit"];case 2:return["posting_schedule"];default:return[]}},p=()=>{l.reset(),i(0),n()};return(0,Qe.jsx)(us,{isOpen:t,onClose:p,title:"Create New Model",size:"lg",children:(0,Qe.jsxs)("div",{className:"p-6",children:[(0,Qe.jsxs)("div",{className:"mb-8",children:[(0,Qe.jsx)("div",{className:"flex items-center justify-between mb-4",children:o.map(((e,t)=>(0,Qe.jsxs)("div",{className:"flex items-center ".concat(t<o.length-1?"flex-1":""),children:[(0,Qe.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium\n                    ".concat(t<=s?"bg-primary-600 text-white":"bg-gray-200 text-gray-500"),children:t<s?(0,Qe.jsx)(ns,{className:"h-4 w-4"}):t+1}),t<o.length-1&&(0,Qe.jsx)("div",{className:"flex-1 h-1 mx-4 rounded\n                      ".concat(t<s?"bg-primary-600":"bg-gray-200","\n                    ")})]},t)))}),(0,Qe.jsxs)("div",{className:"text-center",children:[(0,Qe.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:o[s].title}),(0,Qe.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:o[s].description})]})]}),(0,Qe.jsx)("form",{onSubmit:l.handleSubmit,className:"min-h-64",children:o[s].component}),(0,Qe.jsxs)("div",{className:"flex items-center justify-between pt-6 border-t border-gray-200 mt-8",children:[(0,Qe.jsxs)("button",{type:"button",onClick:()=>{d()&&i(s-1)},disabled:!d(),className:"btn-secondary flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,Qe.jsx)(cs,{className:"h-4 w-4"}),"Previous"]}),(0,Qe.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Qe.jsx)("button",{type:"button",onClick:p,className:"btn-ghost",children:"Cancel"}),s<o.length-1?(0,Qe.jsxs)("button",{type:"button",onClick:()=>{m(s).forEach((e=>l.setFieldTouched(e))),c()&&s<o.length-1&&i(s+1)},disabled:!c(),className:"btn-primary flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:["Next",(0,Qe.jsx)(ds,{className:"h-4 w-4"})]}):(0,Qe.jsx)("button",{type:"button",disabled:!u()||l.isSubmitting,className:"btn-primary flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",onClick:async e=>{e.preventDefault(),console.log("Submit button clicked!",{canSubmit:u(),isSubmitting:l.isSubmitting,disabled:!u()||l.isSubmitting}),u()&&!l.isSubmitting?(console.log("Calling form.handleSubmit..."),await l.handleSubmit()):console.log("Submit prevented due to validation or submitting state")},children:l.isSubmitting?(0,Qe.jsxs)(Qe.Fragment,{children:[(0,Qe.jsx)(os,{size:"sm"}),"Creating..."]}):(0,Qe.jsxs)(Qe.Fragment,{children:[(0,Qe.jsx)(ns,{className:"h-4 w-4"}),"Create Model"]})})]})]})]})})},ys=He("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),js=He("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),ws=He("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),Ns=e=>{let{refreshTrigger:t,className:n=""}=e;const[r,s]=(0,a.useState)(null),[i,l]=(0,a.useState)(!0),[o,c]=(0,a.useState)(null);(0,a.useEffect)((()=>{d()}),[t]);const d=async()=>{try{l(!0),c(null);const e=await Wr.getAnalytics();s(e)}catch(e){console.error("Failed to load analytics:",e),c(e.message||"Failed to load analytics")}finally{l(!1)}};if(i)return(0,Qe.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 ".concat(n),children:[...Array(4)].map(((e,t)=>(0,Qe.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 animate-pulse",children:[(0,Qe.jsx)("div",{className:"h-4 bg-gray-300 rounded mb-2"}),(0,Qe.jsx)("div",{className:"h-8 bg-gray-300 rounded mb-2"}),(0,Qe.jsx)("div",{className:"h-3 bg-gray-300 rounded w-2/3"})]},t)))});if(o||!r)return(0,Qe.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 ".concat(n),children:[(0,Qe.jsxs)("p",{className:"text-red-600",children:["Failed to load analytics: ",o]}),(0,Qe.jsx)("button",{onClick:d,className:"mt-2 text-red-600 hover:text-red-800 underline",children:"Try again"})]});const u=[{title:"Total Models",value:r.models.total_models,subtitle:"".concat(r.models.active_models," active"),icon:ys,color:"blue",trend:r.models.active_models>0?"up":"neutral"},{title:"Instagram Accounts",value:r.accounts.total_accounts,subtitle:"".concat(r.accounts.active_accounts," active"),icon:Ge,color:"green",trend:0===r.accounts.banned_accounts?"up":"down"},{title:"Total Follows",value:r.follows.total_follows,subtitle:"".concat(r.follows.active_follows," active"),icon:Qr,color:"purple",trend:r.follows.active_follows>r.follows.unfollowed_follows?"up":"down"},{title:"Avg Follow Duration",value:r.follows.avg_follow_duration_days?"".concat(Math.round(r.follows.avg_follow_duration_days),"d"):"N/A",subtitle:"Days before unfollow",icon:Yr,color:"yellow",trend:"neutral"}],m=e=>{const t={blue:"text-blue-600 bg-blue-100",green:"text-green-600 bg-green-100",purple:"text-purple-600 bg-purple-100",yellow:"text-yellow-600 bg-yellow-100"};return t[e]||t.blue},p=e=>{switch(e){case"up":return(0,Qe.jsx)(js,{className:"h-4 w-4 text-green-500"});case"down":return(0,Qe.jsx)(ws,{className:"h-4 w-4 text-red-500"});default:return null}};return(0,Qe.jsxs)("div",{className:n,children:[(0,Qe.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:u.map((e=>(0,Qe.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow",children:(0,Qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qe.jsxs)("div",{className:"flex-1",children:[(0,Qe.jsx)("p",{className:"text-sm font-medium text-gray-600",children:e.title}),(0,Qe.jsx)("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:e.value}),(0,Qe.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:e.subtitle})]}),(0,Qe.jsxs)("div",{className:"flex flex-col items-end gap-2",children:[(0,Qe.jsx)("div",{className:"p-3 rounded-lg ".concat(m(e.color)),children:(0,Qe.jsx)(e.icon,{className:"h-6 w-6"})}),p(e.trend)]})]})},e.title)))}),r.recent_activity.length>0&&(0,Qe.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,Qe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Activity (24h)"}),(0,Qe.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:r.recent_activity.slice(0,3).map((e=>(0,Qe.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[(0,Qe.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:e.action_count}),(0,Qe.jsx)("div",{className:"text-sm text-gray-600 capitalize",children:e.action_type.replace("_"," ")}),(0,Qe.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Last: ",new Date(e.last_action).toLocaleTimeString()]})]},e.action_type)))})]})]})},ks=He("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Ss=He("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),Cs={name:{required:!0,minLength:3,maxLength:255},description:{maxLength:1e3},unfollow_ratio:{required:!0,min:0,max:100},daily_follow_limit:{required:!0,min:1,max:1e3},posting_schedule:{custom:e=>{try{return JSON.parse(e),null}catch(t){return"Must be valid JSON"}}}},_s=e=>{let{model:t,isOpen:n,onClose:r,onSuccess:s}=e;const[i,l]=(0,a.useState)(!1),[o,c]=(0,a.useState)({name:"",description:"",status:"active",unfollow_ratio:90,daily_follow_limit:50,posting_schedule:"{}"});(0,a.useEffect)((()=>{if(t){const e={name:t.name,description:t.description||"",status:t.status,unfollow_ratio:t.unfollow_ratio,daily_follow_limit:t.daily_follow_limit,posting_schedule:JSON.stringify(t.posting_schedule,null,2)};c(e),d.reset(),Object.keys(e).forEach((t=>{d.setValue(t,e[t])})),l(!1)}}),[t]);const d=ms({initialValues:o,validationRules:Cs,onSubmit:async e=>{if(t)try{const n={name:e.name,description:e.description||void 0,status:e.status,unfollow_ratio:e.unfollow_ratio,daily_follow_limit:e.daily_follow_limit,posting_schedule:JSON.parse(e.posting_schedule||"{}")};await Wr.updateModel(t.id,n),qt.success('Model "'.concat(e.name,'" updated successfully!')),l(!1),r(),s&&s()}catch(n){console.error("Failed to update model:",n),qt.error(n.message||"Failed to update model")}}});(0,a.useEffect)((()=>{if(t){const e=d.values,n={name:t.name,description:t.description||"",status:t.status,unfollow_ratio:t.unfollow_ratio,daily_follow_limit:t.daily_follow_limit,posting_schedule:JSON.stringify(t.posting_schedule,null,2)},a=Object.keys(e).some((t=>e[t]!==n[t]));l(a)}}),[d.values,t,d]);const u=()=>{i?window.confirm("You have unsaved changes. Are you sure you want to close?")&&(l(!1),r()):r()};return t?(0,Qe.jsx)(us,{isOpen:n,onClose:u,size:"lg",children:(0,Qe.jsxs)("div",{className:"p-6",children:[(0,Qe.jsxs)("div",{className:"flex items-center justify-between border-b border-gray-200 pb-4 mb-6",children:[(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Model Settings"}),(0,Qe.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:['Configure "',t.name,'" properties']})]}),(0,Qe.jsx)("button",{onClick:u,className:"text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-md p-1 transition-colors",children:(0,Qe.jsx)(ts,{className:"h-5 w-5"})})]}),i&&(0,Qe.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-6",children:(0,Qe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Qe.jsx)(ks,{className:"h-4 w-4 text-yellow-600"}),(0,Qe.jsx)("span",{className:"text-sm text-yellow-800",children:"You have unsaved changes"})]})}),(0,Qe.jsxs)("form",{onSubmit:d.handleSubmit,className:"space-y-6",children:[(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),(0,Qe.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Model Name *"}),(0,Qe.jsx)("input",Le(Le({},d.getFieldProps("name")),{},{type:"text",className:"form-input w-full ".concat(d.getFieldState("name").hasError?"border-red-500":"")})),d.getFieldState("name").error&&(0,Qe.jsx)("p",{className:"text-red-600 text-sm mt-1",children:d.getFieldState("name").error})]}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),(0,Qe.jsx)("textarea",Le(Le({},d.getFieldProps("description")),{},{rows:3,className:"form-textarea w-full ".concat(d.getFieldState("description").hasError?"border-red-500":""),placeholder:"Optional description..."})),d.getFieldState("description").error&&(0,Qe.jsx)("p",{className:"text-red-600 text-sm mt-1",children:d.getFieldState("description").error})]})]})]}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Status & Controls"}),(0,Qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status *"}),(0,Qe.jsxs)("select",Le(Le({},d.getFieldProps("status")),{},{className:"form-select w-full",children:[(0,Qe.jsx)("option",{value:"active",children:"Active"}),(0,Qe.jsx)("option",{value:"paused",children:"Paused"}),(0,Qe.jsx)("option",{value:"inactive",children:"Inactive"})]}))]}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Unfollow Ratio (%) *"}),(0,Qe.jsx)("input",Le(Le({},d.getFieldProps("unfollow_ratio")),{},{type:"number",min:"0",max:"100",className:"form-input w-full ".concat(d.getFieldState("unfollow_ratio").hasError?"border-red-500":"")})),d.getFieldState("unfollow_ratio").error&&(0,Qe.jsx)("p",{className:"text-red-600 text-sm mt-1",children:d.getFieldState("unfollow_ratio").error})]}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Daily Follow Limit *"}),(0,Qe.jsx)("input",Le(Le({},d.getFieldProps("daily_follow_limit")),{},{type:"number",min:"1",max:"1000",className:"form-input w-full ".concat(d.getFieldState("daily_follow_limit").hasError?"border-red-500":"")})),d.getFieldState("daily_follow_limit").error&&(0,Qe.jsx)("p",{className:"text-red-600 text-sm mt-1",children:d.getFieldState("daily_follow_limit").error})]})]})]}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Posting Schedule"}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Schedule Configuration (JSON)"}),(0,Qe.jsx)("textarea",Le(Le({},d.getFieldProps("posting_schedule")),{},{rows:8,className:"form-textarea w-full font-mono text-sm ".concat(d.getFieldState("posting_schedule").hasError?"border-red-500":""),placeholder:'{"daily_posts": 2, "hours": [9, 18]}'})),d.getFieldState("posting_schedule").error&&(0,Qe.jsx)("p",{className:"text-red-600 text-sm mt-1",children:d.getFieldState("posting_schedule").error}),(0,Qe.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Configure posting schedule as JSON. Example: ",'{"daily_posts": 2, "hours": [9, 18], "content_types": ["image", "story"]}']})]})]}),(0,Qe.jsxs)("div",{className:"flex items-center justify-between pt-6 border-t border-gray-200",children:[(0,Qe.jsx)("button",{type:"button",onClick:()=>{if(window.confirm("Reset all changes to original values?")&&t){const e={name:t.name,description:t.description||"",status:t.status,unfollow_ratio:t.unfollow_ratio,daily_follow_limit:t.daily_follow_limit,posting_schedule:JSON.stringify(t.posting_schedule,null,2)};Object.keys(e).forEach((t=>{d.setValue(t,e[t])})),l(!1)}},disabled:!i,className:"text-gray-600 hover:text-gray-800 disabled:opacity-50 disabled:cursor-not-allowed",children:"Reset Changes"}),(0,Qe.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Qe.jsx)("button",{type:"button",onClick:u,className:"btn-ghost",children:"Cancel"}),(0,Qe.jsx)("button",{type:"submit",disabled:!i||!d.isValid||d.isSubmitting,className:"btn-primary flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:d.isSubmitting?(0,Qe.jsxs)(Qe.Fragment,{children:[(0,Qe.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Saving..."]}):(0,Qe.jsxs)(Qe.Fragment,{children:[(0,Qe.jsx)(Ss,{className:"h-4 w-4"}),"Save Changes"]})})]})]})]})]})}):null},Es=He("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),Is=He("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]),Ps=e=>{let{isOpen:t,onClose:n,onConfirm:r,title:s,message:i,actionType:l,confirmText:o,details:c}=e;const[d,u]=(0,a.useState)(""),m="danger"===l,p=!m||d===o;return(0,Qe.jsx)(us,{isOpen:t,onClose:n,size:"md",children:(0,Qe.jsxs)("div",{className:"p-6",children:[(0,Qe.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,Qe.jsx)("div",{className:"p-3 rounded-lg ".concat("danger"===l?"bg-red-100 text-red-600":"bg-yellow-100 text-yellow-600"),children:(0,Qe.jsx)(ks,{className:"h-6 w-6"})}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:s}),(0,Qe.jsx)("p",{className:"text-sm text-gray-600",children:i})]})]}),c&&c.length>0&&(0,Qe.jsxs)("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:[(0,Qe.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Affected models:"}),(0,Qe.jsx)("ul",{className:"text-sm text-gray-600 space-y-1",children:c.map(((e,t)=>(0,Qe.jsxs)("li",{children:["\u2022 ",e]},t)))})]}),m&&(0,Qe.jsxs)("div",{className:"mb-4",children:[(0,Qe.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:['Type "',o,'" to confirm this action:']}),(0,Qe.jsx)("input",{type:"text",value:d,onChange:e=>u(e.target.value),className:"form-input w-full",placeholder:o})]}),(0,Qe.jsxs)("div",{className:"flex items-center justify-end gap-3",children:[(0,Qe.jsx)("button",{onClick:n,className:"btn-ghost",children:"Cancel"}),(0,Qe.jsx)("button",{onClick:()=>{p&&(r(),u(""),n())},disabled:!p,className:"".concat("danger"===l?"btn-danger":"btn-warning"," disabled:opacity-50 disabled:cursor-not-allowed"),children:"danger"===l?"Delete":"Confirm"})]})]})})},Ds=e=>{let{models:t,selectedModels:n,onSelectionChange:r,onModelsUpdated:s}=e;const[i,l]=(0,a.useState)(!1),[o,c]=(0,a.useState)({isOpen:!1,title:"",message:"",actionType:"warning",confirmText:"",action:async()=>{}}),d=t.filter((e=>n.has(e.id))),u=n.size>0,m=t.length>0&&n.size===t.length,p=async e=>{const t={active:"activate",paused:"pause",inactive:"deactivate"};c({isOpen:!0,title:"".concat(t[e].charAt(0).toUpperCase()+t[e].slice(1)," Models"),message:"Are you sure you want to ".concat(t[e]," ").concat(n.size," model(s)?"),actionType:"warning",confirmText:"CONFIRM",details:d.map((e=>"".concat(e.name," (currently ").concat(e.status,")"))),action:async()=>{l(!0);try{const a=d.map((t=>Wr.updateModel(t.id,{status:e})));await Promise.all(a),qt.success("Successfully ".concat(t[e],"d ").concat(n.size," model(s)")),r(new Set),s()}catch(a){console.error("Failed to ".concat(t[e]," models:"),a),qt.error("Failed to ".concat(t[e]," some models"))}finally{l(!1)}}})};return u?(0,Qe.jsxs)(Qe.Fragment,{children:[(0,Qe.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:(0,Qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qe.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Qe.jsxs)("button",{onClick:()=>{r(m?new Set:new Set(t.map((e=>e.id))))},className:"flex items-center gap-2 text-blue-700 hover:text-blue-800",children:[m?(0,Qe.jsx)(Gr,{className:"h-4 w-4"}):(0,Qe.jsx)(Vr,{className:"h-4 w-4"}),n.size," selected"]}),(0,Qe.jsx)("span",{className:"text-blue-600",children:"|"}),(0,Qe.jsxs)("button",{onClick:()=>r(new Set),className:"text-blue-700 hover:text-blue-800 flex items-center gap-1",children:[(0,Qe.jsx)(ts,{className:"h-3 w-3"}),"Clear"]})]}),(0,Qe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Qe.jsxs)("button",{onClick:()=>p("active"),disabled:i,className:"btn-secondary flex items-center gap-2 text-sm",children:[(0,Qe.jsx)(Es,{className:"h-3 w-3"}),"Activate"]}),(0,Qe.jsxs)("button",{onClick:()=>p("paused"),disabled:i,className:"btn-secondary flex items-center gap-2 text-sm",children:[(0,Qe.jsx)(Is,{className:"h-3 w-3"}),"Pause"]}),(0,Qe.jsxs)("button",{onClick:()=>{c({isOpen:!0,title:"Export Models",message:"Export data for ".concat(n.size," model(s) including accounts and statistics."),actionType:"warning",confirmText:"EXPORT",details:d.map((e=>e.name)),action:async()=>{qt.success("Export for ".concat(n.size," model(s) started - feature coming soon!")),r(new Set)}})},disabled:i,className:"btn-secondary flex items-center gap-2 text-sm",children:[(0,Qe.jsx)(tt,{className:"h-3 w-3"}),"Export"]}),(0,Qe.jsxs)("button",{onClick:()=>{c({isOpen:!0,title:"Delete Models",message:"You are about to permanently delete ".concat(n.size," model(s) and all their associated data. This action cannot be undone."),actionType:"danger",confirmText:"DELETE",details:d.map((e=>"".concat(e.name," (").concat(e.account_count||0," accounts)"))),action:async()=>{l(!0);try{const e=d.map((e=>Wr.deleteModel(e.id)));await Promise.all(e),qt.success("Successfully deleted ".concat(n.size," model(s)")),r(new Set),s()}catch(e){console.error("Failed to delete models:",e),qt.error("Failed to delete some models")}finally{l(!1)}}})},disabled:i,className:"btn-danger flex items-center gap-2 text-sm",children:[(0,Qe.jsx)(Kr,{className:"h-3 w-3"}),"Delete"]})]})]})}),(0,Qe.jsx)(Ps,{isOpen:o.isOpen,onClose:()=>c((e=>Le(Le({},e),{},{isOpen:!1}))),onConfirm:o.action,title:o.title,message:o.message,actionType:o.actionType,confirmText:o.confirmText,details:o.details})]}):null},As=()=>{const[e,t]=(0,a.useState)([]),[n,r]=(0,a.useState)(!0),[s,i]=(0,a.useState)(null),[l,o]=(0,a.useState)(""),[c,d]=(0,a.useState)("all"),[u,m]=(0,a.useState)(!1);(0,a.useEffect)((()=>{console.log("Wizard state changed:",u)}),[u]);const[p,x]=(0,a.useState)(0),[h,f]=(0,a.useState)(!1),[g,b]=(0,a.useState)(null),[v,y]=(0,a.useState)(new Set);(0,a.useEffect)((()=>{j()}),[]);const j=async()=>{try{r(!0),i(null);const e=await Wr.getModels();t(e),x((e=>e+1))}catch(e){console.error("Failed to load models:",e),i(e.message||"Failed to load models"),qt.error("Failed to load models")}finally{r(!1)}},w=()=>{console.log("Create Model button clicked"),m(!0)},N=e.filter((e=>{const t=e.name.toLowerCase().includes(l.toLowerCase())||e.description&&e.description.toLowerCase().includes(l.toLowerCase()),n="all"===c||e.status===c;return t&&n}));return n?(0,Qe.jsx)("div",{className:"p-8",children:(0,Qe.jsx)(os,{size:"lg",text:"Loading models...",className:"min-h-96"})}):s?(0,Qe.jsx)("div",{className:"p-8",children:(0,Qe.jsxs)("div",{className:"text-center py-12",children:[(0,Qe.jsx)("div",{className:"text-red-400 text-6xl mb-4",children:"\u26a0\ufe0f"}),(0,Qe.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Failed to load models"}),(0,Qe.jsx)("p",{className:"text-gray-500 mb-6",children:s}),(0,Qe.jsx)("button",{onClick:j,className:"btn-primary",children:"Try Again"})]})}):(0,Qe.jsxs)("div",{className:"p-8",children:[(0,Qe.jsxs)("div",{className:"mb-8",children:[(0,Qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Models & Campaigns"}),(0,Qe.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage your Instagram automation campaigns"})]}),(0,Qe.jsxs)("button",{onClick:w,className:"btn-primary flex items-center gap-2",children:[(0,Qe.jsx)(Xe,{className:"h-4 w-4"}),"Create Model"]})]}),(0,Qe.jsx)(Ns,{refreshTrigger:p,className:"mt-6"})]}),(0,Qe.jsxs)("div",{className:"mb-6",children:[(0,Qe.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,Qe.jsxs)("div",{className:"flex-1 relative",children:[(0,Qe.jsx)(Ze,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,Qe.jsx)("input",{type:"text",placeholder:"Search models...",value:l,onChange:e=>o(e.target.value),className:"form-input pl-10 w-full"})]}),(0,Qe.jsxs)("div",{className:"relative",children:[(0,Qe.jsx)(et,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,Qe.jsxs)("select",{value:c,onChange:e=>d(e.target.value),className:"form-select pl-10 pr-8",children:[(0,Qe.jsx)("option",{value:"all",children:"All Status"}),(0,Qe.jsx)("option",{value:"active",children:"Active"}),(0,Qe.jsx)("option",{value:"paused",children:"Paused"}),(0,Qe.jsx)("option",{value:"inactive",children:"Inactive"})]})]}),(0,Qe.jsxs)("button",{className:"btn-secondary flex items-center gap-2",onClick:()=>qt("Export functionality coming soon!"),children:[(0,Qe.jsx)(tt,{className:"h-4 w-4"}),"Export"]})]}),(0,Qe.jsxs)("div",{className:"mt-4 text-sm text-gray-500",children:["Showing ",N.length," of ",e.length," models"]})]}),(0,Qe.jsx)(Ds,{models:N,selectedModels:v,onSelectionChange:y,onModelsUpdated:j}),(0,Qe.jsx)(ls,{models:N,selectedModels:v,onSelectionChange:y,onEdit:e=>{b(e),f(!0)},onDelete:async e=>{if(window.confirm('Are you sure you want to delete "'.concat(e.name,'"? This will also delete all associated accounts.')))try{await Wr.deleteModel(e.id),qt.success('Model "'.concat(e.name,'" deleted successfully')),j()}catch(t){console.error("Failed to delete model:",t),qt.error(t.message||"Failed to delete model")}},onCreate:w}),(0,Qe.jsx)(vs,{isOpen:u,onClose:()=>m(!1),onSuccess:j}),(0,Qe.jsx)(_s,{model:g,isOpen:h,onClose:()=>{f(!1),b(null)},onSuccess:j})]})},Os=He("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Ts=()=>{const{modelId:e}=ne(),[t,n]=(0,a.useState)(null),[r,s]=(0,a.useState)(!0),[i,l]=(0,a.useState)(null),[o,c]=(0,a.useState)("30d"),d=(0,a.useCallback)((async()=>{if(e)try{s(!0),l(null);const t=await Wr.getModelPerformance(parseInt(e),o);n(t)}catch(t){console.error("Failed to load model performance:",t),l(t.message||"Failed to load model performance"),qt.error("Failed to load model performance")}finally{s(!1)}}),[e,o]);(0,a.useEffect)((()=>{e&&d()}),[e,d]);if(r)return(0,Qe.jsx)("div",{className:"p-8",children:(0,Qe.jsx)(os,{size:"lg",text:"Loading model analytics...",className:"min-h-96"})});if(i||!t)return(0,Qe.jsx)("div",{className:"p-8",children:(0,Qe.jsxs)("div",{className:"text-center py-12",children:[(0,Qe.jsx)("div",{className:"text-red-400 text-6xl mb-4",children:"\u26a0\ufe0f"}),(0,Qe.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Failed to load model analytics"}),(0,Qe.jsx)("p",{className:"text-gray-500 mb-6",children:i}),(0,Qe.jsx)("button",{onClick:d,className:"btn-primary",children:"Try Again"})]})});const{model:u,follow_stats:m,account_stats:p,daily_activity:x}=t;return(0,Qe.jsxs)("div",{className:"p-8",children:[(0,Qe.jsxs)("div",{className:"mb-8",children:[(0,Qe.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,Qe.jsx)(Ie,{to:"/models",className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-md transition-colors",children:(0,Qe.jsx)(Os,{className:"h-5 w-5"})}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:u.name}),(0,Qe.jsx)("p",{className:"text-gray-600 mt-1",children:"Model Performance Analytics"})]})]}),(0,Qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Qe.jsx)(Yr,{className:"h-4 w-4 text-gray-500"}),(0,Qe.jsxs)("select",{value:o,onChange:e=>c(e.target.value),className:"form-select",children:[(0,Qe.jsx)("option",{value:"7d",children:"Last 7 days"}),(0,Qe.jsx)("option",{value:"30d",children:"Last 30 days"}),(0,Qe.jsx)("option",{value:"90d",children:"Last 90 days"})]})]}),(0,Qe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Qe.jsxs)("button",{onClick:()=>{qt("Export functionality coming soon!")},className:"btn-secondary flex items-center gap-2",children:[(0,Qe.jsx)(tt,{className:"h-4 w-4"}),"Export"]}),(0,Qe.jsxs)(Ie,{to:"/models/".concat(e,"/settings"),className:"btn-primary flex items-center gap-2",children:[(0,Qe.jsx)(We,{className:"h-4 w-4"}),"Settings"]})]})]})]}),(0,Qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,Qe.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,Qe.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,Qe.jsx)("div",{className:"p-3 bg-blue-100 text-blue-600 rounded-lg",children:(0,Qe.jsx)(Qr,{className:"h-6 w-6"})}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Follow Performance"}),(0,Qe.jsx)("p",{className:"text-sm text-gray-600",children:"Recent activity stats"})]})]}),(0,Qe.jsxs)("div",{className:"space-y-3",children:[(0,Qe.jsxs)("div",{className:"flex justify-between",children:[(0,Qe.jsx)("span",{className:"text-gray-600",children:"Total Follows:"}),(0,Qe.jsx)("span",{className:"font-semibold",children:m.total_follows})]}),(0,Qe.jsxs)("div",{className:"flex justify-between",children:[(0,Qe.jsx)("span",{className:"text-gray-600",children:"Active Follows:"}),(0,Qe.jsx)("span",{className:"font-semibold text-green-600",children:m.active_follows})]}),(0,Qe.jsxs)("div",{className:"flex justify-between",children:[(0,Qe.jsx)("span",{className:"text-gray-600",children:"Recent Follows:"}),(0,Qe.jsx)("span",{className:"font-semibold",children:m.recent_follows})]}),(0,Qe.jsxs)("div",{className:"flex justify-between",children:[(0,Qe.jsx)("span",{className:"text-gray-600",children:"Daily Rate:"}),(0,Qe.jsxs)("span",{className:"font-semibold",children:[m.daily_follow_rate.toFixed(1),"/day"]})]})]})]}),(0,Qe.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,Qe.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,Qe.jsx)("div",{className:"p-3 bg-green-100 text-green-600 rounded-lg",children:(0,Qe.jsx)(Ge,{className:"h-6 w-6"})}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Account Status"}),(0,Qe.jsx)("p",{className:"text-sm text-gray-600",children:"Instagram accounts"})]})]}),(0,Qe.jsxs)("div",{className:"space-y-3",children:[(0,Qe.jsxs)("div",{className:"flex justify-between",children:[(0,Qe.jsx)("span",{className:"text-gray-600",children:"Total Accounts:"}),(0,Qe.jsx)("span",{className:"font-semibold",children:p.total_accounts})]}),(0,Qe.jsxs)("div",{className:"flex justify-between",children:[(0,Qe.jsx)("span",{className:"text-gray-600",children:"Active:"}),(0,Qe.jsx)("span",{className:"font-semibold text-green-600",children:p.active_accounts})]}),(0,Qe.jsxs)("div",{className:"flex justify-between",children:[(0,Qe.jsx)("span",{className:"text-gray-600",children:"Banned:"}),(0,Qe.jsx)("span",{className:"font-semibold text-red-600",children:p.banned_accounts})]}),(0,Qe.jsxs)("div",{className:"flex justify-between",children:[(0,Qe.jsx)("span",{className:"text-gray-600",children:"Suspended:"}),(0,Qe.jsx)("span",{className:"font-semibold text-yellow-600",children:p.suspended_accounts})]})]})]}),(0,Qe.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,Qe.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,Qe.jsx)("div",{className:"p-3 bg-purple-100 text-purple-600 rounded-lg",children:(0,Qe.jsx)(Yr,{className:"h-6 w-6"})}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Model Settings"}),(0,Qe.jsx)("p",{className:"text-sm text-gray-600",children:"Configuration"})]})]}),(0,Qe.jsxs)("div",{className:"space-y-3",children:[(0,Qe.jsxs)("div",{className:"flex justify-between",children:[(0,Qe.jsx)("span",{className:"text-gray-600",children:"Status:"}),(0,Qe.jsx)("span",{className:"font-semibold capitalize ".concat("active"===u.status?"text-green-600":"paused"===u.status?"text-yellow-600":"text-gray-600"),children:u.status})]}),(0,Qe.jsxs)("div",{className:"flex justify-between",children:[(0,Qe.jsx)("span",{className:"text-gray-600",children:"Unfollow Ratio:"}),(0,Qe.jsxs)("span",{className:"font-semibold",children:[u.unfollow_ratio,"%"]})]}),(0,Qe.jsxs)("div",{className:"flex justify-between",children:[(0,Qe.jsx)("span",{className:"text-gray-600",children:"Daily Limit:"}),(0,Qe.jsx)("span",{className:"font-semibold",children:u.daily_follow_limit})]}),(0,Qe.jsxs)("div",{className:"flex justify-between",children:[(0,Qe.jsx)("span",{className:"text-gray-600",children:"Avg Duration:"}),(0,Qe.jsx)("span",{className:"font-semibold",children:m.avg_follow_duration_days?"".concat(m.avg_follow_duration_days.toFixed(1),"d"):"N/A"})]})]})]})]}),x.length>0&&(0,Qe.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 mb-8",children:[(0,Qe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Daily Activity"}),(0,Qe.jsxs)("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[(0,Qe.jsx)(Qr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,Qe.jsx)("p",{className:"text-gray-600 mb-2",children:"Activity Chart"}),(0,Qe.jsx)("p",{className:"text-sm text-gray-500",children:"Chart visualization will be available once Chart.js dependencies are installed"}),(0,Qe.jsxs)("div",{className:"mt-4 text-xs text-gray-400",children:["Last ",x.length," days of activity data loaded"]})]})]}),x.length>0&&(0,Qe.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,Qe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Daily Activity"}),(0,Qe.jsx)("div",{className:"overflow-x-auto",children:(0,Qe.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Qe.jsx)("thead",{className:"bg-gray-50",children:(0,Qe.jsxs)("tr",{children:[(0,Qe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,Qe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Follows"}),(0,Qe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Active Accounts"})]})}),(0,Qe.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:x.slice(0,10).map((e=>(0,Qe.jsxs)("tr",{children:[(0,Qe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(e.activity_date).toLocaleDateString()}),(0,Qe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.follows_count}),(0,Qe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:e.active_accounts})]},e.activity_date)))})]})})]})]})},Rs=He("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Fs=He("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),Ls=[{id:"overview",label:"Overview",icon:Ge,description:"All accounts assigned to this model"},{id:"available",label:"Available",icon:Rs,description:"Accounts ready for assignment"},{id:"warmup",label:"Warm-up",icon:Qr,description:"Accounts in warm-up process"},{id:"proxy",label:"Proxy",icon:Fs,description:"Proxy management and assignment"},{id:"content",label:"Content",icon:Xr,description:"Content management for this model"}],Ms=e=>{let{modelId:t,activeTab:n,onTabChange:a}=e;const r=te(),s=Z();return(0,Qe.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,Qe.jsx)("nav",{className:"max-w-full overflow-x-auto",children:(0,Qe.jsx)("div",{className:"flex space-x-0 min-w-max px-6",children:Ls.map((e=>{const t=e.icon,i=n===e.id;return(0,Qe.jsxs)("button",{onClick:()=>(e=>{const t=new URLSearchParams(s.search);t.set("tab",e),r({pathname:s.pathname,search:t.toString()},{replace:!0}),a(e)})(e.id),className:"\n                  group relative py-4 px-4 border-b-2 font-medium text-sm whitespace-nowrap\n                  focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\n                  transition-colors duration-200\n                  ".concat(i?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","\n                "),title:e.description,children:[(0,Qe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Qe.jsx)(t,{className:"h-4 w-4 ".concat(i?"text-primary-600":"text-gray-400 group-hover:text-gray-600")}),(0,Qe.jsx)("span",{children:e.label})]}),i&&(0,Qe.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary-500 rounded-t-sm"})]},e.id)}))})})})},zs=He("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Bs=40,Us=44,Hs=(e,t)=>"".concat(e,":").concat(t),qs=e=>{const[t,n]=e.split(":").map(Number);return{rowIndex:t,columnIndex:n}},Ws="ArrowUp",Gs="ArrowDown",Vs="ArrowLeft",$s="ArrowRight",Ks="Tab",Js="Enter",Qs="Home",Ys="End",Xs="PageUp",Zs="PageDown",ei="Escape",ti="Delete",ni="Backspace",ai="F2",ri=40,si=44,ii=()=>({selectedCells:new Set,selectedRows:new Set,selectedColumns:new Set,activeCell:null,ranges:[],mode:"cell"}),li=function(e,t,n,a){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:5;const s=Math.max(0,Math.floor(e/n)-r),i=Math.ceil(t/n);return{start:s,end:Math.min(a-1,s+i+2*r)}},oi=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=Hs(t.rowIndex,t.columnIndex);if(n&&e.activeCell){const n={start:e.activeCell,end:t},r=(e=>{const t=[],{start:n,end:a}=e,r=Math.min(n.rowIndex,a.rowIndex),s=Math.max(n.rowIndex,a.rowIndex),i=Math.min(n.columnIndex,a.columnIndex),l=Math.max(n.columnIndex,a.columnIndex);for(let o=r;o<=s;o++)for(let e=i;e<=l;e++)t.push({rowIndex:o,columnIndex:e});return t})(n),s=new Set;return a&&e.selectedCells.forEach((e=>s.add(e))),r.forEach((e=>{s.add(Hs(e.rowIndex,e.columnIndex))})),Le(Le({},e),{},{selectedCells:s,activeCell:t,ranges:a?[...e.ranges,n]:[n],mode:"range"})}{const n=new Set([r]);return a&&e.selectedCells.has(r)?(e.selectedCells.delete(r),Le(Le({},e),{},{selectedCells:new Set(e.selectedCells),activeCell:t})):a?(e.selectedCells.add(r),Le(Le({},e),{},{selectedCells:new Set(e.selectedCells),activeCell:t})):Le(Le({},ii()),{},{selectedCells:n,activeCell:t,mode:"cell"})}},ci=(e,t)=>{var n;if(null==e)return"";if(t.formatter)return t.formatter(e);switch(t.type){case"number":return"number"===typeof e?e.toString():String(e);case"date":return e instanceof Date?e.toLocaleDateString():new Date(e).toLocaleDateString();case"boolean":return e?"Yes":"No";case"select":const a=null===(n=t.options)||void 0===n?void 0:n.find((t=>t.value===e));return a?a.label:String(e);default:return String(e)}},di=e=>{let{totalRows:t,totalColumns:n,multiSelect:r=!0,rowSelection:s=!0,columnSelection:i=!0,onSelectionChange:l}=e;const[o,c]=(0,a.useState)(ii),d=(0,a.useCallback)((e=>{c(e),null===l||void 0===l||l(e)}),[l]),u=(0,a.useCallback)((function(e){const t=oi(o,e,arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&r);d(t)}),[o,r,d]),m=(0,a.useCallback)((function(e){if(!s)return;const t=function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=new Set,i=new Set;if(a&&e.activeCell){const a=Math.min(e.activeCell.rowIndex,t),l=Math.max(e.activeCell.rowIndex,t);for(let e=a;e<=l;e++){s.add(e);for(let t=0;t<n;t++)i.add(Hs(e,t))}r&&(e.selectedRows.forEach((e=>s.add(e))),e.selectedCells.forEach((e=>i.add(e))))}else{if(r&&e.selectedRows.has(t))return Le(Le({},e),{},{selectedRows:new Set(Array.from(e.selectedRows).filter((e=>e!==t))),selectedCells:new Set(Array.from(e.selectedCells).filter((e=>qs(e).rowIndex!==t))),activeCell:{rowIndex:t,columnIndex:0}});s.add(t);for(let e=0;e<n;e++)i.add(Hs(t,e));r&&(e.selectedRows.forEach((e=>s.add(e))),e.selectedCells.forEach((e=>i.add(e))))}return Le(Le({},ii()),{},{selectedRows:s,selectedCells:i,activeCell:{rowIndex:t,columnIndex:0},mode:"row"})}(o,e,n,arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&r);d(t)}),[o,s,n,r,d]),p=(0,a.useCallback)((function(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!i)return;const s=new Set,l=new Set;if(n&&o.activeCell){const n=Math.min(o.activeCell.columnIndex,e),i=Math.max(o.activeCell.columnIndex,e);for(let e=n;e<=i;e++){s.add(e);for(let n=0;n<t;n++)l.add(Hs(n,e))}a&&r&&(o.selectedColumns.forEach((e=>s.add(e))),o.selectedCells.forEach((e=>l.add(e))))}else{if(a&&r&&o.selectedColumns.has(e)){const t=Le(Le({},o),{},{selectedColumns:new Set(Array.from(o.selectedColumns).filter((t=>t!==e))),selectedCells:new Set(Array.from(o.selectedCells).filter((t=>qs(t).columnIndex!==e))),activeCell:{rowIndex:0,columnIndex:e}});return void d(t)}s.add(e);for(let n=0;n<t;n++)l.add(Hs(n,e));a&&r&&(o.selectedColumns.forEach((e=>s.add(e))),o.selectedCells.forEach((e=>l.add(e))))}const c=Le(Le({},ii()),{},{selectedColumns:s,selectedCells:l,activeCell:{rowIndex:0,columnIndex:e},mode:"column"});d(c)}),[o,i,t,r,d]),x=(0,a.useCallback)(((e,t)=>{const n=new Set,a=Math.min(e.rowIndex,t.rowIndex),r=Math.max(e.rowIndex,t.rowIndex),s=Math.min(e.columnIndex,t.columnIndex),i=Math.max(e.columnIndex,t.columnIndex);for(let o=a;o<=r;o++)for(let e=s;e<=i;e++)n.add(Hs(o,e));const l=Le(Le({},ii()),{},{selectedCells:n,activeCell:t,ranges:[{start:e,end:t}],mode:"range"});d(l)}),[d]),h=(0,a.useCallback)((()=>{const e=new Set,a=new Set,r=new Set;for(let s=0;s<t;s++){a.add(s);for(let t=0;t<n;t++)0===s&&r.add(t),e.add(Hs(s,t))}d({selectedCells:e,selectedRows:a,selectedColumns:r,activeCell:{rowIndex:0,columnIndex:0},ranges:[{start:{rowIndex:0,columnIndex:0},end:{rowIndex:t-1,columnIndex:n-1}}],mode:"range"})}),[t,n,d]),f=(0,a.useCallback)((()=>{d(ii())}),[d]),g=(0,a.useCallback)((e=>{d(Le(Le({},o),{},{activeCell:e}))}),[o,d]),b=(0,a.useCallback)((e=>o.selectedCells.has(Hs(e.rowIndex,e.columnIndex))),[o.selectedCells]),v=(0,a.useCallback)((e=>o.selectedRows.has(e)),[o.selectedRows]),y=(0,a.useCallback)((e=>o.selectedColumns.has(e)),[o.selectedColumns]),j=(0,a.useCallback)((e=>{var t,n;return(null===(t=o.activeCell)||void 0===t?void 0:t.rowIndex)===e.rowIndex&&(null===(n=o.activeCell)||void 0===n?void 0:n.columnIndex)===e.columnIndex}),[o.activeCell]),w=(0,a.useMemo)((()=>({totalSelectedCells:o.selectedCells.size,totalSelectedRows:o.selectedRows.size,totalSelectedColumns:o.selectedColumns.size,hasSelection:o.selectedCells.size>0,isAllSelected:o.selectedCells.size===t*n,mode:o.mode})),[o,t,n]),N=(0,a.useMemo)((()=>Array.from(o.selectedCells).map(qs)),[o.selectedCells]);return{selection:o,activeCell:o.activeCell,selectCell:u,selectRow:m,selectColumn:p,selectRange:x,selectAll:h,clearSelection:f,setActiveCell:g,setSelection:d,isCellSelected:b,isRowSelected:v,isColumnSelected:y,isActiveCell:j,selectionStats:w,selectedPositions:N}},ui=e=>{let{totalRows:t,totalColumns:n,activeCell:r,onNavigate:s,onSelectAll:i,onClearSelection:l,onStartEditing:o,onStopEditing:c,isEditing:d=!1,disabled:u=!1}=e;const m=(0,a.useRef)(null),p=(0,a.useCallback)((function(e){var a;let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!r||u)return;const l=Math.floor(((null===(a=m.current)||void 0===a?void 0:a.clientHeight)||400)/40),o=function(e,t,n,a){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:10;const{rowIndex:s,columnIndex:i}=e;switch(t){case"up":return s>0?{rowIndex:s-1,columnIndex:i}:null;case"down":return s<n-1?{rowIndex:s+1,columnIndex:i}:null;case"left":return i>0?{rowIndex:s,columnIndex:i-1}:null;case"right":return i<a-1?{rowIndex:s,columnIndex:i+1}:null;case"home":return{rowIndex:s,columnIndex:0};case"end":return{rowIndex:s,columnIndex:a-1};case"pageUp":return{rowIndex:Math.max(0,s-r),columnIndex:i};case"pageDown":return{rowIndex:Math.min(n-1,s+r),columnIndex:i};default:return null}}(r,e,t,n,l);o&&((e,t,n)=>e.rowIndex>=0&&e.rowIndex<t&&e.columnIndex>=0&&e.columnIndex<n)(o,t,n)&&s(o,i)}),[r,t,n,u,s]),x=(0,a.useCallback)((e=>{if(u)return;if(d){switch(e.key){case ei:e.preventDefault(),null===c||void 0===c||c();break;case Js:e.shiftKey?(e.preventDefault(),null===c||void 0===c||c(),p("up")):(e.preventDefault(),null===c||void 0===c||c(),p("down"));break;case Ks:e.preventDefault(),null===c||void 0===c||c(),p(e.shiftKey?"left":"right")}return}const t=(e=>{const{key:t,shiftKey:n,ctrlKey:a,altKey:r}=e;let s=null;switch(t){case Ws:s="up";break;case Gs:s="down";break;case Vs:s="left";break;case $s:s="right";break;case Qs:s="home";break;case Ys:s="end";break;case Xs:s="pageUp";break;case Zs:s="pageDown";break;case Ks:s=n?"left":"right";break;case Js:s=n?"up":"down";break;default:return null}return s?{direction:s,withShift:n,withCtrl:a,withAlt:r}:null})(e);if(t)return e.preventDefault(),void p(t.direction,t.withShift);switch(e.key){case"a":case"A":(e.ctrlKey||e.metaKey)&&(e.preventDefault(),null===i||void 0===i||i());break;case ei:e.preventDefault(),null===l||void 0===l||l();break;case ai:r&&o&&(e.preventDefault(),o(r));break;case ti:case ni:e.preventDefault();break;case" ":r&&e.preventDefault();break;default:r&&o&&1===e.key.length&&!e.ctrlKey&&!e.metaKey&&(e.preventDefault(),o(r))}}),[u,d,p,i,l,o,c,r]),h=(0,a.useCallback)((function(){p("up",arguments.length>0&&void 0!==arguments[0]&&arguments[0])}),[p]),f=(0,a.useCallback)((function(){p("down",arguments.length>0&&void 0!==arguments[0]&&arguments[0])}),[p]),g=(0,a.useCallback)((function(){p("left",arguments.length>0&&void 0!==arguments[0]&&arguments[0])}),[p]),b=(0,a.useCallback)((function(){p("right",arguments.length>0&&void 0!==arguments[0]&&arguments[0])}),[p]),v=(0,a.useCallback)((function(){p("home",arguments.length>0&&void 0!==arguments[0]&&arguments[0])}),[p]),y=(0,a.useCallback)((function(){p("end",arguments.length>0&&void 0!==arguments[0]&&arguments[0])}),[p]),j=(0,a.useCallback)((function(){p("pageUp",arguments.length>0&&void 0!==arguments[0]&&arguments[0])}),[p]),w=(0,a.useCallback)((function(){p("pageDown",arguments.length>0&&void 0!==arguments[0]&&arguments[0])}),[p]),N=(0,a.useCallback)((()=>{var e;null===(e=m.current)||void 0===e||e.focus()}),[]),k=(0,a.useCallback)((()=>document.activeElement===m.current),[]);return{containerRef:m,handleKeyDown:x,navigateUp:h,navigateDown:f,navigateLeft:g,navigateRight:b,navigateHome:v,navigateEnd:y,navigatePageUp:j,navigatePageDown:w,navigateToCell:p,focus:N,isFocused:k}},mi=e=>{let{data:t,columns:n,height:r,width:s=0,rowHeight:i,headerHeight:l,virtualScrolling:o=!0,multiSelect:c=!0,rowSelection:d=!0,columnSelection:u=!0,keyboardNavigation:m=!0,onCellClick:p,onCellDoubleClick:x,onRowClick:h,onColumnClick:f,onSelectionChange:g,onScroll:b,onColumnResize:v,onColumnReorder:y,selection:j,activeCell:w}=e;const[N,k]=(0,a.useState)(n),[S,C]=(0,a.useState)(!1),[_,E]=(0,a.useState)(null),I=(0,a.useRef)(null),P=(0,a.useMemo)((()=>N.filter((e=>e.visible)).sort(((e,t)=>e.order-t.order))),[N]),D=P.length,A=t.length,O=di({totalRows:A,totalColumns:D,multiSelect:c,rowSelection:d,columnSelection:u,onSelectionChange:g}),T=j||O.selection,R=w||O.activeCell,F=j?()=>{}:O.setActiveCell,L=j?()=>{}:O.setSelection,M=(e=>{let{totalRows:t,columns:n,containerHeight:r,containerWidth:s=0,rowHeight:i=ri,headerHeight:l=si,overscan:o=5,onScroll:c}=e;const d=(0,a.useRef)(null),[u,m]=(0,a.useState)({scrollTop:0,scrollLeft:0,startRowIndex:0,endRowIndex:Math.min(t-1,Math.ceil(r/i)+o),startColumnIndex:0,endColumnIndex:n.length-1,rowHeight:i,containerHeight:r,containerWidth:s}),p=(0,a.useMemo)((()=>((e,t,n)=>n+e*t)(t,i,l)),[t,i,l]),x=(0,a.useMemo)((()=>(e=>e.filter((e=>e.visible)).reduce(((e,t)=>e+t.width),0))(n)),[n]),h=(0,a.useMemo)((()=>{let e=0,t=0,a=n.length-1;for(let r=0;r<n.length;r++){if(n[r].visible&&e+n[r].width>u.scrollLeft){t=r;break}n[r].visible&&(e+=n[r].width)}e=0;for(let r=t;r<n.length;r++)if(n[r].visible&&(e+=n[r].width,e>s+u.scrollLeft)){a=r;break}return{startColumnIndex:t,endColumnIndex:a,visibleColumns:n.slice(t,a+1).filter((e=>e.visible))}}),[n,u.scrollLeft,s]),f=(0,a.useMemo)((()=>{const e=li(u.scrollTop,r,i,t,o);return{startRowIndex:e.start,endRowIndex:e.end,visibleRowCount:e.end-e.start+1}}),[u.scrollTop,r,i,t,o]),g=(0,a.useCallback)((e=>{m((t=>{const n=Le(Le({},t),e);return null===c||void 0===c||c(n),n}))}),[c]),b=(0,a.useCallback)((e=>{const n=e.currentTarget,a=n.scrollTop,s=n.scrollLeft,l=li(a,r,i,t,o);g({scrollTop:a,scrollLeft:s,startRowIndex:l.start,endRowIndex:l.end,startColumnIndex:h.startColumnIndex,endColumnIndex:h.endColumnIndex})}),[r,i,t,o,h,g]),v=(0,a.useCallback)(((e,t)=>{d.current&&(d.current.scrollTop=e,void 0!==t&&(d.current.scrollLeft=t))}),[]),y=(0,a.useCallback)((function(e){const t=p-r;let n;switch(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"start"){case"center":n=Math.max(0,Math.min(t,e*i-r/2+l));break;case"end":n=Math.max(0,Math.min(t,e*i-r+i+l));break;default:n=Math.max(0,Math.min(t,e*i+l))}v(n)}),[p,r,i,l,v]),j=(0,a.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"start";if(e<0||e>=n.length)return;let a=0;for(let s=0;s<e;s++)n[s].visible&&(a+=n[s].width);const r=n[e].width,i=x-s;let l;switch(t){case"center":l=Math.max(0,Math.min(i,a-s/2+r/2));break;case"end":l=Math.max(0,Math.min(i,a-s+r));break;default:l=Math.max(0,Math.min(i,a))}v(u.scrollTop,l)}),[n,x,s,u.scrollTop,v]),w=(0,a.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"start",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"start";y(e.rowIndex,t),j(e.columnIndex,n)}),[y,j]),N=(0,a.useCallback)((e=>e>=f.startRowIndex&&e<=f.endRowIndex),[f]),k=(0,a.useCallback)((e=>e>=h.startColumnIndex&&e<=h.endColumnIndex),[h]),S=(0,a.useCallback)((e=>N(e.rowIndex)&&k(e.columnIndex)),[N,k]),C=(0,a.useCallback)((e=>Math.max(0,e*i+l)),[i,l]),_=(0,a.useCallback)((e=>{let t=0;for(let a=0;a<e&&a<n.length;a++)n[a].visible&&(t+=n[a].width);return t}),[n]);return(0,a.useEffect)((()=>{g({containerHeight:r,containerWidth:s,rowHeight:i,startColumnIndex:h.startColumnIndex,endColumnIndex:h.endColumnIndex})}),[r,s,i,h,g]),{scrollElementRef:d,scrollState:u,totalHeight:p,totalWidth:x,visibleRows:f,visibleColumns:h,handleScroll:b,scrollToPosition:v,scrollToRow:y,scrollToColumn:j,scrollToCell:w,isRowVisible:N,isColumnVisible:k,isCellVisible:S,getRowScrollPosition:C,getColumnScrollPosition:_}})({totalRows:A,columns:P,containerHeight:r,containerWidth:s,rowHeight:i,headerHeight:l,onScroll:b}),z=(0,a.useCallback)((function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]?O.selectCell(e,!0,!1):O.selectCell(e,!1,!1),M.isCellVisible(e)||M.scrollToCell(e,"center","center")}),[O,M]),B=(0,a.useCallback)((e=>{if(!m)return;const t=P[e.columnIndex];null!==t&&void 0!==t&&t.editable&&(E(e),C(!0),F(e))}),[m,P,F]),U=(0,a.useCallback)((()=>{var e;C(!1),E(null),null===(e=I.current)||void 0===e||e.focus()}),[]),H=ui({totalRows:A,totalColumns:D,activeCell:R,onNavigate:z,onSelectAll:O.selectAll,onClearSelection:O.clearSelection,onStartEditing:B,onStopEditing:U,isEditing:S,disabled:!m}),q=(0,a.useCallback)(((e,t,n,a)=>{const r=(null===a||void 0===a?void 0:a.shiftKey)||!1;(null===a||void 0===a?void 0:a.ctrlKey)||(null===a||void 0===a?void 0:a.metaKey)||!1?O.selectCell(e,!1,!0):r?O.selectCell(e,!0,!1):O.selectCell(e,!1,!1),H.focus(),null===p||void 0===p||p(e,t,n)}),[O,H,p]),W=(0,a.useCallback)(((e,t,n)=>{B(e),null===x||void 0===x||x(e,t,n)}),[B,x]),G=(0,a.useCallback)(((e,t,n)=>{const a=(null===n||void 0===n?void 0:n.shiftKey)||!1,r=(null===n||void 0===n?void 0:n.ctrlKey)||(null===n||void 0===n?void 0:n.metaKey)||!1;O.selectRow(e,a,r),null===h||void 0===h||h(e,t)}),[O,h]),V=(0,a.useCallback)(((e,t,n)=>{const a=(null===n||void 0===n?void 0:n.shiftKey)||!1,r=(null===n||void 0===n?void 0:n.ctrlKey)||(null===n||void 0===n?void 0:n.metaKey)||!1;O.selectColumn(e,a,r),null===f||void 0===f||f(e,t)}),[O,f]),$=(0,a.useCallback)(((e,t)=>{k((n=>n.map((n=>n.id===e?Le(Le({},n),{},{width:Math.max(n.minWidth,t)}):n)))),null===v||void 0===v||v(e,t)}),[v]),K=(0,a.useCallback)(((e,t)=>{k((n=>{const a=[...n],[r]=a.splice(e,1);return a.splice(t,0,r),a.forEach(((e,t)=>{e.order=t})),a})),null===y||void 0===y||y(e,t)}),[y]),J=(0,a.useCallback)(((e,n)=>{const a=t[e],r=P[n];return a&&r?{row:a,column:r,value:a[r.field],position:{rowIndex:e,columnIndex:n}}:null}),[t,P]),Q=(0,a.useCallback)((()=>{const{startRowIndex:e,endRowIndex:n}=M.visibleRows;return t.slice(e,n+1)}),[t,M.visibleRows]),Y=(0,a.useCallback)((e=>M.getRowScrollPosition(e)),[M]),X=(0,a.useCallback)((e=>M.getColumnScrollPosition(e)),[M]),Z=(0,a.useCallback)((e=>{k(e)}),[]),ee=(0,a.useCallback)((e=>{k((t=>t.map((t=>t.id===e?Le(Le({},t),{},{visible:!t.visible}):t))))}),[]);return{selection:T,activeCell:R,virtualScroll:M.scrollState,columns:P,setActiveCell:F,setSelection:L,selectCell:O.selectCell,selectRow:O.selectRow,selectColumn:O.selectColumn,selectRange:O.selectRange,selectAll:O.selectAll,clearSelection:O.clearSelection,navigateCell:H.navigateToCell,handleKeyDown:H.handleKeyDown,getCellKey:e=>Hs(e.rowIndex,e.columnIndex),isCellSelected:O.isCellSelected,isRowSelected:O.isRowSelected,isColumnSelected:O.isColumnSelected,getVisibleRowRange:()=>M.visibleRows,getVisibleColumnRange:()=>M.visibleColumns,getCellData:J,getVisibleData:Q,getRowOffset:Y,getColumnOffset:X,updateColumns:Z,toggleColumnVisibility:ee,handleCellClick:q,handleCellDoubleClick:W,handleRowClick:G,handleColumnClick:V,handleColumnResize:$,handleColumnReorder:K,containerRef:H.containerRef,scrollElementRef:M.scrollElementRef,handleScroll:M.handleScroll,isEditing:S,editingCell:_,handleStartEditing:B,handleStopEditing:U,scrollToCell:M.scrollToCell,scrollToRow:M.scrollToRow,scrollToColumn:M.scrollToColumn,totalHeight:M.totalHeight,totalWidth:M.totalWidth}},pi=He("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),xi=He("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),hi=He("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),fi=e=>{let{column:t,columnIndex:n,isSelected:r,onColumnClick:s,onColumnResize:i,onSort:l,height:o}=e;const[c,d]=(0,a.useState)(!1),[u,m]=(0,a.useState)(null),p=(0,a.useRef)(null),x=(0,a.useRef)(0),h=(0,a.useRef)(0),f=(0,a.useCallback)((e=>{c||null===s||void 0===s||s(n,t,e)}),[n,t,c,s]),g=(0,a.useCallback)((e=>{if(e.stopPropagation(),!t.sortable)return;const n="asc"===u?"desc":"asc";m(n),null===l||void 0===l||l(t.id,n)}),[t.id,t.sortable,u,l]),b=(0,a.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),d(!0),x.current=e.clientX,h.current=t.width;const n=e=>{const n=e.clientX-x.current,a=Math.max(t.minWidth,h.current+n);t.maxWidth?null===i||void 0===i||i(t.id,Math.min(t.maxWidth,a)):null===i||void 0===i||i(t.id,a)},a=()=>{d(!1),document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",a)};document.addEventListener("mousemove",n),document.addEventListener("mouseup",a)}),[t.id,t.width,t.minWidth,t.maxWidth,i]),v=(0,a.useMemo)((()=>t.sortable?(0,Qe.jsx)("button",{onClick:g,className:"ml-1 p-1 hover:bg-gray-200 rounded",title:"Sort ".concat("asc"===u?"descending":"ascending"),children:"asc"===u?(0,Qe.jsx)(pi,{className:"h-3 w-3"}):"desc"===u?(0,Qe.jsx)(xi,{className:"h-3 w-3"}):(0,Qe.jsxs)("div",{className:"h-3 w-3 flex flex-col justify-center items-center",children:[(0,Qe.jsx)(pi,{className:"h-2 w-2 -mb-1 opacity-40"}),(0,Qe.jsx)(xi,{className:"h-2 w-2 opacity-40"})]})}):null),[t.sortable,u,g]),y=(0,a.useMemo)((()=>"\n      relative flex items-center px-3 py-2 bg-gray-50 border-r border-b border-gray-200\n      font-medium text-sm text-gray-900 cursor-pointer hover:bg-gray-100\n      ".concat("center"===t.align?"justify-center":"","\n      ").concat("right"===t.align?"justify-end":"","\n      ").concat(r?"bg-blue-100 border-blue-300":"","\n    ").trim()),[t.align,r]);return(0,Qe.jsxs)("div",{className:y,style:{width:"".concat(t.width,"px"),minWidth:"".concat(t.width,"px"),height:"".concat(o,"px")},onClick:f,role:"columnheader","aria-sort":"asc"===u?"ascending":"desc"===u?"descending":"none","data-column-index":n,children:[(0,Qe.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,Qe.jsxs)("div",{className:"flex items-center min-w-0",children:[t.headerRender?t.headerRender(t):(0,Qe.jsx)("span",{className:"truncate",title:t.header,children:t.header}),v]}),(0,Qe.jsx)("button",{className:"ml-1 p-1 opacity-0 group-hover:opacity-100 hover:bg-gray-200 rounded",title:"Column options",onClick:e=>e.stopPropagation(),children:(0,Qe.jsx)(hi,{className:"h-3 w-3"})})]}),t.resizable&&(0,Qe.jsx)("div",{ref:p,className:"\n            absolute right-0 top-0 bottom-0 w-1 cursor-col-resize \n            hover:bg-blue-300 active:bg-blue-400\n            ".concat(c?"bg-blue-400":"","\n          "),onMouseDown:b,title:"Resize column"})]})},gi=e=>{let{columns:t,height:n,isColumnSelected:r,onColumnClick:s,onColumnResize:i,onSort:l,className:o=""}=e;const c=(0,a.useMemo)((()=>"\n      flex items-stretch bg-gray-50 border-b border-gray-300 sticky top-0 z-10\n      ".concat(o,"\n    ").trim()),[o]);return(0,Qe.jsxs)("div",{className:c,style:{height:"".concat(n,"px")},role:"row",children:[(0,Qe.jsx)("div",{className:"flex items-center justify-center px-2 bg-gray-100 border-r border-gray-300 font-medium text-xs text-gray-600",style:{width:"50px",minWidth:"50px"},children:"#"}),t.map(((e,t)=>(0,Qe.jsx)(fi,{column:e,columnIndex:t,isSelected:(null===r||void 0===r?void 0:r(t))||!1,onColumnClick:s,onColumnResize:i,onSort:l,height:n},e.id)))]})},bi=(0,a.memo)(gi),vi=e=>{let{status:t}=e;const n=(0,a.useMemo)((()=>{const e="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium";switch(null===t||void 0===t?void 0:t.toLowerCase()){case"active":return"".concat(e," bg-green-100 text-green-800");case"banned":case"error":return"".concat(e," bg-red-100 text-red-800");case"suspended":return"".concat(e," bg-yellow-100 text-yellow-800");case"inactive":return"".concat(e," bg-gray-100 text-gray-800");case"unknown":return"".concat(e," bg-gray-100 text-gray-600");default:return"".concat(e," bg-blue-100 text-blue-800")}}),[t]);return(0,Qe.jsx)("span",{className:n,children:t||"Unknown"})},yi=e=>{let{position:t,value:n,row:r,column:s,isSelected:i,isActive:l,isEditing:o,width:c,height:d,onClick:u,onDoubleClick:m,className:p=""}=e;const x=(0,a.useMemo)((()=>{var e;if(null==n)return(0,Qe.jsx)("span",{className:"text-gray-400",children:"\u2014"});if(s.render)return s.render(n,r,s);switch(s.type){case"boolean":return(0,Qe.jsx)("span",{className:"inline-flex items-center justify-center w-5 h-5 rounded-full text-xs font-medium ".concat(n?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"),children:n?"\u2713":"\u2717"});case"select":if("status"===s.field||"proxy_status"===s.field)return(0,Qe.jsx)(vi,{status:n});const t=null===(e=s.options)||void 0===e?void 0:e.find((e=>e.value===n));return(0,Qe.jsx)("span",{children:t?t.label:ci(n,s)});case"number":return(0,Qe.jsx)("span",{className:"font-mono text-right",children:ci(n,s)});case"date":return(0,Qe.jsx)("span",{className:"text-sm",children:ci(n,s)});default:return(0,Qe.jsx)("span",{className:"truncate",children:ci(n,s)})}}),[n,r,s]),h=(0,a.useMemo)((()=>{const e="\n      flex items-center px-3 py-2 border-r border-b border-gray-200 \n      cursor-pointer hover:bg-gray-50 focus:outline-none\n      ".concat("center"===s.align?"justify-center":"","\n      ").concat("right"===s.align?"justify-end":"","\n      ").concat(p,"\n    ").trim();return function(e,t,n,a){const r=[arguments.length>4&&void 0!==arguments[4]?arguments[4]:""];return e&&r.push("bg-blue-100 border-blue-300"),t&&r.push("ring-2 ring-blue-500 ring-inset"),n&&r.push("bg-yellow-50"),a&&r.push("bg-red-50 border-red-300"),r.filter(Boolean).join(" ")}(i,l,!1,!1,e)}),[i,l,s.align,p]);return(0,Qe.jsx)("div",{className:h,style:{width:"".concat(c,"px"),minWidth:"".concat(c,"px"),height:"".concat(d,"px"),minHeight:"".concat(d,"px")},onClick:e=>{null===u||void 0===u||u(t,r,s,e)},onDoubleClick:()=>{null===m||void 0===m||m(t,r,s)},role:"gridcell",tabIndex:l?0:-1,"aria-selected":i,"data-row-index":t.rowIndex,"data-column-index":t.columnIndex,children:o?(0,Qe.jsx)("input",{type:"text",value:ci(n,s),className:"w-full bg-transparent border-none outline-none",autoFocus:!0,readOnly:!0}):x})},ji=(0,a.memo)(yi),wi=e=>{let{row:t,rowIndex:n,columns:r,height:s,isSelected:i,isCellSelected:l,isCellActive:o,isCellEditing:c,onRowClick:d,onCellClick:u,onCellDoubleClick:m,className:p="",style:x}=e;const h=(0,a.useMemo)((()=>"\n      flex items-stretch hover:bg-gray-50\n      ".concat(n%2===0?"bg-white":"bg-gray-25","\n      ").concat(i?"bg-blue-50 border-blue-300":"","\n      ").concat(p,"\n    ").trim()),[n,i,p]);return(0,Qe.jsxs)("div",{className:h,style:Le({height:"".concat(s,"px")},x),role:"row","aria-selected":i,"data-row-index":n,children:[(0,Qe.jsx)("div",{className:"\n          flex items-center justify-center px-2 border-r border-gray-200 \n          font-medium text-xs text-gray-600 cursor-pointer hover:bg-gray-100\n          ".concat(i?"bg-blue-100 border-blue-300":"bg-gray-50","\n        "),style:{width:"50px",minWidth:"50px"},onClick:e=>{e.target===e.currentTarget&&(null===d||void 0===d||d(n,t,e))},title:"Row ".concat(n+1),children:n+1}),r.map(((e,a)=>{const r={rowIndex:n,columnIndex:a},i=t[e.field];return(0,Qe.jsx)(ji,{position:r,value:i,row:t,column:e,isSelected:l(r),isActive:o(r),isEditing:c(r),width:e.width,height:s,onClick:u,onDoubleClick:m},e.id)}))]})},Ni=(0,a.memo)(wi),ki=["data","columns","height","width","rowHeight","headerHeight","virtualScrolling","loading","error","className","headerClassName","rowClassName","cellClassName"],Si=e=>{var t;let{data:n,columns:r,height:s,width:i,rowHeight:l=Bs,headerHeight:o=Us,virtualScrolling:c=!0,loading:d=!1,error:u=null,className:m="",headerClassName:p="",rowClassName:x,cellClassName:h}=e,f=ze(e,ki);const g=(0,a.useRef)(null),b=mi(Le({data:n,columns:r,height:s,width:i,rowHeight:l,headerHeight:o,virtualScrolling:c},f)),v=(i||(null===(t=g.current)||void 0===t||t.clientWidth),s-o),y=b.getVisibleData(),{startRowIndex:j}=b.getVisibleRowRange(),w=(0,a.useMemo)((()=>c?j*l:0),[c,j,l]);(0,a.useEffect)((()=>{if(!g.current)return;const e=new ResizeObserver((()=>{var e;null===(e=b.containerRef.current)||void 0===e||e.focus()}));return e.observe(g.current),()=>{e.disconnect()}}),[b.containerRef]);const N=(0,a.useMemo)((()=>"\n      relative border border-gray-300 bg-white rounded-lg overflow-hidden\n      focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2\n      ".concat(m,"\n    ").trim()),[m]);return d?(0,Qe.jsx)("div",{className:N,style:{height:"".concat(s,"px"),width:i?"".concat(i,"px"):"100%"},children:(0,Qe.jsxs)("div",{className:"flex items-center justify-center h-full",children:[(0,Qe.jsx)(os,{}),(0,Qe.jsx)("span",{className:"ml-3 text-gray-600",children:"Loading data..."})]})}):u?(0,Qe.jsx)("div",{className:N,style:{height:"".concat(s,"px"),width:i?"".concat(i,"px"):"100%"},children:(0,Qe.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,Qe.jsxs)("div",{className:"text-center",children:[(0,Qe.jsx)("div",{className:"text-red-600 font-medium",children:"Error loading data"}),(0,Qe.jsx)("div",{className:"text-red-500 text-sm mt-1",children:u})]})})}):0===n.length?(0,Qe.jsxs)("div",{className:N,style:{height:"".concat(s,"px"),width:i?"".concat(i,"px"):"100%"},children:[(0,Qe.jsx)(bi,{columns:b.columns,height:o,isColumnSelected:b.isColumnSelected,onColumnClick:b.handleColumnClick,onColumnResize:b.handleColumnResize,className:p}),(0,Qe.jsx)("div",{className:"flex items-center justify-center",style:{height:"".concat(v,"px")},children:(0,Qe.jsxs)("div",{className:"text-center text-gray-500",children:[(0,Qe.jsx)("div",{className:"text-lg font-medium",children:"No data available"}),(0,Qe.jsx)("div",{className:"text-sm mt-1",children:"There are no accounts to display"})]})})]}):(0,Qe.jsxs)("div",{ref:g,className:N,style:{height:"".concat(s,"px"),width:i?"".concat(i,"px"):"100%"},children:[(0,Qe.jsx)(bi,{columns:b.columns,height:o,isColumnSelected:b.isColumnSelected,onColumnClick:b.handleColumnClick,onColumnResize:b.handleColumnResize,className:p}),(0,Qe.jsx)("div",{ref:b.scrollElementRef,className:"relative overflow-auto",style:{height:"".concat(v,"px")},onScroll:b.handleScroll,tabIndex:0,onKeyDown:b.handleKeyDown,role:"grid","aria-label":"Data grid","aria-rowcount":n.length,"aria-colcount":b.columns.length,children:c?(0,Qe.jsx)("div",{style:{height:"".concat(b.totalHeight-o,"px"),position:"relative"},children:(0,Qe.jsx)("div",{style:{transform:"translateY(".concat(w,"px)"),position:"absolute",top:0,left:0,right:0},children:y.map(((e,t)=>{const n=j+t;return(0,Qe.jsx)(Ni,{row:e,rowIndex:n,columns:b.columns,height:l,isSelected:b.isRowSelected(n),isCellSelected:b.isCellSelected,isCellActive:e=>{var t,n;return(null===(t=b.activeCell)||void 0===t?void 0:t.rowIndex)===e.rowIndex&&(null===(n=b.activeCell)||void 0===n?void 0:n.columnIndex)===e.columnIndex},isCellEditing:e=>{var t,n;return(null===(t=b.editingCell)||void 0===t?void 0:t.rowIndex)===e.rowIndex&&(null===(n=b.editingCell)||void 0===n?void 0:n.columnIndex)===e.columnIndex},onRowClick:b.handleRowClick,onCellClick:b.handleCellClick,onCellDoubleClick:b.handleCellDoubleClick,className:"function"===typeof x?x(e,n):x},"row-".concat(n))}))})}):(0,Qe.jsx)("div",{children:n.map(((e,t)=>(0,Qe.jsx)(Ni,{row:e,rowIndex:t,columns:b.columns,height:l,isSelected:b.isRowSelected(t),isCellSelected:b.isCellSelected,isCellActive:e=>{var t,n;return(null===(t=b.activeCell)||void 0===t?void 0:t.rowIndex)===e.rowIndex&&(null===(n=b.activeCell)||void 0===n?void 0:n.columnIndex)===e.columnIndex},isCellEditing:e=>{var t,n;return(null===(t=b.editingCell)||void 0===t?void 0:t.rowIndex)===e.rowIndex&&(null===(n=b.editingCell)||void 0===n?void 0:n.columnIndex)===e.columnIndex},onRowClick:b.handleRowClick,onCellClick:b.handleCellClick,onCellDoubleClick:b.handleCellDoubleClick,className:"function"===typeof x?x(e,t):x},"row-".concat(t))))})}),b.selection.selectedCells.size>1&&(0,Qe.jsxs)("div",{className:"absolute bottom-4 right-4 bg-black bg-opacity-75 text-white px-3 py-2 rounded-lg text-sm",children:[b.selection.selectedCells.size," cells selected",b.selection.selectedRows.size>0&&" (".concat(b.selection.selectedRows.size," rows)"),b.selection.selectedColumns.size>0&&" (".concat(b.selection.selectedColumns.size," columns)")]})]})},Ci=e=>{let{modelId:t,activeTab:n,autoRefresh:r=!1,refreshInterval:s=3e4}=e;const[i,l]=(0,a.useState)([]),[o,c]=(0,a.useState)(!0),[d,u]=(0,a.useState)(null),[m,p]=(0,a.useState)(0),[x,h]=(0,a.useState)(0),[f,g]=(0,a.useState)({}),b=(0,a.useCallback)((e=>{const n=Le({},f);switch(e){case"overview":case"content":return Le(Le({},n),{},{model_id:t});case"available":return Le(Le({},n),{},{model_id:t,lifecycle_state:["imported","ready"]});case"warmup":return Le(Le({},n),{},{model_id:t,lifecycle_state:["imported","ready","warmup"]});case"proxy":return Le(Le({},n),{},{model_id:t,proxy_status:["active","inactive","error","unknown"]});default:return n}}),[t,f]),v=(0,a.useCallback)((async()=>{try{var e,t;c(!0),u(null);const a=b(n);console.log("Fetching accounts for tab: ".concat(n),a);const r=await Wr.getAccounts(a);l(r.accounts||[]),p(r.total_count||(null===(e=r.accounts)||void 0===e?void 0:e.length)||0),h((null===(t=r.accounts)||void 0===t?void 0:t.length)||0)}catch(r){var a;console.error("Failed to fetch accounts for tab ".concat(n,":"),r),u(r.message||"Failed to fetch accounts"),l([]),p(0),h(0),null!==(a=r.message)&&void 0!==a&&a.includes("Network")||qt.error("Failed to load ".concat(n," accounts"))}finally{c(!1)}}),[n,b]),y=(0,a.useCallback)((e=>{g((t=>Le(Le({},t),e)))}),[]),j=(0,a.useCallback)((async()=>{await v()}),[v]);return(0,a.useEffect)((()=>{v()}),[v]),(0,a.useEffect)((()=>{if(!r)return;const e=setInterval((()=>{o||v()}),s);return()=>clearInterval(e)}),[r,s,o,v]),{accounts:i,loading:o,error:d,totalCount:m,filteredCount:x,refreshData:j,updateFilters:y,currentFilters:b(n)}},_i=e=>{let{modelId:t}=e;const n=e=>"number"===typeof e?e:"string"===typeof e&&parseFloat(e)||0,{accounts:r,loading:s,error:i,totalCount:l,filteredCount:o,refreshData:c}=Ci({modelId:t,activeTab:"overview"}),d=(0,a.useMemo)((()=>[{id:"username",field:"username",header:"Username",width:150,minWidth:120,resizable:!0,sortable:!0,filterable:!0,type:"text",align:"left",visible:!0,order:1,frozen:!1,editable:!1,required:!0,render:(e,t)=>(0,Qe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Qe.jsx)("div",{className:"w-2 h-2 rounded-full bg-green-500",title:"Active"}),(0,Qe.jsx)("span",{className:"font-medium",children:e})]})},{id:"status",field:"status",header:"Status",width:100,minWidth:80,resizable:!0,sortable:!0,filterable:!0,type:"select",align:"center",visible:!0,order:2,frozen:!1,editable:!1,required:!0,options:[{value:"active",label:"Active"},{value:"banned",label:"Banned"},{value:"suspended",label:"Suspended"},{value:"inactive",label:"Inactive"}],render:e=>(0,Qe.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat({active:"bg-green-100 text-green-800",banned:"bg-red-100 text-red-800",suspended:"bg-yellow-100 text-yellow-800",inactive:"bg-gray-100 text-gray-800"}[e]),children:e})},{id:"follow_back_rate",field:"follow_back_rate",header:"Follow Back Rate",width:130,minWidth:100,resizable:!0,sortable:!0,filterable:!0,type:"number",align:"right",visible:!0,order:3,frozen:!1,editable:!1,required:!1,formatter:e=>"".concat(n(e).toFixed(1),"%"),render:e=>{const t=n(e);return(0,Qe.jsx)("div",{className:"text-right",children:(0,Qe.jsxs)("span",{className:"font-medium ".concat(t>=15?"text-green-600":t>=10?"text-yellow-600":"text-red-600"),children:[t.toFixed(1),"%"]})})}},{id:"total_follows",field:"total_follows",header:"Total Follows",width:110,minWidth:90,resizable:!0,sortable:!0,filterable:!0,type:"number",align:"right",visible:!0,order:4,frozen:!1,editable:!1,required:!1,formatter:e=>Math.floor(n(e)).toLocaleString()},{id:"proxy_status",field:"proxy_status",header:"Proxy",width:100,minWidth:80,resizable:!0,sortable:!0,filterable:!0,type:"select",align:"center",visible:!0,order:5,frozen:!1,editable:!1,required:!1,options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"},{value:"error",label:"Error"},{value:"unknown",label:"Unknown"}],render:e=>{const t={active:"bg-green-100 text-green-800",inactive:"bg-gray-100 text-gray-800",error:"bg-red-100 text-red-800",unknown:"bg-yellow-100 text-yellow-800"};return(0,Qe.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(t[e]||t.unknown),children:e||"unknown"})}},{id:"monthly_cost",field:"monthly_cost",header:"Monthly Cost",width:110,minWidth:90,resizable:!0,sortable:!0,filterable:!0,type:"number",align:"right",visible:!0,order:6,frozen:!1,editable:!1,required:!1,formatter:e=>"$".concat(n(e).toFixed(2)),render:e=>{const t=n(e);return(0,Qe.jsx)("div",{className:"text-right",children:(0,Qe.jsxs)("span",{className:"font-medium text-gray-900",children:["$",t.toFixed(2)]})})}},{id:"last_activity",field:"last_activity",header:"Last Activity",width:130,minWidth:110,resizable:!0,sortable:!0,filterable:!0,type:"date",align:"center",visible:!0,order:7,frozen:!1,editable:!1,required:!1,render:e=>{if(!e)return(0,Qe.jsx)("span",{className:"text-gray-400",children:"Never"});const t=new Date(e),n=new Date,a=Math.floor((n.getTime()-t.getTime())/36e5);return a<1?(0,Qe.jsx)("span",{className:"text-green-600",children:"Just now"}):a<24?(0,Qe.jsxs)("span",{className:"text-green-600",children:[a,"h ago"]}):a<168?(0,Qe.jsxs)("span",{className:"text-yellow-600",children:[Math.floor(a/24),"d ago"]}):(0,Qe.jsx)("span",{className:"text-red-600",children:t.toLocaleDateString()})}}]),[]);return s&&0===r.length?(0,Qe.jsx)("div",{className:"p-8",children:(0,Qe.jsx)(os,{size:"lg",text:"Loading accounts...",className:"min-h-96"})}):i&&0===r.length?(0,Qe.jsx)("div",{className:"p-8",children:(0,Qe.jsxs)("div",{className:"text-center py-12",children:[(0,Qe.jsx)("div",{className:"text-red-400 text-6xl mb-4",children:"\u26a0\ufe0f"}),(0,Qe.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Failed to Load Accounts"}),(0,Qe.jsx)("p",{className:"text-gray-500 mb-6",children:i}),(0,Qe.jsxs)("button",{onClick:c,className:"btn-primary flex items-center gap-2 mx-auto",children:[(0,Qe.jsx)(zs,{className:"h-4 w-4"}),"Try Again"]})]})}):(0,Qe.jsxs)("div",{className:"h-full flex flex-col",children:[(0,Qe.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 bg-white",children:[(0,Qe.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Model Accounts Overview"}),(0,Qe.jsxs)("p",{className:"text-sm text-gray-500",children:["Showing ",o," of ",l," accounts"]})]}),s&&(0,Qe.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[(0,Qe.jsx)(zs,{className:"h-4 w-4 animate-spin"}),"Refreshing..."]})]}),(0,Qe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Qe.jsxs)("button",{onClick:c,disabled:s,className:"btn-ghost flex items-center gap-2",title:"Refresh data",children:[(0,Qe.jsx)(zs,{className:"h-4 w-4 ".concat(s?"animate-spin":"")}),"Refresh"]}),(0,Qe.jsxs)("button",{className:"btn-secondary flex items-center gap-2",title:"Export accounts",children:[(0,Qe.jsx)(tt,{className:"h-4 w-4"}),"Export"]}),(0,Qe.jsxs)("button",{className:"btn-primary flex items-center gap-2",title:"Add new account",children:[(0,Qe.jsx)(Xe,{className:"h-4 w-4"}),"Add Account"]})]})]}),(0,Qe.jsx)("div",{className:"flex-1 bg-white",children:(0,Qe.jsx)(Si,{data:r,columns:d,height:600,loading:s,error:i,virtualScrolling:!0,multiSelect:!0,rowSelection:!0,keyboardNavigation:!0,onCellClick:(e,t,n)=>{console.log("Cell clicked:",{position:e,row:t.username,column:n.header})},onRowClick:(e,t)=>{console.log("Row clicked:",{rowIndex:e,username:t.username})},className:"border-none"})})]})},Ei=He("Import",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m8 11 4 4 4-4",key:"1dohi6"}],["path",{d:"M8 5H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-4",key:"1ywtjm"}]]);var Ii=n(826);function Pi(e,t,n,a){return new(n||(n=Promise))((function(r,s){function i(e){try{o(a.next(e))}catch(at){s(at)}}function l(e){try{o(a.throw(e))}catch(at){s(at)}}function o(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}o((a=a.apply(e,t||[])).next())}))}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;const Di=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Ai(e,t,n){const a=function(e){const{name:t}=e;if(t&&-1!==t.lastIndexOf(".")&&!e.type){const n=t.split(".").pop().toLowerCase(),a=Di.get(n);a&&Object.defineProperty(e,"type",{value:a,writable:!1,configurable:!1,enumerable:!0})}return e}(e),{webkitRelativePath:r}=e,s="string"===typeof t?t:"string"===typeof r&&r.length>0?r:"./".concat(e.name);return"string"!==typeof a.path&&Oi(a,"path",s),void 0!==n&&Object.defineProperty(a,"handle",{value:n,writable:!1,configurable:!1,enumerable:!0}),Oi(a,"relativePath",s),a}function Oi(e,t,n){Object.defineProperty(e,t,{value:n,writable:!1,configurable:!1,enumerable:!0})}const Ti=[".DS_Store","Thumbs.db"];function Ri(e){return"object"===typeof e&&null!==e}function Fi(e){return e.filter((e=>-1===Ti.indexOf(e.name)))}function Li(e){if(null===e)return[];const t=[];for(let n=0;n<e.length;n++){const a=e[n];t.push(a)}return t}function Mi(e){if("function"!==typeof e.webkitGetAsEntry)return Bi(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?Hi(t):Bi(e,t)}function zi(e){return e.reduce(((e,t)=>[...e,...Array.isArray(t)?zi(t):[t]]),[])}function Bi(e,t){return Pi(this,void 0,void 0,(function*(){var n;if(globalThis.isSecureContext&&"function"===typeof e.getAsFileSystemHandle){const t=yield e.getAsFileSystemHandle();if(null===t)throw new Error("".concat(e," is not a File"));if(void 0!==t){const e=yield t.getFile();return e.handle=t,Ai(e)}}const a=e.getAsFile();if(!a)throw new Error("".concat(e," is not a File"));return Ai(a,null!==(n=null===t||void 0===t?void 0:t.fullPath)&&void 0!==n?n:void 0)}))}function Ui(e){return Pi(this,void 0,void 0,(function*(){return e.isDirectory?Hi(e):function(e){return Pi(this,void 0,void 0,(function*(){return new Promise(((t,n)=>{e.file((n=>{const a=Ai(n,e.fullPath);t(a)}),(e=>{n(e)}))}))}))}(e)}))}function Hi(e){const t=e.createReader();return new Promise(((e,n)=>{const a=[];!function r(){t.readEntries((t=>Pi(this,void 0,void 0,(function*(){if(t.length){const e=Promise.all(t.map(Ui));a.push(e),r()}else try{const t=yield Promise.all(a);e(t)}catch(s){n(s)}}))),(e=>{n(e)}))}()}))}var qi=n(192);function Wi(e){return function(e){if(Array.isArray(e))return Qi(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ji(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Vi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gi(Object(n),!0).forEach((function(t){$i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ki(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,s=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(s.push(a.value),!t||s.length!==t);i=!0);}catch(o){l=!0,r=o}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return s}(e,t)||Ji(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ji(e,t){if(e){if("string"===typeof e)return Qi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qi(e,t):void 0}}function Qi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var Yi="function"===typeof qi?qi:qi.default,Xi="file-invalid-type",Zi="file-too-large",el="file-too-small",tl="too-many-files",nl=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split(","),t=e.length>1?"one of ".concat(e.join(", ")):e[0];return{code:Xi,message:"File type must be ".concat(t)}},al=function(e){return{code:Zi,message:"File is larger than ".concat(e," ").concat(1===e?"byte":"bytes")}},rl=function(e){return{code:el,message:"File is smaller than ".concat(e," ").concat(1===e?"byte":"bytes")}},sl={code:tl,message:"Too many files"};function il(e,t){var n="application/x-moz-file"===e.type||Yi(e,t);return[n,n?null:nl(t)]}function ll(e,t,n){if(ol(e.size))if(ol(t)&&ol(n)){if(e.size>n)return[!1,al(n)];if(e.size<t)return[!1,rl(t)]}else{if(ol(t)&&e.size<t)return[!1,rl(t)];if(ol(n)&&e.size>n)return[!1,al(n)]}return[!0,null]}function ol(e){return void 0!==e&&null!==e}function cl(e){return"function"===typeof e.isPropagationStopped?e.isPropagationStopped():"undefined"!==typeof e.cancelBubble&&e.cancelBubble}function dl(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,(function(e){return"Files"===e||"application/x-moz-file"===e})):!!e.target&&!!e.target.files}function ul(e){e.preventDefault()}function ml(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];return t.some((function(t){return!cl(e)&&t&&t.apply(void 0,[e].concat(a)),cl(e)}))}}function pl(e){return"audio/*"===e||"video/*"===e||"image/*"===e||"text/*"===e||"application/*"===e||/\w+\/[-+.\w]+/g.test(e)}function xl(e){return/^.*\.[\w]+$/.test(e)}var hl=["children"],fl=["open"],gl=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],bl=["refKey","onChange","onClick"];function vl(e){return function(e){if(Array.isArray(e))return wl(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||jl(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,s=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(s.push(a.value),!t||s.length!==t);i=!0);}catch(o){l=!0,r=o}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return s}(e,t)||jl(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jl(e,t){if(e){if("string"===typeof e)return wl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wl(e,t):void 0}}function wl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Nl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function kl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nl(Object(n),!0).forEach((function(t){Sl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Sl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cl(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var _l=(0,a.forwardRef)((function(e,t){var n=e.children,r=Pl(Cl(e,hl)),s=r.open,i=Cl(r,fl);return(0,a.useImperativeHandle)(t,(function(){return{open:s}}),[s]),a.createElement(a.Fragment,null,n(kl(kl({},i),{},{open:s})))}));_l.displayName="Dropzone";var El={disabled:!1,getFilesFromEvent:function(e){return Pi(this,void 0,void 0,(function*(){return Ri(e)&&Ri(e.dataTransfer)?function(e,t){return Pi(this,void 0,void 0,(function*(){if(e.items){const n=Li(e.items).filter((e=>"file"===e.kind));if("drop"!==t)return n;return Fi(zi(yield Promise.all(n.map(Mi))))}return Fi(Li(e.files).map((e=>Ai(e))))}))}(e.dataTransfer,e.type):function(e){return Ri(e)&&Ri(e.target)}(e)?function(e){return Li(e.target.files).map((e=>Ai(e)))}(e):Array.isArray(e)&&e.every((e=>"getFile"in e&&"function"===typeof e.getFile))?function(e){return Pi(this,void 0,void 0,(function*(){const t=yield Promise.all(e.map((e=>e.getFile())));return t.map((e=>Ai(e)))}))}(e):[]}))},maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};_l.defaultProps=El,_l.propTypes={children:Ii.func,accept:Ii.objectOf(Ii.arrayOf(Ii.string)),multiple:Ii.bool,preventDropOnDocument:Ii.bool,noClick:Ii.bool,noKeyboard:Ii.bool,noDrag:Ii.bool,noDragEventsBubbling:Ii.bool,minSize:Ii.number,maxSize:Ii.number,maxFiles:Ii.number,disabled:Ii.bool,getFilesFromEvent:Ii.func,onFileDialogCancel:Ii.func,onFileDialogOpen:Ii.func,useFsAccessApi:Ii.bool,autoFocus:Ii.bool,onDragEnter:Ii.func,onDragLeave:Ii.func,onDragOver:Ii.func,onDrop:Ii.func,onDropAccepted:Ii.func,onDropRejected:Ii.func,onError:Ii.func,validator:Ii.func};var Il={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Pl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=kl(kl({},El),e),n=t.accept,r=t.disabled,s=t.getFilesFromEvent,i=t.maxSize,l=t.minSize,o=t.multiple,c=t.maxFiles,d=t.onDragEnter,u=t.onDragLeave,m=t.onDragOver,p=t.onDrop,x=t.onDropAccepted,h=t.onDropRejected,f=t.onFileDialogCancel,g=t.onFileDialogOpen,b=t.useFsAccessApi,v=t.autoFocus,y=t.preventDropOnDocument,j=t.noClick,w=t.noKeyboard,N=t.noDrag,k=t.noDragEventsBubbling,S=t.onError,C=t.validator,_=(0,a.useMemo)((function(){return function(e){if(ol(e))return Object.entries(e).reduce((function(e,t){var n=Ki(t,2),a=n[0],r=n[1];return[].concat(Wi(e),[a],Wi(r))}),[]).filter((function(e){return pl(e)||xl(e)})).join(",")}(n)}),[n]),E=(0,a.useMemo)((function(){return function(e){return ol(e)?[{description:"Files",accept:Object.entries(e).filter((function(e){var t=Ki(e,2),n=t[0],a=t[1],r=!0;return pl(n)||(console.warn('Skipped "'.concat(n,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),r=!1),Array.isArray(a)&&a.every(xl)||(console.warn('Skipped "'.concat(n,'" because an invalid file extension was provided.')),r=!1),r})).reduce((function(e,t){var n=Ki(t,2),a=n[0],r=n[1];return Vi(Vi({},e),{},$i({},a,r))}),{})}]:e}(n)}),[n]),I=(0,a.useMemo)((function(){return"function"===typeof g?g:Al}),[g]),P=(0,a.useMemo)((function(){return"function"===typeof f?f:Al}),[f]),D=(0,a.useRef)(null),A=(0,a.useRef)(null),O=yl((0,a.useReducer)(Dl,Il),2),T=O[0],R=O[1],F=T.isFocused,L=T.isFileDialogActive,M=(0,a.useRef)("undefined"!==typeof window&&window.isSecureContext&&b&&"showOpenFilePicker"in window),z=function(){!M.current&&L&&setTimeout((function(){A.current&&(A.current.files.length||(R({type:"closeDialog"}),P()))}),300)};(0,a.useEffect)((function(){return window.addEventListener("focus",z,!1),function(){window.removeEventListener("focus",z,!1)}}),[A,L,P,M]);var B=(0,a.useRef)([]),U=function(e){D.current&&D.current.contains(e.target)||(e.preventDefault(),B.current=[])};(0,a.useEffect)((function(){return y&&(document.addEventListener("dragover",ul,!1),document.addEventListener("drop",U,!1)),function(){y&&(document.removeEventListener("dragover",ul),document.removeEventListener("drop",U))}}),[D,y]),(0,a.useEffect)((function(){return!r&&v&&D.current&&D.current.focus(),function(){}}),[D,v,r]);var H=(0,a.useCallback)((function(e){S?S(e):console.error(e)}),[S]),q=(0,a.useCallback)((function(e){e.preventDefault(),e.persist(),ne(e),B.current=[].concat(vl(B.current),[e.target]),dl(e)&&Promise.resolve(s(e)).then((function(t){if(!cl(e)||k){var n=t.length,a=n>0&&function(e){var t=e.files,n=e.accept,a=e.minSize,r=e.maxSize,s=e.multiple,i=e.maxFiles,l=e.validator;return!(!s&&t.length>1||s&&i>=1&&t.length>i)&&t.every((function(e){var t=Ki(il(e,n),1)[0],s=Ki(ll(e,a,r),1)[0],i=l?l(e):null;return t&&s&&!i}))}({files:t,accept:_,minSize:l,maxSize:i,multiple:o,maxFiles:c,validator:C});R({isDragAccept:a,isDragReject:n>0&&!a,isDragActive:!0,type:"setDraggedFiles"}),d&&d(e)}})).catch((function(e){return H(e)}))}),[s,d,H,k,_,l,i,o,c,C]),W=(0,a.useCallback)((function(e){e.preventDefault(),e.persist(),ne(e);var t=dl(e);if(t&&e.dataTransfer)try{e.dataTransfer.dropEffect="copy"}catch(n){}return t&&m&&m(e),!1}),[m,k]),G=(0,a.useCallback)((function(e){e.preventDefault(),e.persist(),ne(e);var t=B.current.filter((function(e){return D.current&&D.current.contains(e)})),n=t.indexOf(e.target);-1!==n&&t.splice(n,1),B.current=t,t.length>0||(R({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),dl(e)&&u&&u(e))}),[D,u,k]),V=(0,a.useCallback)((function(e,t){var n=[],a=[];e.forEach((function(e){var t=yl(il(e,_),2),r=t[0],s=t[1],o=yl(ll(e,l,i),2),c=o[0],d=o[1],u=C?C(e):null;if(r&&c&&!u)n.push(e);else{var m=[s,d];u&&(m=m.concat(u)),a.push({file:e,errors:m.filter((function(e){return e}))})}})),(!o&&n.length>1||o&&c>=1&&n.length>c)&&(n.forEach((function(e){a.push({file:e,errors:[sl]})})),n.splice(0)),R({acceptedFiles:n,fileRejections:a,isDragReject:a.length>0,type:"setFiles"}),p&&p(n,a,t),a.length>0&&h&&h(a,t),n.length>0&&x&&x(n,t)}),[R,o,_,l,i,c,p,x,h,C]),$=(0,a.useCallback)((function(e){e.preventDefault(),e.persist(),ne(e),B.current=[],dl(e)&&Promise.resolve(s(e)).then((function(t){cl(e)&&!k||V(t,e)})).catch((function(e){return H(e)})),R({type:"reset"})}),[s,V,H,k]),K=(0,a.useCallback)((function(){if(M.current){R({type:"openDialog"}),I();var e={multiple:o,types:E};window.showOpenFilePicker(e).then((function(e){return s(e)})).then((function(e){V(e,null),R({type:"closeDialog"})})).catch((function(e){var t;(t=e)instanceof DOMException&&("AbortError"===t.name||t.code===t.ABORT_ERR)?(P(e),R({type:"closeDialog"})):!function(e){return e instanceof DOMException&&("SecurityError"===e.name||e.code===e.SECURITY_ERR)}(e)?H(e):(M.current=!1,A.current?(A.current.value=null,A.current.click()):H(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided.")))}))}else A.current&&(R({type:"openDialog"}),I(),A.current.value=null,A.current.click())}),[R,I,P,b,V,H,E,o]),J=(0,a.useCallback)((function(e){D.current&&D.current.isEqualNode(e.target)&&(" "!==e.key&&"Enter"!==e.key&&32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),K()))}),[D,K]),Q=(0,a.useCallback)((function(){R({type:"focus"})}),[]),Y=(0,a.useCallback)((function(){R({type:"blur"})}),[]),X=(0,a.useCallback)((function(){j||(!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return function(e){return-1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident/")}(e)||function(e){return-1!==e.indexOf("Edge/")}(e)}()?K():setTimeout(K,0))}),[j,K]),Z=function(e){return r?null:e},ee=function(e){return w?null:Z(e)},te=function(e){return N?null:Z(e)},ne=function(e){k&&e.stopPropagation()},ae=(0,a.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,a=e.role,s=e.onKeyDown,i=e.onFocus,l=e.onBlur,o=e.onClick,c=e.onDragEnter,d=e.onDragOver,u=e.onDragLeave,m=e.onDrop,p=Cl(e,gl);return kl(kl(Sl({onKeyDown:ee(ml(s,J)),onFocus:ee(ml(i,Q)),onBlur:ee(ml(l,Y)),onClick:Z(ml(o,X)),onDragEnter:te(ml(c,q)),onDragOver:te(ml(d,W)),onDragLeave:te(ml(u,G)),onDrop:te(ml(m,$)),role:"string"===typeof a&&""!==a?a:"presentation"},n,D),r||w?{}:{tabIndex:0}),p)}}),[D,J,Q,Y,X,q,W,G,$,w,N,r]),re=(0,a.useCallback)((function(e){e.stopPropagation()}),[]),se=(0,a.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,a=e.onChange,r=e.onClick,s=Cl(e,bl);return kl(kl({},Sl({accept:_,multiple:o,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:Z(ml(a,$)),onClick:Z(ml(r,re)),tabIndex:-1},n,A)),s)}}),[A,n,o,$,r]);return kl(kl({},T),{},{isFocused:F&&!r,getRootProps:ae,getInputProps:se,rootRef:D,inputRef:A,open:Z(K)})}function Dl(e,t){switch(t.type){case"focus":return kl(kl({},e),{},{isFocused:!0});case"blur":return kl(kl({},e),{},{isFocused:!1});case"openDialog":return kl(kl({},Il),{},{isFileDialogActive:!0});case"closeDialog":return kl(kl({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return kl(kl({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return kl(kl({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return kl({},Il);default:return e}}function Al(){}const Ol=He("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Tl=He("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]),Rl=He("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Fl=He("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Ll=e=>{let{validationResults:t,accounts:n}=e;const[r,s]=(0,a.useState)("valid"),i=[{id:"valid",label:"Valid",count:t.valid.length,color:"green",icon:Ol},{id:"invalid",label:"Invalid",count:t.invalid.length,color:"red",icon:Rl},{id:"duplicates",label:"Duplicates",count:t.duplicatesInFile.length,color:"yellow",icon:ks},{id:"existing",label:"Already Imported",count:t.existingInDatabase.length,color:"blue",icon:Fl}],l=(e,t)=>{const n="relative px-4 py-2 text-sm font-medium rounded-lg transition-colors";if(!t)return"".concat(n," text-gray-600 hover:text-gray-800 hover:bg-gray-50");switch(e){case"green":return"".concat(n," bg-green-100 text-green-800 border border-green-200");case"red":return"".concat(n," bg-red-100 text-red-800 border border-red-200");case"yellow":return"".concat(n," bg-yellow-100 text-yellow-800 border border-yellow-200");case"blue":return"".concat(n," bg-blue-100 text-blue-800 border border-blue-200");default:return"".concat(n," bg-gray-100 text-gray-800 border border-gray-200")}},o=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;return(0,Qe.jsx)("div",{className:"h-64 overflow-y-auto border border-gray-200 rounded-lg",children:0===e.length?(0,Qe.jsx)("div",{className:"p-8 text-center text-gray-500",children:(0,Qe.jsx)("p",{children:"No accounts in this category"})}):(0,Qe.jsx)("div",{className:"divide-y divide-gray-100",children:e.map(((e,a)=>{var r;const s=t&&n?null===(r=n.find((t=>t.account.username===e.username)))||void 0===r?void 0:r.reason:null;return(0,Qe.jsxs)("div",{className:"p-3 hover:bg-gray-50 transition-colors",children:[(0,Qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Qe.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:["@",e.username]}),e.password&&(0,Qe.jsx)("div",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:"Has Password"}),e.email&&(0,Qe.jsx)("div",{className:"text-xs text-blue-600 bg-blue-50 px-2 py-1 rounded",children:"Has Email"}),e.token&&(0,Qe.jsx)("div",{className:"text-xs text-purple-600 bg-purple-50 px-2 py-1 rounded",children:"Has Token"}),s&&(0,Qe.jsx)("div",{className:"text-xs text-red-600 bg-red-50 px-2 py-1 rounded",children:s})]}),(0,Qe.jsxs)("div",{className:"text-xs text-gray-500",children:["Line #",e.lineNumber]})]}),(e.password||e.email||e.token)&&(0,Qe.jsx)("div",{className:"mt-2 text-xs text-gray-600 font-mono bg-gray-50 p-2 rounded",children:e.originalLine})]},a)}))})})};return(0,Qe.jsxs)("div",{className:"h-full flex flex-col",children:[(0,Qe.jsx)("div",{className:"flex space-x-2 mb-4",children:i.map((e=>{const t=e.icon,n=r===e.id;return(0,Qe.jsx)("button",{onClick:()=>s(e.id),className:l(e.color,n),disabled:0===e.count,children:(0,Qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Qe.jsx)(t,{className:"h-4 w-4"}),(0,Qe.jsx)("span",{children:e.label}),(0,Qe.jsx)("span",{className:"bg-white bg-opacity-70 px-2 py-0.5 rounded-full text-xs font-semibold",children:e.count})]})},e.id)}))}),(0,Qe.jsxs)("div",{className:"flex-1",children:["valid"===r&&(0,Qe.jsxs)("div",{children:[(0,Qe.jsxs)("div",{className:"mb-3 flex items-center justify-between",children:[(0,Qe.jsx)("h4",{className:"font-medium text-gray-900",children:"Valid Accounts"}),(0,Qe.jsxs)("span",{className:"text-sm text-gray-500",children:[t.valid.length," accounts ready to import"]})]}),o(t.valid)]}),"invalid"===r&&(0,Qe.jsxs)("div",{children:[(0,Qe.jsxs)("div",{className:"mb-3 flex items-center justify-between",children:[(0,Qe.jsx)("h4",{className:"font-medium text-gray-900",children:"Invalid Accounts"}),(0,Qe.jsxs)("span",{className:"text-sm text-gray-500",children:[t.invalid.length," accounts with validation errors"]})]}),o(t.invalid.map((e=>e.account)),!0,t.invalid)]}),"duplicates"===r&&(0,Qe.jsxs)("div",{children:[(0,Qe.jsxs)("div",{className:"mb-3 flex items-center justify-between",children:[(0,Qe.jsx)("h4",{className:"font-medium text-gray-900",children:"Duplicate Accounts"}),(0,Qe.jsxs)("span",{className:"text-sm text-gray-500",children:[t.duplicatesInFile.length," accounts appear multiple times in file"]})]}),o(t.duplicatesInFile),t.duplicatesInFile.length>0&&(0,Qe.jsx)("div",{className:"mt-3 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,Qe.jsxs)("p",{className:"text-sm text-yellow-800",children:[(0,Qe.jsx)("strong",{children:"Note:"})," Only one instance of each duplicate account will be imported."]})})]}),"existing"===r&&(0,Qe.jsxs)("div",{children:[(0,Qe.jsxs)("div",{className:"mb-3 flex items-center justify-between",children:[(0,Qe.jsx)("h4",{className:"font-medium text-gray-900",children:"Already Imported"}),(0,Qe.jsxs)("span",{className:"text-sm text-gray-500",children:[t.existingInDatabase.length," accounts already exist in database"]})]}),(c=t.existingInDatabase,(0,Qe.jsx)("div",{className:"h-64 overflow-y-auto border border-gray-200 rounded-lg",children:0===c.length?(0,Qe.jsx)("div",{className:"p-8 text-center text-gray-500",children:(0,Qe.jsx)("p",{children:"No accounts in this category"})}):(0,Qe.jsx)("div",{className:"divide-y divide-gray-100",children:c.map(((e,t)=>(0,Qe.jsx)("div",{className:"p-3 hover:bg-gray-50 transition-colors",children:(0,Qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Qe.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:["@",e]}),(0,Qe.jsx)("div",{className:"text-xs text-blue-600 bg-blue-50 px-2 py-1 rounded",children:"Already in database"})]}),(0,Qe.jsxs)("div",{className:"text-xs text-gray-500",children:["#",t+1]})]})},t)))})})),t.existingInDatabase.length>0&&(0,Qe.jsx)("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:(0,Qe.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,Qe.jsx)("strong",{children:"Note:"})," These accounts are already in the database and will be skipped."]})})]})]}),(0,Qe.jsx)("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg border border-gray-200",children:(0,Qe.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,Qe.jsx)("strong",{children:"Import Summary:"})," ",t.valid.length," accounts will be imported, "," ",t.invalid.length+t.duplicatesInFile.length+t.existingInDatabase.length," will be skipped"]})})]});var c},Ml=/^[a-zA-Z0-9._]{1,30}$/,zl=e=>{let{isOpen:t,onClose:n,modelId:r,onImportComplete:s}=e;const[i,l]=(0,a.useState)(null),[o,c]=(0,a.useState)(null),[d,u]=(0,a.useState)("upload"),{validateAccounts:m,importAccounts:p,isLoading:x,progress:h,error:f,importSummary:g,resetImport:b}=(e=>{const[t,n]=(0,a.useState)(!1),[r,s]=(0,a.useState)(0),[i,l]=(0,a.useState)(null),[o,c]=(0,a.useState)(null),d=e=>{if(!e||0===e.trim().length)return{isValid:!1,reason:"Empty username"};const t=e.trim().replace(/^@/,"");return t.length<1?{isValid:!1,reason:"Username too short"}:t.length>30?{isValid:!1,reason:"Username too long (max 30 characters)"}:Ml.test(t)?t.startsWith(".")||t.endsWith(".")?{isValid:!1,reason:"Username cannot start or end with a dot"}:t.includes("..")?{isValid:!1,reason:"Username cannot contain consecutive dots"}:{isValid:!0}:{isValid:!1,reason:"Invalid characters (only letters, numbers, dots, underscores)"}},u=(0,a.useCallback)((async e=>{n(!0),l(null),s(0);try{const n={valid:[],invalid:[],duplicatesInFile:[],existingInDatabase:[]},a=new Set;for(let t=0;t<e.length;t++){const r=e[t],i=r.username.trim().replace(/^@/,"").toLowerCase();if(s(Math.round((t+1)/e.length*50)),a.has(i)){n.duplicatesInFile.find((e=>e.username.toLowerCase()===i))||n.duplicatesInFile.push(r);continue}a.add(i);const l=d(r.username);l.isValid?n.valid.push(Le(Le({},r),{},{username:i})):n.invalid.push({account:Le(Le({},r),{},{username:i}),reason:l.reason||"Invalid format"})}if(n.valid.length>0)try{const e=n.valid.map((e=>e.username)),t=await fetch("/api/import/accounts/check-existing",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({usernames:e})});if(!t.ok)throw new Error("Failed to check existing accounts");const a=(await t.json()).data.existing||[];n.existingInDatabase=a,n.valid=n.valid.filter((e=>!a.includes(e.username)))}catch(t){console.warn("Could not check existing accounts:",t)}return s(100),n}catch(a){throw l(a.message||"Validation failed"),a}finally{n(!1)}}),[e]),m=(0,a.useCallback)((async t=>{n(!0),l(null),s(0),c(null);try{const n=100,r=[];for(let e=0;e<t.length;e+=n)r.push(t.slice(e,e+n));let i=0,l=0;const o=[];for(let t=0;t<r.length;t++){const n=r[t];try{const a=n.map((e=>({username:e.username,password:e.password,email:e.email,account_code:e.email_password||e.account_code||void 0}))),s=await fetch("/api/import/accounts/import",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({accounts_data:a,model_id:e,batch_index:t,total_batches:r.length})});if(!s.ok){const e=await s.json();throw new Error(e.message||"Import failed")}const c=await s.json();i+=c.data.successful||0,l+=c.data.failed||0,c.data.errors&&o.push(...c.data.errors)}catch(a){console.error("Batch ".concat(t+1," failed:"),a),l+=n.length,n.forEach((e=>{o.push({username:e.username,error:a.message||"Import failed"})}))}const c=(t+1)/r.length*100;s(c)}const d={total:t.length,successful:i,failed:l,errors:o};return c(d),d}catch(r){throw l(r.message||"Import failed"),r}finally{n(!1)}}),[e]);return{validateAccounts:u,importAccounts:m,isLoading:t,progress:r,error:i,importSummary:o,resetImport:(0,a.useCallback)((()=>{n(!1),s(0),l(null),c(null)}),[])}})(r),v=(0,a.useCallback)((async e=>{const t=e[0];if(t)if(t.name.endsWith(".txt"))if(t.size>10485760)qt.error("File size must be less than 10MB");else try{const e=await t.text(),n=e.split("\n"),a=[];if(n.forEach(((e,t)=>{const n=((e,t)=>{const n=e.trim();if(!n)return null;if(n.includes(":")){var a,r,s,i;const l=n.split(":");return l.length<1||l.length>4?{username:l[0]||"",lineNumber:t,originalLine:e}:{username:(null===(a=l[0])||void 0===a?void 0:a.trim())||"",password:(null===(r=l[1])||void 0===r?void 0:r.trim())||void 0,email:(null===(s=l[2])||void 0===s?void 0:s.trim())||void 0,email_password:(null===(i=l[3])||void 0===i?void 0:i.trim())||void 0,lineNumber:t,originalLine:e}}return{username:n,lineNumber:t,originalLine:e}})(e,t+1);n&&a.push(n)})),0===a.length)return void qt.error("File appears to be empty or contains no valid accounts");if(a.length>1e4)return void qt.error("Maximum 10,000 accounts per import");const r={file:t,content:e,accounts:a,lineCount:a.length};l(r);const s=await m(a);c(s),u("preview"),qt.success("Loaded ".concat(a.length," accounts for validation"))}catch(f){console.error("File reading error:",f),qt.error("Failed to read file content")}else qt.error("Please upload a .txt file")}),[m]),{getRootProps:y,getInputProps:j,isDragActive:w}=Pl({onDrop:v,accept:{"text/plain":[".txt"]},multiple:!1,disabled:x}),N=()=>{b(),l(null),c(null),u("upload"),n()};return t?(0,Qe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Qe.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-[90vw] max-w-4xl h-[80vh] flex flex-col",children:[(0,Qe.jsxs)("div",{className:"flex items-center justify-between p-6 border-b",children:[(0,Qe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Qe.jsx)(Jr,{className:"h-6 w-6 text-blue-600"}),(0,Qe.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Import Instagram Accounts"})]}),(0,Qe.jsx)("button",{onClick:N,className:"text-gray-400 hover:text-gray-600 transition-colors",disabled:"importing"===d,children:(0,Qe.jsx)(ts,{className:"h-6 w-6"})})]}),(0,Qe.jsx)("div",{className:"px-6 py-4 border-b bg-gray-50",children:(0,Qe.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Qe.jsxs)("div",{className:"flex items-center space-x-2 ".concat("upload"===d?"text-blue-600":"text-gray-500"),children:[(0,Qe.jsx)("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-xs font-medium ".concat("upload"!==d&&i?"bg-green-100 text-green-600":"bg-blue-100 text-blue-600"),children:i?(0,Qe.jsx)(Ol,{className:"h-4 w-4"}):"1"}),(0,Qe.jsx)("span",{children:"Upload File"})]}),(0,Qe.jsx)("div",{className:"w-8 h-px bg-gray-300"}),(0,Qe.jsxs)("div",{className:"flex items-center space-x-2 ".concat("preview"===d?"text-blue-600":"text-gray-500"),children:[(0,Qe.jsx)("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-xs font-medium ".concat("preview"===d?"bg-blue-100 text-blue-600":"importing"===d||"complete"===d?"bg-green-100 text-green-600":"bg-gray-100 text-gray-400"),children:"importing"===d||"complete"===d?(0,Qe.jsx)(Ol,{className:"h-4 w-4"}):"2"}),(0,Qe.jsx)("span",{children:"Review & Validate"})]}),(0,Qe.jsx)("div",{className:"w-8 h-px bg-gray-300"}),(0,Qe.jsxs)("div",{className:"flex items-center space-x-2 ".concat("importing"===d||"complete"===d?"text-blue-600":"text-gray-500"),children:[(0,Qe.jsx)("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-xs font-medium ".concat("importing"===d?"bg-blue-100 text-blue-600":"complete"===d?"bg-green-100 text-green-600":"bg-gray-100 text-gray-400"),children:"importing"===d?(0,Qe.jsx)(Tl,{className:"h-4 w-4 animate-spin"}):"complete"===d?(0,Qe.jsx)(Ol,{className:"h-4 w-4"}):"3"}),(0,Qe.jsx)("span",{children:"Import"})]})]})}),(0,Qe.jsxs)("div",{className:"flex-1 overflow-hidden",children:["upload"===d&&(0,Qe.jsx)("div",{className:"p-6 h-full flex items-center justify-center",children:(0,Qe.jsxs)("div",{className:"w-full max-w-lg",children:[(0,Qe.jsxs)("div",Le(Le({},y()),{},{className:"border-2 border-dashed rounded-lg p-8 text-center transition-colors cursor-pointer ".concat(w?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"," ").concat(x?"opacity-50 cursor-not-allowed":""),children:[(0,Qe.jsx)("input",Le({},j())),(0,Qe.jsx)(Zr,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),(0,Qe.jsx)("p",{className:"text-lg font-medium text-gray-900 mb-2",children:w?"Drop the file here":"Upload account list"}),(0,Qe.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Drag and drop your .txt file here, or click to browse"}),(0,Qe.jsxs)("div",{className:"text-xs text-gray-400 space-y-1",children:[(0,Qe.jsx)("p",{children:"\u2022 Format: username:password:email:token (or just username)"}),(0,Qe.jsx)("p",{children:"\u2022 One account per line"}),(0,Qe.jsx)("p",{children:"\u2022 Maximum 10,000 accounts per import"}),(0,Qe.jsx)("p",{children:"\u2022 File size limit: 10MB"}),(0,Qe.jsx)("p",{children:"\u2022 Supported format: .txt"})]})]})),x&&(0,Qe.jsxs)("div",{className:"mt-4 flex items-center justify-center space-x-2 text-blue-600",children:[(0,Qe.jsx)(Tl,{className:"h-4 w-4 animate-spin"}),(0,Qe.jsx)("span",{children:"Processing file..."})]}),f&&(0,Qe.jsxs)("div",{className:"mt-4 flex items-center space-x-2 text-red-600 bg-red-50 p-3 rounded-lg",children:[(0,Qe.jsx)(as,{className:"h-4 w-4"}),(0,Qe.jsx)("span",{className:"text-sm",children:f})]})]})}),"preview"===d&&o&&i&&(0,Qe.jsxs)("div",{className:"p-6 h-full flex flex-col",children:[(0,Qe.jsxs)("div",{className:"mb-4",children:[(0,Qe.jsxs)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:["Import Preview: ",i.file.name]}),(0,Qe.jsxs)("div",{className:"grid grid-cols-4 gap-4 text-sm",children:[(0,Qe.jsxs)("div",{className:"bg-green-50 p-3 rounded-lg",children:[(0,Qe.jsx)("div",{className:"text-green-800 font-medium",children:o.valid.length}),(0,Qe.jsx)("div",{className:"text-green-600",children:"Valid accounts"})]}),(0,Qe.jsxs)("div",{className:"bg-red-50 p-3 rounded-lg",children:[(0,Qe.jsx)("div",{className:"text-red-800 font-medium",children:o.invalid.length}),(0,Qe.jsx)("div",{className:"text-red-600",children:"Invalid accounts"})]}),(0,Qe.jsxs)("div",{className:"bg-yellow-50 p-3 rounded-lg",children:[(0,Qe.jsx)("div",{className:"text-yellow-800 font-medium",children:o.duplicatesInFile.length}),(0,Qe.jsx)("div",{className:"text-yellow-600",children:"Duplicates in file"})]}),(0,Qe.jsxs)("div",{className:"bg-blue-50 p-3 rounded-lg",children:[(0,Qe.jsx)("div",{className:"text-blue-800 font-medium",children:o.existingInDatabase.length}),(0,Qe.jsx)("div",{className:"text-blue-600",children:"Already exist"})]})]})]}),(0,Qe.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,Qe.jsx)(Ll,{validationResults:o,accounts:i.accounts})})]}),"importing"===d&&(0,Qe.jsx)("div",{className:"p-6 h-full flex items-center justify-center",children:(0,Qe.jsxs)("div",{className:"text-center",children:[(0,Qe.jsx)(Tl,{className:"mx-auto h-12 w-12 text-blue-600 animate-spin mb-4"}),(0,Qe.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Importing Accounts"}),(0,Qe.jsx)("p",{className:"text-gray-500 mb-4",children:"Please wait while we import your accounts..."}),(0,Qe.jsx)("div",{className:"w-64 bg-gray-200 rounded-full h-2",children:(0,Qe.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(h,"%")}})}),(0,Qe.jsxs)("p",{className:"text-sm text-gray-500 mt-2",children:[h,"% complete"]})]})}),"complete"===d&&g&&(0,Qe.jsx)("div",{className:"p-6 h-full flex items-center justify-center",children:(0,Qe.jsxs)("div",{className:"text-center",children:[(0,Qe.jsx)(Ol,{className:"mx-auto h-12 w-12 text-green-600 mb-4"}),(0,Qe.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Import Complete"}),(0,Qe.jsx)("div",{className:"bg-gray-50 rounded-lg p-4 mb-6 text-left",children:(0,Qe.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("span",{children:"Successfully imported:"}),(0,Qe.jsx)("div",{className:"text-lg font-medium text-green-600",children:g.successful})]}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("span",{children:"Failed imports:"}),(0,Qe.jsx)("div",{className:"text-lg font-medium text-red-600",children:g.failed})]}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("span",{children:"Total processed:"}),(0,Qe.jsx)("div",{className:"text-lg font-medium text-gray-900",children:g.total})]})]})}),g.errors&&g.errors.length>0&&(0,Qe.jsxs)("button",{onClick:()=>{(e=>{const t=["Username,Error",...e.map((e=>'"'.concat(e.username,'","').concat(e.error,'"')))].join("\n"),n=new Blob([t],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a"),r=URL.createObjectURL(n);a.setAttribute("href",r),a.setAttribute("download","import_errors_".concat((new Date).toISOString().split("T")[0],".csv")),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(r),qt.success("Error report downloaded successfully")})(g.errors||[])},className:"inline-flex items-center space-x-2 text-blue-600 hover:text-blue-700 mb-4",children:[(0,Qe.jsx)(tt,{className:"h-4 w-4"}),(0,Qe.jsx)("span",{children:"Download Error Report"})]})]})})]}),(0,Qe.jsxs)("div",{className:"flex items-center justify-between p-6 border-t bg-gray-50",children:["upload"===d&&(0,Qe.jsx)("div",{className:"flex space-x-3 ml-auto",children:(0,Qe.jsx)("button",{onClick:N,className:"px-4 py-2 text-gray-600 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"})}),"preview"===d&&(0,Qe.jsxs)("div",{className:"flex space-x-3 ml-auto",children:[(0,Qe.jsx)("button",{onClick:()=>u("upload"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",disabled:x,children:"Back"}),(0,Qe.jsxs)("button",{onClick:async()=>{if(o&&i)try{u("importing"),await p(o.valid),u("complete"),qt.success("Account import completed successfully")}catch(f){console.error("Import error:",f),qt.error("Import failed"),u("preview")}},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",disabled:!o||0===o.valid.length,children:["Import ",(null===o||void 0===o?void 0:o.valid.length)||0," Accounts"]})]}),"complete"===d&&(0,Qe.jsx)("div",{className:"flex space-x-3 ml-auto",children:(0,Qe.jsx)("button",{onClick:()=>{s(),N()},className:"px-4 py-2 text-gray-600 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",disabled:x,children:"Done"})})]})]})}):null};let Bl=function(e){return e.IMPORTED="imported",e.READY="ready",e.WARMUP="warmup",e.ACTIVE="active",e.PAUSED="paused",e.CLEANUP="cleanup",e.ARCHIVED="archived",e}({});const Ul={[Bl.IMPORTED]:[Bl.READY,Bl.ARCHIVED],[Bl.READY]:[Bl.WARMUP,Bl.ARCHIVED],[Bl.WARMUP]:[Bl.ACTIVE,Bl.PAUSED,Bl.ARCHIVED],[Bl.ACTIVE]:[Bl.PAUSED,Bl.CLEANUP,Bl.ARCHIVED],[Bl.PAUSED]:[Bl.ACTIVE,Bl.CLEANUP,Bl.ARCHIVED],[Bl.CLEANUP]:[Bl.READY,Bl.ARCHIVED],[Bl.ARCHIVED]:[]},Hl={[Bl.IMPORTED]:{label:"Imported",color:"text-gray-600",bgColor:"bg-gray-100",description:"Account just imported, needs initial setup",icon:"Upload"},[Bl.READY]:{label:"Ready",color:"text-blue-600",bgColor:"bg-blue-100",description:"Account configured and ready for warmup",icon:"CheckCircle"},[Bl.WARMUP]:{label:"Warmup",color:"text-yellow-600",bgColor:"bg-yellow-100",description:"Account in warmup process",icon:"Clock"},[Bl.ACTIVE]:{label:"Active",color:"text-green-600",bgColor:"bg-green-100",description:"Account ready for automation",icon:"Play"},[Bl.PAUSED]:{label:"Paused",color:"text-orange-600",bgColor:"bg-orange-100",description:"Account temporarily disabled",icon:"Pause"},[Bl.CLEANUP]:{label:"Cleanup",color:"text-purple-600",bgColor:"bg-purple-100",description:"Account being prepared for reassignment",icon:"RefreshCw"},[Bl.ARCHIVED]:{label:"Archived",color:"text-gray-500",bgColor:"bg-gray-50",description:"Account no longer in use",icon:"Archive"}},ql=e=>Hl[e],Wl=He("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Gl=He("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]),Vl={[Bl.IMPORTED]:Jr,[Bl.READY]:Ol,[Bl.WARMUP]:Wl,[Bl.ACTIVE]:Es,[Bl.PAUSED]:Is,[Bl.CLEANUP]:zs,[Bl.ARCHIVED]:Gl},$l=e=>{let{state:t,showLabel:n=!0,size:a="md",className:r=""}=e;const s=ql(t),i=Vl[t],l={sm:"text-xs px-2 py-1",md:"text-sm px-3 py-1.5",lg:"text-base px-4 py-2"},o={sm:"h-3 w-3",md:"h-4 w-4",lg:"h-5 w-5"};return n?(0,Qe.jsxs)("div",{className:"inline-flex items-center gap-2 rounded-full ".concat(s.bgColor," ").concat(l[a]," ").concat(r),title:s.description,children:[(0,Qe.jsx)(i,{className:"".concat(o[a]," ").concat(s.color)}),(0,Qe.jsx)("span",{className:"font-medium ".concat(s.color),children:s.label})]}):(0,Qe.jsx)("div",{className:"inline-flex items-center justify-center rounded-full ".concat(s.bgColor," ").concat(l[a]," ").concat(r),title:"".concat(s.label,": ").concat(s.description),children:(0,Qe.jsx)(i,{className:"".concat(o[a]," ").concat(s.color)})})},Kl=e=>{let{isOpen:t,fromState:n,toState:r,validation:s,onConfirm:i,onCancel:l,isLoading:o=!1}=e;const[c,d]=(0,a.useState)(""),[u,m]=(0,a.useState)(!1);if(!t)return null;const p=ql(n),x=ql(r),h=s&&!s.isValid;return(0,Qe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Qe.jsx)("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:(0,Qe.jsxs)("div",{className:"p-6",children:[(0,Qe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Qe.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Confirm State Transition"}),(0,Qe.jsx)("button",{onClick:l,className:"text-gray-400 hover:text-gray-600",disabled:o,children:(0,Qe.jsx)(ts,{className:"h-5 w-5"})})]}),(0,Qe.jsxs)("div",{className:"mb-6",children:[(0,Qe.jsxs)("div",{className:"flex items-center justify-center gap-4 mb-4",children:[(0,Qe.jsx)($l,{state:n,size:"lg"}),(0,Qe.jsx)("div",{className:"text-gray-400",children:"\u2192"}),(0,Qe.jsx)($l,{state:r,size:"lg"})]}),(0,Qe.jsxs)("p",{className:"text-sm text-gray-600 text-center",children:["Transition account from ",(0,Qe.jsx)("strong",{children:p.label})," to ",(0,Qe.jsx)("strong",{children:x.label})]})]}),h&&(0,Qe.jsxs)("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:[(0,Qe.jsxs)("div",{className:"flex items-start gap-2",children:[(0,Qe.jsx)(ks,{className:"h-5 w-5 text-red-600 mt-0.5 flex-shrink-0"}),(0,Qe.jsxs)("div",{className:"flex-1",children:[(0,Qe.jsx)("h4",{className:"text-sm font-medium text-red-800 mb-2",children:"Validation Issues"}),(0,Qe.jsx)("ul",{className:"text-sm text-red-700 space-y-1",children:null===s||void 0===s?void 0:s.errors.map(((e,t)=>(0,Qe.jsxs)("li",{children:["\u2022 ",e.message]},t)))}),(null===s||void 0===s?void 0:s.missingRequirements.length)>0&&(0,Qe.jsxs)("div",{className:"mt-2",children:[(0,Qe.jsx)("p",{className:"text-sm font-medium text-red-800",children:"Missing Requirements:"}),(0,Qe.jsx)("ul",{className:"text-sm text-red-700",children:s.missingRequirements.map(((e,t)=>(0,Qe.jsxs)("li",{children:["\u2022 ",e]},t)))})]})]})]}),(0,Qe.jsxs)("div",{className:"mt-3 flex items-center gap-2",children:[(0,Qe.jsx)("input",{type:"checkbox",id:"force-transition",checked:u,onChange:e=>m(e.target.checked),className:"rounded border-gray-300 text-red-600 focus:ring-red-500"}),(0,Qe.jsx)("label",{htmlFor:"force-transition",className:"text-sm text-red-700",children:"Force transition (skip validation)"})]})]}),(0,Qe.jsxs)("div",{className:"mb-6",children:[(0,Qe.jsx)("label",{htmlFor:"transition-notes",className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes (optional)"}),(0,Qe.jsx)("textarea",{id:"transition-notes",value:c,onChange:e=>d(e.target.value),placeholder:"Add notes about this transition...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,disabled:o})]}),(0,Qe.jsxs)("div",{className:"flex gap-3",children:[(0,Qe.jsx)("button",{onClick:l,disabled:o,className:"flex-1 px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500 disabled:opacity-50",children:"Cancel"}),(0,Qe.jsx)("button",{onClick:()=>i(c||void 0,u),disabled:o||h&&!u,className:"flex-1 px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Transitioning...":"Confirm Transition"})]})]})})})},Jl=e=>{let{accountId:t,currentState:n,onStateChanged:r,disabled:s=!1,size:i="md"}=e;const[l,o]=(0,a.useState)(!1),[c,d]=(0,a.useState)(!1),[u,m]=(0,a.useState)(null),[p,x]=(0,a.useState)(null),[h,f]=(0,a.useState)(!1),g=(e=>Ul[e]||[])(n);if(0===g.length)return(0,Qe.jsx)($l,{state:n,size:i});return(0,Qe.jsxs)("div",{className:"relative",children:[(0,Qe.jsxs)("button",{onClick:()=>o(!l),disabled:s||h,className:"inline-flex items-center gap-2 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed ".concat({sm:"px-2 py-1 text-xs",md:"px-3 py-1.5 text-sm",lg:"px-4 py-2 text-base"}[i]),children:[(0,Qe.jsx)($l,{state:n,showLabel:!1,size:i}),(0,Qe.jsx)("span",{className:"font-medium text-gray-700",children:ql(n).label}),(0,Qe.jsx)(xi,{className:"h-4 w-4 text-gray-500"})]}),l&&(0,Qe.jsx)("div",{className:"absolute top-full left-0 mt-1 w-48 bg-white border border-gray-200 rounded-md shadow-lg z-10",children:(0,Qe.jsxs)("div",{className:"py-1",children:[(0,Qe.jsx)("div",{className:"px-3 py-2 text-xs font-medium text-gray-500 uppercase tracking-wide border-b border-gray-100",children:"Available Transitions"}),g.map((e=>{const n=ql(e);return(0,Qe.jsxs)("button",{onClick:()=>(async e=>{o(!1),m(e),f(!0);try{const n=await fetch("/api/accounts/lifecycle/".concat(t,"/validate"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({target_state:e})}),a=await n.json();a.success?(x(a.data),d(!0)):qt.error("Failed to validate transition")}catch(n){console.error("Error validating transition:",n),qt.error("Failed to validate transition")}finally{f(!1)}})(e),className:"w-full px-3 py-2 text-left text-sm text-gray-700 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 flex items-center gap-2",children:[(0,Qe.jsx)($l,{state:e,showLabel:!1,size:"sm"}),(0,Qe.jsx)("span",{children:n.label})]},e)}))]})}),l&&(0,Qe.jsx)("div",{className:"fixed inset-0 z-0",onClick:()=>o(!1)}),u&&(0,Qe.jsx)(Kl,{isOpen:c,fromState:n,toState:u,validation:p||void 0,onConfirm:async(e,n)=>{if(u){f(!0);try{const a=await fetch("/api/accounts/lifecycle/".concat(t,"/transition"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to_state:u,notes:e,force:n})}),s=await a.json();s.success?(qt.success("Account state updated successfully"),null===r||void 0===r||r(u),d(!1),m(null),x(null)):qt.error(s.message||"Failed to update account state")}catch(a){console.error("Error transitioning state:",a),qt.error("Failed to update account state")}finally{f(!1)}}},onCancel:()=>{d(!1),m(null),x(null)},isLoading:h})]})},Ql=e=>{let{modelId:t}=e;const[n,r]=(0,a.useState)(!1),[s,i]=(0,a.useState)(""),[l,o]=(0,a.useState)("all"),{accounts:c,loading:d,error:u,totalCount:m,filteredCount:p,refreshData:x,updateFilters:h}=Ci({modelId:t,activeTab:"available"});(0,a.useEffect)((()=>{h({search:s||void 0,status:"all"===l?void 0:[l]})}),[s,l,h]);const f=[{id:"username",field:"username",header:"Username",width:150,minWidth:120,resizable:!0,sortable:!0,filterable:!0,type:"text",align:"left",visible:!0,order:1,frozen:!1,editable:!1,required:!0,render:(e,t)=>(0,Qe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Qe.jsx)("div",{className:"w-2 h-2 rounded-full ".concat("active"===t.status?"bg-green-500":"banned"===t.status?"bg-red-500":"suspended"===t.status?"bg-yellow-500":"bg-gray-500"),title:t.status}),(0,Qe.jsx)("span",{className:"font-medium",children:e})]})},{id:"lifecycle_state",field:"lifecycle_state",header:"Lifecycle",width:120,minWidth:100,resizable:!0,sortable:!0,filterable:!0,type:"select",align:"center",visible:!0,order:2,frozen:!1,editable:!1,required:!0,options:[{value:"imported",label:"Imported"},{value:"ready",label:"Ready"},{value:"warmup",label:"Warmup"},{value:"active",label:"Active"},{value:"paused",label:"Paused"},{value:"cleanup",label:"Cleanup"},{value:"archived",label:"Archived"}],render:(e,t)=>(0,Qe.jsx)(Jl,{accountId:t.id,currentState:e,onStateChanged:()=>x(),size:"sm"})},{id:"status",field:"status",header:"Status",width:100,minWidth:80,resizable:!0,sortable:!0,filterable:!0,type:"select",align:"center",visible:!0,order:3,frozen:!1,editable:!1,required:!0,options:[{value:"active",label:"Active"},{value:"banned",label:"Banned"},{value:"suspended",label:"Suspended"},{value:"inactive",label:"Inactive"}],render:e=>(0,Qe.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat({active:"bg-green-100 text-green-800",banned:"bg-red-100 text-red-800",suspended:"bg-yellow-100 text-yellow-800",inactive:"bg-gray-100 text-gray-800"}[e]),children:e})},{id:"content_type",field:"content_type",header:"Content Type",width:120,minWidth:100,resizable:!0,sortable:!0,filterable:!0,type:"text",align:"center",visible:!0,order:4,frozen:!1,editable:!1,required:!1,render:e=>e?(0,Qe.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:e}):(0,Qe.jsx)("span",{className:"text-gray-400",children:"-"})},{id:"proxy_status",field:"proxy_status",header:"Proxy",width:100,minWidth:80,resizable:!0,sortable:!0,filterable:!0,type:"select",align:"center",visible:!0,order:5,frozen:!1,editable:!1,required:!1,options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"},{value:"error",label:"Error"},{value:"unknown",label:"Unknown"}],render:e=>{const t={active:"bg-green-100 text-green-800",inactive:"bg-gray-100 text-gray-800",error:"bg-red-100 text-red-800",unknown:"bg-yellow-100 text-yellow-800"};return(0,Qe.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(t[e]||t.unknown),children:e||"unknown"})}},{id:"created_at",field:"created_at",header:"Created",width:130,minWidth:110,resizable:!0,sortable:!0,filterable:!0,type:"date",align:"center",visible:!0,order:6,frozen:!1,editable:!1,required:!1,render:e=>{if(!e)return(0,Qe.jsx)("span",{className:"text-gray-400",children:"Unknown"});const t=new Date(e);return(0,Qe.jsx)("span",{className:"text-sm text-gray-600",children:t.toLocaleDateString()})}}];return d&&0===c.length?(0,Qe.jsx)("div",{className:"p-8",children:(0,Qe.jsx)(os,{size:"lg",text:"Loading available accounts...",className:"min-h-96"})}):u&&0===c.length?(0,Qe.jsx)("div",{className:"p-8",children:(0,Qe.jsxs)("div",{className:"text-center py-12",children:[(0,Qe.jsx)("div",{className:"text-red-400 text-6xl mb-4",children:"\u26a0\ufe0f"}),(0,Qe.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Failed to Load Accounts"}),(0,Qe.jsx)("p",{className:"text-gray-500 mb-6",children:u}),(0,Qe.jsxs)("button",{onClick:x,className:"btn-primary flex items-center gap-2 mx-auto",children:[(0,Qe.jsx)(zs,{className:"h-4 w-4"}),"Try Again"]})]})}):(0,Qe.jsxs)("div",{className:"p-6 h-full flex flex-col",children:[(0,Qe.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Available Accounts"}),(0,Qe.jsxs)("p",{className:"text-sm text-gray-500",children:[p," of ",m," accounts available for assignment"]})]}),(0,Qe.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Qe.jsxs)("button",{onClick:x,className:"btn-secondary flex items-center gap-2",disabled:d,children:[(0,Qe.jsx)(zs,{className:"h-4 w-4 ".concat(d?"animate-spin":"")}),"Refresh"]}),(0,Qe.jsxs)("button",{onClick:()=>r(!0),className:"btn-primary flex items-center gap-2",children:[(0,Qe.jsx)(Ei,{className:"h-4 w-4"}),"Import Accounts"]})]})]}),(0,Qe.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,Qe.jsxs)("div",{className:"flex-1 relative",children:[(0,Qe.jsx)(Ze,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,Qe.jsx)("input",{type:"text",placeholder:"Search accounts...",value:s,onChange:e=>i(e.target.value),className:"form-input pl-10"})]}),(0,Qe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Qe.jsx)(et,{className:"h-4 w-4 text-gray-400"}),(0,Qe.jsxs)("select",{value:l,onChange:e=>o(e.target.value),className:"form-select",children:[(0,Qe.jsx)("option",{value:"all",children:"All Status"}),(0,Qe.jsx)("option",{value:"active",children:"Active"}),(0,Qe.jsx)("option",{value:"banned",children:"Banned"}),(0,Qe.jsx)("option",{value:"suspended",children:"Suspended"}),(0,Qe.jsx)("option",{value:"inactive",children:"Inactive"})]})]})]}),(0,Qe.jsx)("div",{className:"flex-1 bg-white rounded-lg shadow",children:0!==c.length||d?(0,Qe.jsx)(Si,{data:c,columns:f,loading:d,error:u,height:400,virtualScrolling:!0,multiSelect:!0,rowSelection:!0,keyboardNavigation:!0,className:"h-full"}):(0,Qe.jsxs)("div",{className:"p-8 text-center",children:[(0,Qe.jsx)(Rs,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),(0,Qe.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Available Accounts"}),(0,Qe.jsx)("p",{className:"text-gray-500 mb-6",children:s||"all"!==l?"No accounts match your current filters.":"Import accounts to get started with this model."}),!s&&"all"===l&&(0,Qe.jsxs)("button",{onClick:()=>r(!0),className:"btn-primary flex items-center gap-2 mx-auto",children:[(0,Qe.jsx)(Ei,{className:"h-4 w-4"}),"Import Accounts"]})]})}),(0,Qe.jsx)(zl,{isOpen:n,onClose:()=>r(!1),modelId:t,onImportComplete:()=>{x()}})]})},Yl=He("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),Xl=He("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),Zl=He("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),eo=He("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),to=["bio","gender","name","username","first_highlight","new_highlight","post_caption","post_no_caption","story_caption","story_no_caption"],no={bio:"Bio Change",gender:"Gender Change",name:"Name Change",username:"Username Change",first_highlight:"First Highlight",new_highlight:"New Highlight",post_caption:"Post with Caption",post_no_caption:"Post without Caption",story_caption:"Story with Caption",story_no_caption:"Story without Caption"},ao={bio:Zr,gender:Fl,name:Fl,username:Yl,first_highlight:Xr,new_highlight:Xr,post_caption:Xr,post_no_caption:Xr,story_caption:Xr,story_no_caption:Xr},ro=e=>{let{accountId:t,showTitle:n=!0,compact:r=!1}=e;const[s,i]=(0,a.useState)(null),[l,o]=(0,a.useState)(!0),[c,d]=(0,a.useState)(null);(0,a.useEffect)((()=>{(async()=>{try{o(!0),d(null);const e=await fetch("http://localhost:3001/api/bot/accounts/".concat(t,"/warmup-status"));if(!e.ok)throw new Error("Failed to fetch warmup status");const n=await e.json();i(n.data)}catch(e){console.error("Error fetching warmup status:",e),d(e.message||"Failed to load warmup status")}finally{o(!1)}})()}),[t]);const u=(e,t)=>{const n=ao[t]||Wl;switch(e){case"completed":return(0,Qe.jsx)(Ol,{className:"h-5 w-5 text-green-600"});case"in_progress":return(0,Qe.jsx)(Es,{className:"h-5 w-5 text-blue-600 animate-pulse"});case"available":case"content_assigned":return(0,Qe.jsx)(n,{className:"h-5 w-5 text-yellow-600"});case"failed":case"requires_review":return(0,Qe.jsx)(Rl,{className:"h-5 w-5 text-red-600"});default:return(0,Qe.jsx)(n,{className:"h-5 w-5 text-gray-400"})}},m=e=>{switch(e){case"completed":return"bg-green-100 text-green-800 border-green-200";case"in_progress":return"bg-blue-100 text-blue-800 border-blue-200";case"available":case"content_assigned":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"failed":case"requires_review":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-600 border-gray-200"}},p=e=>{if(!e)return null;return new Date(e).toLocaleString()};if(l)return(0,Qe.jsx)("div",{className:"".concat(r?"p-4":"p-6"," bg-white rounded-lg shadow"),children:(0,Qe.jsxs)("div",{className:"animate-pulse",children:[(0,Qe.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-4"}),(0,Qe.jsx)("div",{className:"space-y-3",children:[...Array(5)].map(((e,t)=>(0,Qe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Qe.jsx)("div",{className:"h-8 w-8 bg-gray-200 rounded-full"}),(0,Qe.jsx)("div",{className:"h-4 bg-gray-200 rounded flex-1"})]},t)))})]})});if(c||!s)return(0,Qe.jsx)("div",{className:"".concat(r?"p-4":"p-6"," bg-white rounded-lg shadow"),children:(0,Qe.jsxs)("div",{className:"text-center py-8",children:[(0,Qe.jsx)(as,{className:"mx-auto h-12 w-12 text-red-400 mb-4"}),(0,Qe.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Failed to Load Status"}),(0,Qe.jsx)("p",{className:"text-gray-500",children:c})]})});const x=new Map(s.phases.map((e=>[e.phase,e])));return(0,Qe.jsxs)("div",{className:"".concat(r?"p-4":"p-6"," bg-white rounded-lg shadow"),children:[n&&(0,Qe.jsxs)("div",{className:"mb-6",children:[(0,Qe.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"10-Phase Warmup Progress"}),(0,Qe.jsxs)("p",{className:"text-sm text-gray-500",children:[s.username," \u2022 ",s.completed_phases," of ",s.total_phases," phases completed"]}),(0,Qe.jsxs)("div",{className:"mt-3",children:[(0,Qe.jsxs)("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[(0,Qe.jsx)("span",{children:"Progress"}),(0,Qe.jsxs)("span",{children:[s.progress_percent,"%"]})]}),(0,Qe.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,Qe.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(s.progress_percent,"%")}})})]})]}),(0,Qe.jsx)("div",{className:"space-y-3",children:to.map(((e,t)=>{const n=x.get(e),a=(null===n||void 0===n?void 0:n.status)||"pending";return(0,Qe.jsxs)("div",{className:"flex items-center p-3 rounded-lg border ".concat(m(a)," transition-all duration-200"),children:[(0,Qe.jsxs)("div",{className:"flex items-center flex-1",children:[(0,Qe.jsx)("div",{className:"mr-3",children:u(a,e)}),(0,Qe.jsxs)("div",{className:"flex-1",children:[(0,Qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qe.jsxs)("h4",{className:"font-medium text-sm",children:["Phase ",t+1,": ",no[e]]}),(0,Qe.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium capitalize ".concat(m(a)),children:a.replace("_"," ")})]}),n&&(0,Qe.jsxs)("div",{className:"mt-1 text-xs text-gray-600 space-y-1",children:[n.available_at&&(0,Qe.jsxs)("div",{children:["Available: ",p(n.available_at)]}),n.started_at&&(0,Qe.jsxs)("div",{children:["Started: ",p(n.started_at)]}),n.completed_at&&(0,Qe.jsxs)("div",{children:["Completed: ",p(n.completed_at)]}),n.bot_id&&(0,Qe.jsxs)("div",{children:["Bot: ",n.bot_id]}),n.error_message&&(0,Qe.jsxs)("div",{className:"text-red-600",children:["Error: ",n.error_message]}),n.retry_count&&n.retry_count>0&&(0,Qe.jsxs)("div",{className:"text-orange-600",children:["Retries: ",n.retry_count]})]})]})]}),t<to.length-1&&(0,Qe.jsx)("div",{className:"absolute left-6 mt-12 w-0.5 h-6 bg-gray-300"})]},e)}))}),!r&&(0,Qe.jsx)("div",{className:"mt-6 pt-4 border-t border-gray-200",children:(0,Qe.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("span",{className:"text-gray-600",children:"Lifecycle State:"}),(0,Qe.jsx)("span",{className:"ml-2 font-medium capitalize",children:s.lifecycle_state})]}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("span",{className:"text-gray-600",children:"Completion:"}),(0,Qe.jsxs)("span",{className:"ml-2 font-medium",children:[s.progress_percent,"%"]})]}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("span",{className:"text-gray-600",children:"Available Phases:"}),(0,Qe.jsx)("span",{className:"ml-2 font-medium",children:s.available_phases})]}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("span",{className:"text-gray-600",children:"Failed Phases:"}),(0,Qe.jsx)("span",{className:"ml-2 font-medium text-red-600",children:s.failed_phases})]})]})})]})},so=He("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),io=He("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),lo=["accountId"],oo=e=>{let{isOpen:t,onClose:n,onSuccess:r,modelId:s,accounts:i}=e;const[l,o]=(0,a.useState)([]),[c,d]=(0,a.useState)([]),[u,m]=(0,a.useState)(null),[p,x]=(0,a.useState)([]),[h,f]=(0,a.useState)(null),[g,b]=(0,a.useState)(!1),[v,y]=(0,a.useState)(!1),[j,w]=(0,a.useState)(null),[N,k]=(0,a.useState)(!1),[S,C]=(0,a.useState)(!1),_=(0,a.useRef)(null),E=(0,a.useRef)(null);(0,a.useEffect)((()=>{x(i)}),[i]);const I=e=>{var t;if((null===(t=_.current)||void 0===t?void 0:t.readyState)!==WebSocket.OPEN)try{_.current=new WebSocket("ws://localhost:3001"),_.current.onopen=()=>{console.log("WebSocket connected"),k(!0);const t=e||u;var n;t&&(null===(n=_.current)||void 0===n||n.send(JSON.stringify({type:"register",sessionId:t})));E.current&&(clearTimeout(E.current),E.current=null)},_.current.onmessage=async e=>{const t=JSON.parse(e.data);if("password_reset_detected"!==t.type)if("account_status_change"!==t.type){if("session_status"===t.type){const e=t.data,n=e.accounts.map(((t,n)=>{const a=e.results.find((e=>e.accountId===t.accountId));let r="queued";return e.currentAccountIndex>n?r="failed"===(null===a||void 0===a?void 0:a.status)?"failed":"completed":e.currentAccountIndex===n&&(r="in_progress"===e.status?"in_progress":"queued"),{id:t.accountId,username:t.username,password:t.password,email:t.email,email_password:t.email_password,container_number:t.containerNumber,status:r,error:null===a||void 0===a?void 0:a.error,errorType:(null===a||void 0===a?void 0:a.errorType)||"technical"}}));return d(n),void b("in_progress"===e.status||"queued"===e.status)}if("step_update"===t.type||"session_completed"===t.type||"session_started"===t.type){var n;const e=t.data,s=null!==(n=e.accountId)&&void 0!==n?n:h;if(s){const{accountId:n}=e,i=ze(e,lo);var a;if(d((t=>t.map((t=>{var n,a;return t.id===s?Le(Le({},t),{},{status:"failed"===i.status&&null!==(n=i.error)&&void 0!==n&&n.includes("password")?"invalid_password":i.status,progress:e,error:i.error,errorType:null!==(a=i.error)&&void 0!==a&&a.includes("password")?"password_reset_detected":"technical"}):t})))),"in_progress"===i.status&&(f(s),w(e)),"session_completed"===t.type)if("completed"===i.status)P(s);else if("failed"===i.status&&null!==(a=i.error)&&void 0!==a&&a.includes("password")){var r;qt.error("Account ".concat(null!==(r=e.username)&&void 0!==r?r:"Account"," has incorrect password"))}}}}else{const e=t.data;R(e)}else{const e=t.data;T(e)}},_.current.onerror=e=>{console.error("WebSocket error:",e),k(!1)},_.current.onclose=()=>{console.log("WebSocket disconnected"),k(!1),!g||v||E.current||(E.current=setTimeout((()=>{console.log("Attempting to reconnect WebSocket..."),I()}),3e3))}}catch(n){console.error("Failed to connect WebSocket:",n),k(!1)}},P=async e=>{try{const t=await fetch("/api/accounts/lifecycle/".concat(e,"/complete-setup"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({changed_by:"automation_frontend"})});if(t.ok)qt.success("Account ".concat(e," moved to 'Ready for Bot Assignment'."));else{const n=await t.json();qt.error("Failed to move account ".concat(e," to ready state: ").concat(n.message))}}catch(t){console.error("Error transitioning account ".concat(e,":"),t),qt.error("Error transitioning account ".concat(e," to ready state."))}},D=()=>{E.current&&(clearTimeout(E.current),E.current=null),_.current&&(_.current.close(),_.current=null),k(!1)},A=async()=>{if(v)return;const e=c.find((e=>"queued"===e.status));if(!e)return b(!1),f(null),w(null),qt.success("All accounts processed successfully!"),void(null===r||void 0===r||r("queue_completed"));f(e.id);try{const t={containerNumber:e.container_number||1,username:e.username,password:e.password,email:e.email,email_password:e.email_password},n=await fetch("/api/automation/start-account-setup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok){const e=await n.json();throw new Error(e.error||"Failed to start automation")}}catch(t){console.error("Failed to start automation for account:",e.username,t),d((n=>n.map((n=>n.id===e.id?Le(Le({},n),{},{status:"failed",error:t.message}):n)))),qt.error("Failed to start automation for ".concat(e.username,": ").concat(t.message)),setTimeout((()=>A()),2e3)}},O=(0,a.useMemo)((()=>{const e={};return p.forEach((t=>{var n;const a=null===(n=t.email)||void 0===n?void 0:n.split("@");if(a&&2===a.length){const n=a[1].toLowerCase();e[n]||(e[n]=[]),e[n].push(t.id)}})),e}),[p]);(0,a.useEffect)((()=>{if(t){const e=localStorage.getItem("automationSessionId");e&&(m(e),fetch("/api/automation/status/".concat(e)).then((e=>e.json())).then((e=>{if(e.hasActiveSession){qt.success("Restored active automation session.");const{status:t,results:n,accounts:a,currentAccountIndex:r}=e,s=a.map(((e,a)=>{const s=n.find((t=>t.accountId===e.accountId));let i="queued";return a<r?i="failed"===(null===s||void 0===s?void 0:s.status)?"failed":"completed":a===r&&"in_progress"===t&&(i="in_progress",f(e.accountId)),{id:e.accountId,username:e.username,password:e.password,email:e.email,email_password:e.email_password,container_number:e.containerNumber,status:i,error:null===s||void 0===s?void 0:s.error}}));d(s),b("in_progress"===t||"queued"===t)}else localStorage.removeItem("automationSessionId"),m(null)})).catch((e=>{console.error("Failed to fetch session status",e),localStorage.removeItem("automationSessionId"),m(null)}))),I(e)}else D(),w(null),b(!1),y(!1),d([]),f(null)}),[t]),(0,a.useEffect)((()=>()=>{g||D()}),[]);const T=async e=>{if(console.log("Password reset detected for account:",e.username),d((t=>t.map((t=>t.id===e.accountId?Le(Le({},t),{},{status:"invalid_password",error:e.message,errorType:"password_reset_detected",invalidatedAt:e.timestamp}):t)))),e.accountId&&h===e.accountId&&(f(null),w(null)),qt.error("Invalid password detected for ".concat(e.username,". Account marked as invalid.")),e.accountId)try{await fetch("/api/accounts/lifecycle/".concat(e.accountId,"/mark-invalid"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({reason:"password_reset_detected",changed_by:"automation_frontend",details:e.message})})}catch(t){console.error("Failed to mark account as invalid in backend:",t)}},R=async e=>{console.log("Account status change:",e),d((t=>t.map((t=>t.id===e.accountId?Le(Le({},t),{},{status:"invalid"===e.status?"invalid_password":t.status,error:e.reason,errorType:e.reason.includes("password")?"password_reset_detected":"technical"}):t)))),"invalid"===e.status&&qt.error("Account ".concat(e.username," status changed: ").concat(e.reason))};if(!t)return null;const F=c.filter((e=>"completed"===e.status)).length,L=c.filter((e=>"failed"===e.status)).length,M=c.filter((e=>"invalid_password"===e.status)).length,z=c.length;return(0,Qe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Qe.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,Qe.jsxs)("div",{className:"flex items-center justify-between p-6 border-b",children:[(0,Qe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Qe.jsx)(Es,{className:"h-6 w-6 text-blue-600"}),(0,Qe.jsx)("h2",{className:"text-xl font-semibold",children:"Instagram Account Automation Queue"}),(0,Qe.jsxs)("div",{className:"flex items-center space-x-1 text-sm ".concat(N?"text-green-600":"text-red-600"),children:[N?(0,Qe.jsx)(Fs,{className:"h-4 w-4"}):(0,Qe.jsx)(so,{className:"h-4 w-4"}),(0,Qe.jsx)("span",{children:N?"Connected":"Disconnected"})]})]}),(0,Qe.jsx)("button",{onClick:()=>{n()},className:"text-gray-400 hover:text-gray-600",title:g&&!v?"Hide queue (continues in background)":"Close",children:(0,Qe.jsx)(ts,{className:"h-6 w-6"})})]}),(0,Qe.jsxs)("div",{className:"p-6 space-y-6",children:[c.length>0&&(0,Qe.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4",children:[(0,Qe.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Qe.jsx)("h3",{className:"font-medium text-blue-900",children:"Automation Queue Status"}),(0,Qe.jsxs)("div",{className:"flex items-center space-x-4 text-sm",children:[(0,Qe.jsxs)("span",{className:"text-green-700",children:[F," completed"]}),(0,Qe.jsxs)("span",{className:"text-red-700",children:[L," failed"]}),(0,Qe.jsxs)("span",{className:"text-orange-700",children:[M," invalid password"]}),(0,Qe.jsxs)("span",{className:"text-blue-700",children:[z-F-L-M," remaining"]})]})]}),(0,Qe.jsx)("div",{className:"w-full bg-blue-200 rounded-full h-2 mb-3",children:(0,Qe.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(z>0?(F+L+M)/z*100:0,"%")}})}),g&&(0,Qe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Qe.jsx)("button",{onClick:()=>{v?(y(!1),qt.success("Automation resumed"),A()):(y(!0),qt.success("Automation paused after current account"))},className:"px-3 py-1 rounded text-sm font-medium ".concat(v?"bg-green-100 text-green-700 hover:bg-green-200":"bg-yellow-100 text-yellow-700 hover:bg-yellow-200"),children:v?(0,Qe.jsxs)(Qe.Fragment,{children:[(0,Qe.jsx)(Es,{className:"h-3 w-3 inline mr-1"}),"Resume"]}):(0,Qe.jsxs)(Qe.Fragment,{children:[(0,Qe.jsx)(Is,{className:"h-3 w-3 inline mr-1"}),"Pause After Current"]})}),v&&(0,Qe.jsx)("span",{className:"text-sm text-yellow-600",children:"Queue paused"})]})]}),j&&h&&(0,Qe.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4 space-y-4",children:[(0,Qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qe.jsxs)("h3",{className:"font-medium text-blue-900",children:["Current: ",j.username," (Container #",j.containerNumber,")"]}),(0,Qe.jsxs)("div",{className:"flex items-center space-x-2",children:["in_progress"===j.status&&(0,Qe.jsx)(io,{className:"h-4 w-4 animate-spin text-blue-600"}),"completed"===j.status&&(0,Qe.jsx)(Ol,{className:"h-4 w-4 text-green-600"}),"failed"===j.status&&(0,Qe.jsx)(as,{className:"h-4 w-4 text-red-600"}),(0,Qe.jsxs)("span",{className:"text-sm font-medium",children:[j.progress,"%"]})]})]}),(0,Qe.jsx)("div",{className:"w-full bg-blue-200 rounded-full h-2",children:(0,Qe.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(j.progress,"%")}})}),(0,Qe.jsxs)("div",{className:"text-sm text-blue-800",children:[(0,Qe.jsxs)("strong",{children:["Step ",j.currentStep," of ",j.totalSteps,":"]})," ",j.stepName]}),(0,Qe.jsx)("div",{className:"grid grid-cols-5 gap-2",children:[{id:1,name:"Selecting Container",description:"Navigate to and select the specified container"},{id:2,name:"Entering Username",description:"Open Instagram and paste username/email"},{id:3,name:"Entering Password & Login",description:"Enter password and submit login form"},{id:4,name:"Fetching Verification Token",description:"Poll email for Instagram verification code"},{id:5,name:"Entering Token & Skipping Onboarding",description:"Enter verification code and skip onboarding"}].map((e=>(0,Qe.jsxs)("div",{className:"text-center text-xs ".concat(e.id<j.currentStep?"text-green-700":e.id===j.currentStep?"text-blue-700 font-medium":"text-gray-500"),children:[(0,Qe.jsx)("div",{className:"w-6 h-6 mx-auto rounded-full flex items-center justify-center text-xs mb-1 ".concat(e.id<j.currentStep?"bg-green-100 text-green-700":e.id===j.currentStep?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-400"),children:e.id<j.currentStep?"\u2713":e.id}),(0,Qe.jsx)("div",{className:"break-words",children:e.name})]},e.id)))}),j.error&&(0,Qe.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded p-3 text-sm text-red-700",children:[(0,Qe.jsx)("strong",{children:"Error:"})," ",j.error]})]}),!g&&(0,Qe.jsxs)("div",{className:"space-y-4",children:[(0,Qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qe.jsx)("h3",{className:"font-medium text-gray-900",children:"Select Accounts for Automation"}),(0,Qe.jsxs)("button",{onClick:()=>C(!S),className:"flex items-center space-x-2 text-blue-600 hover:text-blue-700",children:[(0,Qe.jsxs)("span",{className:"text-sm",children:[l.length," selected"]}),(0,Qe.jsx)(xi,{className:"h-4 w-4 transition-transform ".concat(S?"rotate-180":"")})]})]}),S&&(0,Qe.jsxs)("div",{className:"border rounded-lg max-h-60 overflow-y-auto",children:[(0,Qe.jsx)("div",{className:"p-3 border-b",children:(0,Qe.jsxs)("label",{className:"flex items-center space-x-3",children:[(0,Qe.jsx)("input",{type:"checkbox",onChange:e=>{return t=e.target.checked,void o(t?p.map((e=>e.id)):[]);var t},checked:p.length>0&&l.length===p.length}),(0,Qe.jsx)("span",{className:"font-medium",children:"Select All"})]})}),Object.keys(O).length>1&&(0,Qe.jsxs)("div",{className:"p-3 space-y-2 border-b bg-gray-50",children:[(0,Qe.jsx)("p",{className:"text-xs font-medium text-gray-600",children:"Batch select by email domain"}),Object.entries(O).map((e=>{let[t,n]=e;const a=n.every((e=>l.includes(e)));return(0,Qe.jsxs)("label",{className:"flex items-center space-x-2 text-sm",children:[(0,Qe.jsx)("input",{type:"checkbox",checked:a,onChange:e=>((e,t)=>{const n=O[e]||[];o((e=>{if(t){const t=n.filter((t=>!e.includes(t)));return[...e,...t]}return e.filter((e=>!n.includes(e)))}))})(t,e.target.checked)}),(0,Qe.jsxs)("span",{children:[t," (",n.length,")"]})]},t)}))]}),0===p.length?(0,Qe.jsxs)("div",{className:"p-4 text-center text-gray-500",children:[(0,Qe.jsx)(Fl,{className:"h-8 w-8 mx-auto mb-2 text-gray-400"}),(0,Qe.jsx)("p",{children:"No accounts in manual setup phase"})]}):(0,Qe.jsx)("div",{className:"space-y-0",children:p.map((e=>(0,Qe.jsxs)("label",{className:"flex items-center space-x-3 p-3 hover:bg-gray-50 cursor-pointer border-b last:border-b-0",children:[(0,Qe.jsx)("input",{type:"checkbox",checked:l.includes(e.id),onChange:t=>{return n=e.id,a=t.target.checked,void o((e=>a?[...e,n]:e.filter((e=>e!==n))));var n,a},className:"rounded border-gray-300"}),(0,Qe.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Qe.jsx)("span",{className:"font-medium text-sm",children:e.username}),e.container_number&&(0,Qe.jsxs)("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:["Container #",e.container_number]})]}),(0,Qe.jsx)("div",{className:"text-xs text-gray-500 truncate",children:e.email})]})]},e.id)))})]})]}),c.length>0&&(0,Qe.jsxs)("div",{className:"space-y-2",children:[(0,Qe.jsx)("h4",{className:"font-medium text-gray-900",children:"Automation Queue"}),(0,Qe.jsx)("div",{className:"border rounded-lg max-h-60 overflow-y-auto",children:c.map(((e,t)=>(0,Qe.jsxs)(a.Fragment,{children:[(0,Qe.jsxs)("div",{className:"flex items-center justify-between p-3 border-b last:border-b-0 ".concat(e.id===h?"bg-blue-50":""),children:[(0,Qe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Qe.jsx)("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-xs font-medium",children:t+1}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("div",{className:"font-medium text-sm",children:e.username}),(0,Qe.jsxs)("div",{className:"text-xs text-gray-500",children:["Container #",e.container_number]})]})]}),(0,Qe.jsxs)("div",{className:"flex items-center space-x-2",children:["queued"===e.status&&(0,Qe.jsx)(Wl,{className:"h-4 w-4 text-gray-400"}),"in_progress"===e.status&&(0,Qe.jsx)(io,{className:"h-4 w-4 animate-spin text-blue-600"}),"completed"===e.status&&(0,Qe.jsx)(Ol,{className:"h-4 w-4 text-green-600"}),"failed"===e.status&&(0,Qe.jsx)(as,{className:"h-4 w-4 text-red-600"}),"invalid_password"===e.status&&(0,Qe.jsx)(as,{className:"h-4 w-4 text-orange-600"}),(0,Qe.jsx)("span",{className:"text-xs capitalize px-2 py-1 rounded-full ".concat("queued"===e.status?"bg-gray-100 text-gray-700":"in_progress"===e.status?"bg-blue-100 text-blue-700":"completed"===e.status?"bg-green-100 text-green-700":"invalid_password"===e.status?"bg-orange-100 text-orange-700":"bg-red-100 text-red-700"),children:"invalid_password"===e.status?"Invalid Password":e.status})]})]}),"invalid_password"===e.status&&e.error&&(0,Qe.jsxs)("div",{className:"mt-2 text-xs text-orange-600 bg-orange-50 p-2 rounded border-l-2 border-orange-200",children:[(0,Qe.jsx)("strong",{children:"Reason:"})," ",e.error]})]},e.id)))})]})]}),(0,Qe.jsxs)("div",{className:"flex items-center justify-end space-x-3 p-6 border-t bg-gray-50",children:[(0,Qe.jsx)("button",{onClick:n,disabled:g&&!v,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50",children:g&&!v?"Running...":"Close"}),!g&&(0,Qe.jsxs)("button",{onClick:async()=>{if(0===l.length)return void qt.error("Please select at least one account.");const e=p.filter((e=>l.includes(e.id))).map((e=>({accountId:e.id,containerNumber:e.container_number||1,username:e.username,password:e.password,email:e.email,email_password:e.email_password})));try{const t=await fetch("/api/automation/start-account-setup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const e=await t.json();throw new Error(e.error||"Failed to start automation session")}const n=await t.json();m(n.sessionId),localStorage.setItem("automationSessionId",n.sessionId);const a=e.map((e=>({id:e.accountId,username:e.username,password:e.password,email:e.email,email_password:e.email_password,container_number:e.containerNumber,status:"queued"})));d(a),b(!0),qt.success("Automation queue started for ".concat(e.length," accounts."))}catch(t){console.error("Failed to start automation:",t),qt.error(t.message)}},disabled:0===l.length,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[(0,Qe.jsx)(Es,{className:"h-4 w-4"}),(0,Qe.jsxs)("span",{children:["Start Queue (",l.length," accounts)"]})]})]})]})})};let co=function(e){return e.MANUAL_SETUP="manual_setup",e.BIO="bio",e.GENDER="gender",e.NAME="name",e.USERNAME="username",e.FIRST_HIGHLIGHT="first_highlight",e.NEW_HIGHLIGHT="new_highlight",e.POST_CAPTION="post_caption",e.POST_NO_CAPTION="post_no_caption",e.STORY_CAPTION="story_caption",e.STORY_NO_CAPTION="story_no_caption",e}({}),uo=function(e){return e.PENDING="pending",e.AVAILABLE="available",e.IN_PROGRESS="in_progress",e.COMPLETED="completed",e.FAILED="failed",e.REQUIRES_REVIEW="requires_review",e}({});const mo=[{id:co.BIO,name:"Bio Change",description:"Update Instagram bio",icon:Zr,color:"blue",contentTypes:["bio"]},{id:co.GENDER,name:"Gender Change",description:"Change gender to female",icon:Fl,color:"pink",contentTypes:[]},{id:co.NAME,name:"Name Change",description:"Update display name",icon:Fl,color:"green",contentTypes:["name"]},{id:co.USERNAME,name:"Username Change",description:"Change Instagram username",icon:Yl,color:"purple",contentTypes:["username"]},{id:co.FIRST_HIGHLIGHT,name:"First Highlight",description:"Upload first highlight group",icon:Xr,color:"yellow",contentTypes:["highlight_group_name"],dependency:null},{id:co.NEW_HIGHLIGHT,name:"New Highlight",description:"Upload new highlight group",icon:Xr,color:"orange",contentTypes:["highlight_group_name"],dependency:co.FIRST_HIGHLIGHT},{id:co.POST_CAPTION,name:"Post with Caption",description:"Upload post with caption",icon:Xr,color:"indigo",contentTypes:["post"]},{id:co.POST_NO_CAPTION,name:"Post without Caption",description:"Upload post without caption",icon:Xr,color:"gray",contentTypes:[]},{id:co.STORY_CAPTION,name:"Story with Caption",description:"Upload story with caption",icon:Xr,color:"red",contentTypes:["story"]},{id:co.STORY_NO_CAPTION,name:"Story without Caption",description:"Upload story without caption",icon:Xr,color:"teal",contentTypes:[]}],po=e=>{var t,n,r,s,i,l;let{modelId:o}=e;const[c,d]=(0,a.useState)(""),[u,m]=(0,a.useState)("all"),[p,x]=(0,a.useState)(null),[h,f]=(0,a.useState)(!1),[g,b]=(0,a.useState)({}),[v,y]=(0,a.useState)({}),[j,w]=(0,a.useState)(!0),[N,k]=(0,a.useState)(null),[S,C]=(0,a.useState)({}),[_,E]=(0,a.useState)({}),[I,P]=(0,a.useState)(!1),[D,A]=(0,a.useState)({}),[O,T]=(0,a.useState)({}),[R,F]=(0,a.useState)(null),{accounts:L,loading:M,error:z,totalCount:B,filteredCount:U,refreshData:H,updateFilters:q}=Ci({modelId:o,activeTab:"warmup"}),W=async()=>{if(0!==L.length)try{w(!0),k(null);const e=L.map((async e=>{try{const t=await Wr.getWarmupStatus(e.id);return{accountId:e.id,status:t}}catch(t){return console.warn("Failed to get warmup status for account ".concat(e.id,":"),t),{accountId:e.id,status:null}}})),t=await Promise.all(e),n={};t.forEach((e=>{let{accountId:t,status:a}=e;a&&(n[t]=a)})),y(n);const a=Le({manual_setup:[],invalid:[],ready_for_assignment:[]},Object.fromEntries(mo.map((e=>[e.id,[]]))));L.forEach((e=>{const t=n[e.id];if("archived"!==e.lifecycle_state&&"cleanup"!==e.lifecycle_state&&"banned"!==e.status&&"suspended"!==e.status)if("imported"!==e.lifecycle_state&&e.email&&e.password&&e.email_password)if("ready"!==e.lifecycle_state)if("warmup"===e.lifecycle_state&&null!==t&&void 0!==t&&t.phases){const n=t.phases.find((e=>"available"===e.status||"in_progress"===e.status));n&&a[n.phase]?a[n.phase].push(Le(Le({},e),{},{phases:t.phases,current_phase:n.phase,phase_status:n.status,warmup_progress:t.progress_percent||0})):a.ready_for_assignment.push(Le(Le({},e),{},{phases:t.phases,current_phase:void 0,phase_status:void 0,warmup_progress:t.progress_percent||0}))}else a.ready_for_assignment.push(Le(Le({},e),{},{phases:(null===t||void 0===t?void 0:t.phases)||[],current_phase:void 0,phase_status:void 0,warmup_progress:0}));else a.ready_for_assignment.push(Le(Le({},e),{},{phases:(null===t||void 0===t?void 0:t.phases)||[],current_phase:void 0,phase_status:void 0,warmup_progress:0}));else a.manual_setup.push(Le(Le({},e),{},{phases:(null===t||void 0===t?void 0:t.phases)||[],current_phase:void 0,phase_status:void 0,warmup_progress:0}));else a.invalid.push(Le(Le({},e),{},{phases:(null===t||void 0===t?void 0:t.phases)||[],current_phase:void 0,phase_status:void 0,warmup_progress:0}))})),b(a)}catch(e){console.error("Error fetching warmup data:",e),k(e.message||"Failed to load warmup data")}finally{w(!1)}};(0,a.useEffect)((()=>{W()}),[L]),(0,a.useEffect)((()=>{q({search:c||void 0})}),[c,q]);const G=e=>{const t=[{id:"container_number",field:"container_number",header:"Container",width:120,minWidth:100,resizable:!0,sortable:!0,filterable:!0,type:"number",align:"center",visible:!0,order:1,frozen:!1,editable:!1,required:!1,render:e=>(0,Qe.jsx)("div",{className:"text-center",children:e?(0,Qe.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["#",e]}):(0,Qe.jsx)("span",{className:"text-gray-400 italic text-xs",children:"Auto"})})},{id:"username",field:"username",header:"Username",width:180,minWidth:150,resizable:!0,sortable:!0,filterable:!0,type:"text",align:"left",visible:!0,order:2,frozen:!1,editable:!1,required:!0,render:(e,t)=>(0,Qe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Qe.jsx)("div",{className:"w-2 h-2 rounded-full ".concat("active"===t.status?"bg-green-500":"banned"===t.status?"bg-red-500":"suspended"===t.status?"bg-yellow-500":"bg-gray-500"),title:t.status}),(0,Qe.jsx)("span",{className:"font-medium text-sm",children:e})]})}],n=[];switch(e){case"invalid":n.push({id:"account_status",field:"status",header:"Account Status",width:140,minWidth:120,resizable:!0,sortable:!0,filterable:!0,type:"select",align:"left",visible:!0,order:3,frozen:!1,editable:!1,required:!1,options:[{value:"banned",label:"Banned"},{value:"suspended",label:"Suspended"},{value:"inactive",label:"Inactive"}],render:e=>(0,Qe.jsx)("span",{className:"text-xs px-2 py-1 rounded-full ".concat("banned"===e?"bg-red-100 text-red-800":"suspended"===e?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-700"),children:e||"Unknown"})},{id:"lifecycle_state",field:"lifecycle_state",header:"Lifecycle State",width:140,minWidth:120,resizable:!0,sortable:!0,filterable:!0,type:"text",align:"left",visible:!0,order:4,frozen:!1,editable:!1,required:!1,render:e=>(0,Qe.jsx)("span",{className:"text-xs text-gray-600 capitalize",children:e||"Unknown"})},{id:"invalid_actions",field:"id",header:"Recovery Actions",width:240,minWidth:200,resizable:!1,sortable:!1,filterable:!1,type:"custom",align:"center",visible:!0,order:5,frozen:!1,editable:!1,required:!1,render:(e,t)=>(0,Qe.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Qe.jsxs)("button",{onClick:()=>(async e=>{try{(await fetch("/api/accounts/lifecycle/".concat(e,"/reactivate"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({changed_by:"warmup_frontend"})})).ok?(qt.success("Account reactivation attempted"),H(),W()):qt.error("Failed to reactivate account")}catch(N){console.error("Error reactivating account:",N),qt.error("Error reactivating account")}})(t.id),className:"flex items-center gap-1 px-2 py-1 text-xs bg-green-50 hover:bg-green-100 text-green-700 rounded transition-colors",title:"Attempt to reactivate account",children:[(0,Qe.jsx)(Ol,{className:"h-3 w-3"}),"Reactivate"]}),(0,Qe.jsxs)("button",{onClick:()=>(async e=>{try{(await fetch("/api/accounts/lifecycle/".concat(e,"/mark-for-replacement"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({changed_by:"warmup_frontend"})})).ok?(qt.success("Account marked for replacement"),H(),W()):qt.error("Failed to mark account for replacement")}catch(N){console.error("Error marking account for replacement:",N),qt.error("Error marking account for replacement")}})(t.id),className:"flex items-center gap-1 px-2 py-1 text-xs bg-orange-50 hover:bg-orange-100 text-orange-700 rounded transition-colors",title:"Mark for replacement",children:[(0,Qe.jsx)(Xl,{className:"h-3 w-3"}),"Replace"]}),(0,Qe.jsxs)("button",{onClick:()=>{x(t.id),f(!0)},className:"flex items-center gap-1 px-2 py-1 text-xs bg-blue-50 hover:bg-blue-100 text-blue-700 rounded transition-colors",title:"View account details",children:[(0,Qe.jsx)(Zl,{className:"h-3 w-3"}),"Details"]})]})});break;case"manual_setup":n.push({id:"email",field:"email",header:"Email",width:220,minWidth:180,resizable:!0,sortable:!1,filterable:!1,type:"text",align:"left",visible:!0,order:3,frozen:!1,editable:!1,required:!1,render:(e,t)=>{var n;return(0,Qe.jsx)("span",{className:"text-xs text-gray-700 font-mono",children:(null===(n=t.account_details)||void 0===n?void 0:n.email)||t.email||"Not set"})}},{id:"password",field:"password",header:"Password",width:140,minWidth:120,resizable:!0,sortable:!1,filterable:!1,type:"text",align:"left",visible:!0,order:4,frozen:!1,editable:!1,required:!1,render:(e,t)=>{var n;return(0,Qe.jsx)("span",{className:"text-xs text-gray-700 font-mono",children:(null===(n=t.account_details)||void 0===n?void 0:n.password)||t.password||"Not set"})}},{id:"email_password",field:"email_password",header:"Email Password",width:140,minWidth:120,resizable:!0,sortable:!1,filterable:!1,type:"text",align:"left",visible:!0,order:5,frozen:!1,editable:!1,required:!1,render:(e,t)=>{var n;return(0,Qe.jsx)("span",{className:"text-xs text-gray-700 font-mono",children:(null===(n=t.account_details)||void 0===n?void 0:n.email_password)||t.email_password||"Not set"})}},{id:"proxy_info",field:"proxy_host",header:"Proxy",width:150,minWidth:130,resizable:!0,sortable:!1,filterable:!1,type:"text",align:"left",visible:!0,order:6,frozen:!1,editable:!1,required:!1,render:(e,t)=>(0,Qe.jsx)("div",{className:"text-xs text-gray-600",children:t.proxy_host?(0,Qe.jsxs)("div",{children:[(0,Qe.jsxs)("div",{className:"font-mono",children:[t.proxy_host,":",t.proxy_port]}),(0,Qe.jsx)("div",{className:"text-gray-500",children:t.proxy_username})]}):(0,Qe.jsx)("span",{className:"text-gray-400",children:"No proxy"})})},{id:"manual_setup_actions",field:"id",header:"Actions",width:280,minWidth:260,resizable:!1,sortable:!1,filterable:!1,type:"custom",align:"center",visible:!0,order:7,frozen:!1,editable:!1,required:!1,render:(e,t)=>(0,Qe.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Qe.jsx)("button",{onClick:()=>(async e=>{try{C((t=>Le(Le({},t),{},{[e]:!0})));const t=await Wr.completeManualSetup(e,"frontend-user");t.success?(qt.success("Manual setup completed for account ".concat(e)),await W(),await H()):qt.error(t.message||"Failed to complete manual setup")}catch(N){console.error("Error completing manual setup:",N),qt.error(N.message||"Failed to complete manual setup")}finally{C((t=>Le(Le({},t),{},{[e]:!1})))}})(t.id),disabled:S[t.id]||_[t.id]||D[t.id],className:"flex items-center gap-1 px-2 py-1 text-xs bg-green-50 hover:bg-green-100 text-green-700 rounded transition-colors disabled:opacity-50",title:"Complete manual setup",children:S[t.id]?(0,Qe.jsxs)(Qe.Fragment,{children:[(0,Qe.jsx)("div",{className:"w-3 h-3 border border-green-600 border-t-transparent rounded-full animate-spin"}),"Completing..."]}):(0,Qe.jsxs)(Qe.Fragment,{children:[(0,Qe.jsx)(Ol,{className:"h-3 w-3"}),"Complete"]})}),(0,Qe.jsx)("button",{onClick:()=>(async e=>{try{E((t=>Le(Le({},t),{},{[e]:!0})));const t=await Wr.markAccountInvalid(e,"Account marked as invalid during manual setup");t.success?(qt.success("Account marked as invalid. Proxy and container resources freed."),await W(),await H()):qt.error(t.message||"Failed to mark account as invalid")}catch(N){console.error("Error marking account as invalid:",N),qt.error(N.message||"Failed to mark account as invalid")}finally{E((t=>Le(Le({},t),{},{[e]:!1})))}})(t.id),disabled:S[t.id]||_[t.id]||D[t.id],className:"flex items-center gap-1 px-2 py-1 text-xs bg-red-50 hover:bg-red-100 text-red-700 rounded transition-colors disabled:opacity-50",title:"Mark account as invalid and free resources",children:_[t.id]?(0,Qe.jsxs)(Qe.Fragment,{children:[(0,Qe.jsx)("div",{className:"w-3 h-3 border border-red-600 border-t-transparent rounded-full animate-spin"}),"Marking..."]}):(0,Qe.jsxs)(Qe.Fragment,{children:[(0,Qe.jsx)(ts,{className:"h-3 w-3"}),"Invalid"]})}),(0,Qe.jsxs)("div",{className:"relative",children:[(0,Qe.jsx)("button",{onClick:()=>{var e,n;const a=(null===(e=t.account_details)||void 0===e?void 0:e.email)||t.email,r=(null===(n=t.account_details)||void 0===n?void 0:n.email_password)||t.email_password;a&&r?(async(e,t,n)=>{try{A((t=>Le(Le({},t),{},{[e]:!0})));const a=await fetch("/api/automation/fetch-manual-token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,email_password:n})}),r=await a.json();if(!a.ok)throw new Error(r.error||"Failed to fetch token");T((t=>Le(Le({},t),{},{[e]:r.token}))),qt.success("Token retrieved: ".concat(r.token));const s=L.find((t=>t.id===e));F({accountId:e,token:r.token,username:(null===s||void 0===s?void 0:s.username)||"Account ".concat(e)})}catch(N){console.error("Error fetching email token:",N),qt.error(N.message||"Failed to fetch email token")}finally{A((t=>Le(Le({},t),{},{[e]:!1})))}})(t.id,a,r):qt.error("Email and email password are required")},disabled:S[t.id]||_[t.id]||D[t.id],className:"flex items-center gap-1 px-2 py-1 text-xs bg-blue-50 hover:bg-blue-100 text-blue-700 rounded transition-colors disabled:opacity-50",title:O[t.id]?"Token: ".concat(O[t.id]):"Fetch Instagram verification token from email",children:D[t.id]?(0,Qe.jsxs)(Qe.Fragment,{children:[(0,Qe.jsx)("div",{className:"w-3 h-3 border border-blue-600 border-t-transparent rounded-full animate-spin"}),"Fetching..."]}):(0,Qe.jsxs)(Qe.Fragment,{children:[(0,Qe.jsx)(eo,{className:"h-3 w-3"}),"Get Token"]})}),O[t.id]&&(0,Qe.jsx)("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 bg-gray-900 text-white text-xs px-2 py-1 rounded opacity-0 hover:opacity-100 transition-opacity pointer-events-none z-10",children:O[t.id]})]})]})});break;case co.USERNAME:n.push({id:"new_username",field:"new_username",header:"New Username",width:140,minWidth:120,resizable:!0,sortable:!1,filterable:!1,type:"text",align:"left",visible:!0,order:3,frozen:!1,editable:!1,required:!1,render:e=>(0,Qe.jsx)("span",{className:"text-sm text-blue-700 font-medium",children:e||"Pending assignment"})});break;case co.BIO:case co.NAME:case co.FIRST_HIGHLIGHT:case co.NEW_HIGHLIGHT:case co.POST_CAPTION:case co.STORY_CAPTION:n.push({id:"assigned_content",field:"assigned_content",header:"Assigned Content",width:200,minWidth:150,resizable:!0,sortable:!1,filterable:!1,type:"text",align:"left",visible:!0,order:3,frozen:!1,editable:!1,required:!1,render:e=>(0,Qe.jsx)("div",{className:"text-xs text-gray-600 max-w-[180px] truncate",title:e,children:e||"Content pending"})});break;default:n.push({id:"phase_status",field:"phase_status",header:"Phase Status",width:120,minWidth:100,resizable:!0,sortable:!1,filterable:!1,type:"text",align:"center",visible:!0,order:3,frozen:!1,editable:!1,required:!1,render:e=>{const t={[uo.PENDING]:"bg-gray-100 text-gray-800",[uo.AVAILABLE]:"bg-blue-100 text-blue-800",[uo.IN_PROGRESS]:"bg-yellow-100 text-yellow-800",[uo.COMPLETED]:"bg-green-100 text-green-800",[uo.FAILED]:"bg-red-100 text-red-800",[uo.REQUIRES_REVIEW]:"bg-purple-100 text-purple-800"};return(0,Qe.jsx)("span",{className:"text-xs px-2 py-1 rounded-full ".concat(t[e]||"bg-gray-100 text-gray-700"),children:e||"Ready"})}})}const a=[{id:"proxy_status",field:"proxy_status",header:"Proxy",width:90,minWidth:80,resizable:!0,sortable:!0,filterable:!0,type:"select",align:"center",visible:!0,order:8,frozen:!1,editable:!1,required:!1,options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"},{value:"error",label:"Error"},{value:"unknown",label:"Unknown"}],render:e=>{const t={active:"bg-green-100 text-green-800",inactive:"bg-gray-100 text-gray-800",error:"bg-red-100 text-red-800",unknown:"bg-yellow-100 text-yellow-800"};return(0,Qe.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(t[e]||t.unknown),children:e||"unknown"})}},{id:"actions",field:"id",header:"Actions",width:100,minWidth:90,resizable:!1,sortable:!1,filterable:!1,type:"custom",align:"center",visible:!0,order:9,frozen:!1,editable:!1,required:!1,render:(e,t)=>(0,Qe.jsxs)("button",{onClick:()=>{x(t.id),f(!0)},className:"flex items-center gap-1 px-2 py-1 text-xs bg-blue-50 hover:bg-blue-100 text-blue-700 rounded transition-colors",title:"View phase details",children:[(0,Qe.jsx)(Zl,{className:"h-3 w-3"}),"Details"]})}];return e===co.MANUAL_SETUP?[...t,...n]:[...t,...n,...a]};if(M&&0===L.length)return(0,Qe.jsx)("div",{className:"p-8",children:(0,Qe.jsx)(os,{size:"lg",text:"Loading warmup pipeline...",className:"min-h-96"})});if(z&&0===L.length)return(0,Qe.jsx)("div",{className:"p-8",children:(0,Qe.jsxs)("div",{className:"text-center py-12",children:[(0,Qe.jsx)("div",{className:"text-red-400 text-6xl mb-4",children:"\u26a0\ufe0f"}),(0,Qe.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Failed to Load Warmup Pipeline"}),(0,Qe.jsx)("p",{className:"text-gray-500 mb-6",children:z}),(0,Qe.jsxs)("button",{onClick:H,className:"btn-primary flex items-center gap-2 mx-auto",children:[(0,Qe.jsx)(Xl,{className:"h-4 w-4"}),"Try Again"]})]})});const V=Object.values(g).reduce(((e,t)=>e+t.length),0),$=Object.entries(g).filter((e=>{let[t]=e;return!["manual_setup","invalid","ready_for_assignment"].includes(t)})).reduce(((e,t)=>{let[,n]=t;return e+n.length}),0),K=(null===(t=g.invalid)||void 0===t?void 0:t.length)||0;return(0,Qe.jsxs)("div",{className:"p-6 h-full flex flex-col",children:[(0,Qe.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"10-Phase Warmup Pipeline"}),(0,Qe.jsxs)("p",{className:"text-sm text-gray-500",children:[V," accounts \u2022 ",$," in warmup \u2022 ",K," need attention"]})]}),(0,Qe.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Qe.jsxs)("button",{onClick:()=>P(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md flex items-center gap-2 transition-colors",children:[(0,Qe.jsx)(We,{className:"h-4 w-4"}),"Setup Automation"]}),(0,Qe.jsxs)("button",{onClick:()=>{H(),W()},className:"btn-secondary flex items-center gap-2",disabled:M||j,children:[(0,Qe.jsx)(Xl,{className:"h-4 w-4 ".concat(M||j?"animate-spin":"")}),"Refresh"]})]})]}),(0,Qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[(0,Qe.jsx)("div",{className:"bg-white rounded-lg shadow p-4",children:(0,Qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Manual Setup"}),(0,Qe.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:(null===(n=g.manual_setup)||void 0===n?void 0:n.length)||0})]}),(0,Qe.jsx)(Fl,{className:"h-8 w-8 text-blue-600"})]})}),(0,Qe.jsx)("div",{className:"bg-white rounded-lg shadow p-4",children:(0,Qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Invalid/Banned"}),(0,Qe.jsx)("p",{className:"text-2xl font-bold text-red-600",children:(null===(r=g.invalid)||void 0===r?void 0:r.length)||0})]}),(0,Qe.jsx)(as,{className:"h-8 w-8 text-red-600"})]})}),(0,Qe.jsx)("div",{className:"bg-white rounded-lg shadow p-4",children:(0,Qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Ready for Bot"}),(0,Qe.jsx)("p",{className:"text-2xl font-bold text-green-600",children:(null===(s=g.ready_for_assignment)||void 0===s?void 0:s.length)||0})]}),(0,Qe.jsx)(Qr,{className:"h-8 w-8 text-green-600"})]})}),(0,Qe.jsx)("div",{className:"bg-white rounded-lg shadow p-4",children:(0,Qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"In Progress"}),(0,Qe.jsx)("p",{className:"text-2xl font-bold text-yellow-600",children:$})]}),(0,Qe.jsx)(Wl,{className:"h-8 w-8 text-yellow-600"})]})}),(0,Qe.jsx)("div",{className:"bg-white rounded-lg shadow p-4",children:(0,Qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Completed"}),(0,Qe.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:L.filter((e=>"active"===e.lifecycle_state)).length})]}),(0,Qe.jsx)(js,{className:"h-8 w-8 text-purple-600"})]})})]}),(0,Qe.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,Qe.jsx)("div",{className:"flex-1 relative",children:(0,Qe.jsx)("input",{type:"text",placeholder:"Search accounts...",value:c,onChange:e=>d(e.target.value),className:"form-input"})}),(0,Qe.jsxs)("select",{value:u,onChange:e=>m(e.target.value),className:"form-select",children:[(0,Qe.jsx)("option",{value:"all",children:"All Phases"}),(0,Qe.jsx)("option",{value:"manual_setup",children:"Manual Setup"}),(0,Qe.jsx)("option",{value:"ready_for_assignment",children:"Ready for Bot"}),mo.map((e=>(0,Qe.jsx)("option",{value:e.id,children:e.name},e.id)))]})]}),(0,Qe.jsxs)("div",{className:"".concat(h?"flex-1":"w-full"," space-y-6 overflow-y-auto"),children:[g.invalid&&g.invalid.length>0&&(0,Qe.jsxs)("div",{className:"bg-white rounded-lg shadow border-l-4 border-red-500",children:[(0,Qe.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,Qe.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Qe.jsx)("div",{className:"w-8 h-8 rounded-full bg-red-100 flex items-center justify-center",children:(0,Qe.jsx)(as,{className:"h-4 w-4 text-red-600"})}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("h4",{className:"text-lg font-medium text-gray-900",children:"Invalid/Banned Accounts"}),(0,Qe.jsx)("p",{className:"text-sm text-gray-500",children:"Accounts that need immediate attention"}),(0,Qe.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Fields: Username, Container, Status, Account Issues, Recovery Actions"})]}),(0,Qe.jsx)("div",{className:"ml-auto",children:(0,Qe.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[g.invalid.length," accounts"]})})]})}),(0,Qe.jsx)(Si,{data:g.invalid,columns:G("invalid"),loading:j,error:N,height:600,virtualScrolling:!1,multiSelect:!0,rowSelection:!0,keyboardNavigation:!0})]}),(0,Qe.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,Qe.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,Qe.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Qe.jsx)("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center",children:(0,Qe.jsx)(Fl,{className:"h-4 w-4 text-blue-600"})}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("h4",{className:"text-lg font-medium text-gray-900",children:"Phase 0: Manual Setup"}),(0,Qe.jsx)("p",{className:"text-sm text-gray-500",children:"Human container configuration and Instagram login"}),(0,Qe.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Fields: Username, Container, Email, Password, Complete Button"})]}),(0,Qe.jsx)("div",{className:"ml-auto",children:(0,Qe.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[(null===(i=g.manual_setup)||void 0===i?void 0:i.length)||0," accounts"]})})]})}),g.manual_setup&&g.manual_setup.length>0?(0,Qe.jsx)(Si,{data:g.manual_setup,columns:G("manual_setup"),loading:j,error:N,height:600,virtualScrolling:!1,multiSelect:!0,rowSelection:!0,keyboardNavigation:!0}):(0,Qe.jsx)("div",{className:"p-8 text-center text-gray-500",children:"No accounts in manual setup phase"})]}),(0,Qe.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,Qe.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,Qe.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Qe.jsx)("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center",children:(0,Qe.jsx)(Qr,{className:"h-4 w-4 text-green-600"})}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("h4",{className:"text-lg font-medium text-gray-900",children:"Ready for Bot Assignment"}),(0,Qe.jsx)("p",{className:"text-sm text-gray-500",children:"Accounts ready for random phase assignment"}),(0,Qe.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Fields: Username, Container, Proxy Status, Last Action"})]}),(0,Qe.jsx)("div",{className:"ml-auto",children:(0,Qe.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[(null===(l=g.ready_for_assignment)||void 0===l?void 0:l.length)||0," accounts"]})})]})}),g.ready_for_assignment&&g.ready_for_assignment.length>0?(0,Qe.jsx)(Si,{data:g.ready_for_assignment,columns:G("ready_for_assignment"),loading:j,error:N,height:500,virtualScrolling:!1,multiSelect:!0,rowSelection:!0,keyboardNavigation:!0}):(0,Qe.jsx)("div",{className:"p-8 text-center text-gray-500",children:"No accounts ready for assignment"})]}),mo.map((e=>{var t;const n=e.icon,a=g[e.id]||[];return(0,Qe.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,Qe.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,Qe.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Qe.jsx)("div",{className:"w-8 h-8 rounded-full bg-".concat(e.color,"-100 flex items-center justify-center"),children:(0,Qe.jsx)(n,{className:"h-4 w-4 text-".concat(e.color,"-600")})}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("h4",{className:"text-lg font-medium text-gray-900",children:e.name}),(0,Qe.jsxs)("p",{className:"text-sm text-gray-500",children:[e.description,e.dependency&&(0,Qe.jsxs)("span",{className:"ml-2 text-xs text-orange-600",children:["(Requires: ",null===(t=mo.find((t=>t.id===e.dependency)))||void 0===t?void 0:t.name,")"]})]}),(0,Qe.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:(e=>{switch(e){case co.BIO:return"Fields: Username, Container, Assigned Bio Content, Phase Status, Progress";case co.GENDER:return"Fields: Username, Container, Phase Status, Last Action Time";case co.NAME:return"Fields: Username, Container, Assigned Name, Phase Status, Progress";case co.USERNAME:return"Fields: Username, Container, New Username, Phase Status, Progress";case co.FIRST_HIGHLIGHT:case co.NEW_HIGHLIGHT:return"Fields: Username, Container, Highlight Group + Images, Phase Status, Progress";case co.POST_CAPTION:case co.STORY_CAPTION:return"Fields: Username, Container, Caption + Image, Phase Status, Progress";case co.POST_NO_CAPTION:case co.STORY_NO_CAPTION:return"Fields: Username, Container, Image Only, Phase Status, Progress";default:return"Fields: Username, Container, Proxy Status, Phase Status"}})(e.id)}),e.contentTypes.length>0&&(0,Qe.jsxs)("p",{className:"text-xs text-blue-600 mt-1",children:["Content Required: ",e.contentTypes.join(", ")]})]}),(0,Qe.jsx)("div",{className:"ml-auto",children:(0,Qe.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-".concat(e.color,"-100 text-").concat(e.color,"-800"),children:[a.length," accounts"]})})]})}),a.length>0?(0,Qe.jsx)(Si,{data:a,columns:G(e.id),loading:j,error:N,height:500,virtualScrolling:!1,multiSelect:!0,rowSelection:!0,keyboardNavigation:!0}):(0,Qe.jsxs)("div",{className:"p-8 text-center text-gray-500",children:["No accounts in ",e.name.toLowerCase()," phase"]})]},e.id)}))]}),h&&p&&(0,Qe.jsxs)("div",{className:"w-96 flex flex-col",children:[(0,Qe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Qe.jsx)("h4",{className:"text-lg font-medium text-gray-900",children:"Phase Details"}),(0,Qe.jsx)("button",{onClick:()=>{f(!1),x(null)},className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-md transition-colors",children:"\u2715"})]}),(0,Qe.jsx)("div",{className:"flex-1",children:(0,Qe.jsx)(ro,{accountId:p,showTitle:!1,compact:!0})})]}),(0,Qe.jsx)(oo,{isOpen:I,onClose:()=>P(!1),onSuccess:e=>{H(),W(),qt.success("Automation session completed successfully")},modelId:o,accounts:g.manual_setup||[]}),R&&(0,Qe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Qe.jsxs)("div",{className:"bg-white rounded-lg shadow-xl p-6 max-w-md w-full mx-4",children:[(0,Qe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Qe.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Instagram Verification Token"}),(0,Qe.jsx)("button",{onClick:()=>F(null),className:"text-gray-400 hover:text-gray-600",children:(0,Qe.jsx)(ts,{className:"h-5 w-5"})})]}),(0,Qe.jsxs)("div",{className:"text-center",children:[(0,Qe.jsxs)("p",{className:"text-sm text-gray-600 mb-2",children:["Token for ",(0,Qe.jsx)("strong",{children:R.username}),":"]}),(0,Qe.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:(0,Qe.jsx)("p",{className:"text-3xl font-mono font-bold text-blue-900 tracking-wider",children:R.token})}),(0,Qe.jsxs)("div",{className:"flex gap-2",children:[(0,Qe.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(R.token),qt.success("Token copied to clipboard!")},className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Copy Token"}),(0,Qe.jsx)("button",{onClick:()=>F(null),className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 transition-colors",children:"Close"})]})]})]})})]})},xo=He("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),ho=He("ShieldX",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m14.5 9-5 5",key:"1m49dw"}],["path",{d:"m9.5 9 5 5",key:"wyx7zg"}]]),fo=He("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),go=He("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),bo=He("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),vo=e=>{let{modelId:t}=e;const[n,r]=(0,a.useState)(""),[s,i]=(0,a.useState)("all"),{accounts:l,loading:o,error:c,totalCount:d,filteredCount:u,refreshData:m,updateFilters:p}=Ci({modelId:t,activeTab:"proxy"});(0,a.useEffect)((()=>{p({search:n||void 0,proxy_status:"all"===s?void 0:[s]})}),[n,s,p]);const x=[{id:"username",field:"username",header:"Username",width:150,minWidth:120,resizable:!0,sortable:!0,filterable:!0,type:"text",align:"left",visible:!0,order:1,frozen:!1,editable:!1,required:!0,render:(e,t)=>(0,Qe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Qe.jsx)("div",{className:"w-2 h-2 rounded-full ".concat("active"===t.proxy_status?"bg-green-500":"error"===t.proxy_status?"bg-red-500":"inactive"===t.proxy_status?"bg-yellow-500":"bg-gray-500"),title:t.proxy_status}),(0,Qe.jsx)("span",{className:"font-medium",children:e})]})},{id:"proxy_status",field:"proxy_status",header:"Proxy Status",width:120,minWidth:100,resizable:!0,sortable:!0,filterable:!0,type:"select",align:"center",visible:!0,order:2,frozen:!1,editable:!1,required:!1,options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"},{value:"error",label:"Error"},{value:"unknown",label:"Unknown"}],render:e=>{const t={active:"bg-green-100 text-green-800",inactive:"bg-gray-100 text-gray-800",error:"bg-red-100 text-red-800",unknown:"bg-yellow-100 text-yellow-800"},n="active"===e?xo:"error"===e?ho:"inactive"===e?fo:go;return(0,Qe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Qe.jsx)(n,{className:"h-4 w-4"}),(0,Qe.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(t[e]||t.unknown),children:e||"unknown"})]})}},{id:"proxy_host",field:"proxy_host",header:"Proxy Host",width:150,minWidth:120,resizable:!0,sortable:!0,filterable:!0,type:"text",align:"left",visible:!0,order:3,frozen:!1,editable:!1,required:!1,render:(e,t)=>e?(0,Qe.jsxs)("div",{className:"font-mono text-sm",children:[(0,Qe.jsx)("div",{children:e}),t.proxy_port&&(0,Qe.jsxs)("div",{className:"text-xs text-gray-500",children:[":",t.proxy_port]})]}):(0,Qe.jsx)("span",{className:"text-gray-400",children:"No proxy"})},{id:"proxy_provider",field:"proxy_provider",header:"Provider",width:120,minWidth:100,resizable:!0,sortable:!0,filterable:!0,type:"text",align:"center",visible:!0,order:4,frozen:!1,editable:!1,required:!1,render:e=>e?(0,Qe.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:e}):(0,Qe.jsx)("span",{className:"text-gray-400",children:"-"})},{id:"proxy_location",field:"proxy_location",header:"Location",width:120,minWidth:100,resizable:!0,sortable:!0,filterable:!0,type:"text",align:"center",visible:!0,order:5,frozen:!1,editable:!1,required:!1,render:e=>e?(0,Qe.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Qe.jsx)(bo,{className:"h-3 w-3 text-gray-400"}),(0,Qe.jsx)("span",{className:"text-sm",children:e})]}):(0,Qe.jsx)("span",{className:"text-gray-400",children:"-"})},{id:"proxy_last_checked",field:"proxy_last_checked",header:"Last Checked",width:130,minWidth:110,resizable:!0,sortable:!0,filterable:!0,type:"date",align:"center",visible:!0,order:6,frozen:!1,editable:!1,required:!1,render:e=>{if(!e)return(0,Qe.jsx)("span",{className:"text-gray-400",children:"Never"});const t=new Date(e),n=new Date,a=Math.floor((n.getTime()-t.getTime())/36e5);return a<1?(0,Qe.jsx)("span",{className:"text-green-600",children:"Just now"}):a<24?(0,Qe.jsxs)("span",{className:"text-green-600",children:[a,"h ago"]}):a<168?(0,Qe.jsxs)("span",{className:"text-yellow-600",children:[Math.floor(a/24),"d ago"]}):(0,Qe.jsx)("span",{className:"text-red-600",children:t.toLocaleDateString()})}},{id:"status",field:"status",header:"Account Status",width:120,minWidth:100,resizable:!0,sortable:!0,filterable:!0,type:"select",align:"center",visible:!0,order:7,frozen:!1,editable:!1,required:!0,options:[{value:"active",label:"Active"},{value:"banned",label:"Banned"},{value:"suspended",label:"Suspended"},{value:"inactive",label:"Inactive"}],render:e=>(0,Qe.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat({active:"bg-green-100 text-green-800",banned:"bg-red-100 text-red-800",suspended:"bg-yellow-100 text-yellow-800",inactive:"bg-gray-100 text-gray-800"}[e]),children:e})}];if(o&&0===l.length)return(0,Qe.jsx)("div",{className:"p-8",children:(0,Qe.jsx)(os,{size:"lg",text:"Loading proxy information...",className:"min-h-96"})});if(c&&0===l.length)return(0,Qe.jsx)("div",{className:"p-8",children:(0,Qe.jsxs)("div",{className:"text-center py-12",children:[(0,Qe.jsx)("div",{className:"text-red-400 text-6xl mb-4",children:"\u26a0\ufe0f"}),(0,Qe.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Failed to Load Proxy Data"}),(0,Qe.jsx)("p",{className:"text-gray-500 mb-6",children:c}),(0,Qe.jsxs)("button",{onClick:m,className:"btn-primary flex items-center gap-2 mx-auto",children:[(0,Qe.jsx)(zs,{className:"h-4 w-4"}),"Try Again"]})]})});const h={active:l.filter((e=>"active"===e.proxy_status)).length,inactive:l.filter((e=>"inactive"===e.proxy_status)).length,error:l.filter((e=>"error"===e.proxy_status)).length,noProxy:l.filter((e=>!e.proxy_host)).length};return(0,Qe.jsxs)("div",{className:"p-6 h-full flex flex-col",children:[(0,Qe.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Proxy Management"}),(0,Qe.jsxs)("p",{className:"text-sm text-gray-500",children:[u," of ",d," accounts with proxy configuration"]})]}),(0,Qe.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Qe.jsxs)("button",{onClick:m,className:"btn-secondary flex items-center gap-2",disabled:o,children:[(0,Qe.jsx)(zs,{className:"h-4 w-4 ".concat(o?"animate-spin":"")}),"Refresh"]}),(0,Qe.jsxs)("button",{className:"btn-primary flex items-center gap-2",onClick:()=>{},children:[(0,Qe.jsx)(We,{className:"h-4 w-4"}),"Configure Proxies"]})]})]}),(0,Qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,Qe.jsx)("div",{className:"bg-white rounded-lg shadow p-4",children:(0,Qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Active Proxies"}),(0,Qe.jsx)("p",{className:"text-2xl font-bold text-green-600",children:h.active})]}),(0,Qe.jsx)(xo,{className:"h-8 w-8 text-green-600"})]})}),(0,Qe.jsx)("div",{className:"bg-white rounded-lg shadow p-4",children:(0,Qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Inactive Proxies"}),(0,Qe.jsx)("p",{className:"text-2xl font-bold text-yellow-600",children:h.inactive})]}),(0,Qe.jsx)(fo,{className:"h-8 w-8 text-yellow-600"})]})}),(0,Qe.jsx)("div",{className:"bg-white rounded-lg shadow p-4",children:(0,Qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Proxy Errors"}),(0,Qe.jsx)("p",{className:"text-2xl font-bold text-red-600",children:h.error})]}),(0,Qe.jsx)(ho,{className:"h-8 w-8 text-red-600"})]})}),(0,Qe.jsx)("div",{className:"bg-white rounded-lg shadow p-4",children:(0,Qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"No Proxy"}),(0,Qe.jsx)("p",{className:"text-2xl font-bold text-gray-600",children:h.noProxy})]}),(0,Qe.jsx)(go,{className:"h-8 w-8 text-gray-600"})]})})]}),(0,Qe.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,Qe.jsx)("div",{className:"flex-1 relative",children:(0,Qe.jsx)("input",{type:"text",placeholder:"Search accounts...",value:n,onChange:e=>r(e.target.value),className:"form-input"})}),(0,Qe.jsxs)("select",{value:s,onChange:e=>i(e.target.value),className:"form-select",children:[(0,Qe.jsx)("option",{value:"all",children:"All Proxy Status"}),(0,Qe.jsx)("option",{value:"active",children:"Active"}),(0,Qe.jsx)("option",{value:"inactive",children:"Inactive"}),(0,Qe.jsx)("option",{value:"error",children:"Error"}),(0,Qe.jsx)("option",{value:"unknown",children:"Unknown"})]})]}),(0,Qe.jsx)("div",{className:"flex-1 bg-white rounded-lg shadow",children:0!==l.length||o?(0,Qe.jsx)(Si,{data:l,columns:x,loading:o,error:c,height:400,virtualScrolling:!0,multiSelect:!0,rowSelection:!0,keyboardNavigation:!0,className:"h-full"}):(0,Qe.jsxs)("div",{className:"p-8 text-center",children:[(0,Qe.jsx)(go,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),(0,Qe.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Proxy Configuration"}),(0,Qe.jsx)("p",{className:"text-gray-500 mb-6",children:n||"all"!==s?"No accounts match your current filters.":"No accounts have proxy configuration set up."}),!n&&"all"===s&&(0,Qe.jsxs)("button",{className:"btn-primary flex items-center gap-2 mx-auto",onClick:()=>{},children:[(0,Qe.jsx)(We,{className:"h-4 w-4"}),"Configure Proxies"]})]})})]})},yo=He("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),jo=He("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]),wo=He("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),No=e=>{let{isOpen:t,onClose:n,onSuccess:r}=e;const[s,i]=(0,a.useState)([]),[l,o]=(0,a.useState)([]),[c,d]=(0,a.useState)([]),[u,m]=(0,a.useState)([]),[p,x]=(0,a.useState)([]),[h,f]=(0,a.useState)(""),[g,b]=(0,a.useState)(""),[v,y]=(0,a.useState)(!1),[j,w]=(0,a.useState)(null),[N,k]=(0,a.useState)(!1),[S,C]=(0,a.useState)(""),_=["pfp","bio","post","highlight","story","any","username"];(0,a.useEffect)((()=>{t&&E()}),[t]);const E=async()=>{try{const e=await fetch("/api/central/bundles");if(e.ok){const t=await e.json();o(t)}}catch(e){console.error("Failed to fetch bundles:",e)}},I=(e,t,n)=>{i((a=>a.map(((a,r)=>r===e?Le(Le({},a),{},{[t]:n}):a))))},P=()=>{if(h&&!c.includes(h)){const e=[...c,h];d(e),i((e=>e.map((e=>Le(Le({},e),{},{categories:Array.from(new Set([...e.categories,h]))}))))),f("")}},D=()=>{if(g&&!u.includes(g)){const e=[...u,g];m(e),i((e=>e.map((e=>Le(Le({},e),{},{tags:Array.from(new Set([...e.tags,g]))}))))),b("")}},A=e=>{const t=!p.includes(e),n=t?[...p,e]:p.filter((t=>t!==e));x(n),i((n=>n.map((n=>Le(Le({},n),{},{assignedBundles:t?Array.from(new Set([...n.assignedBundles,e])):n.assignedBundles.filter((t=>t!==e))})))))},O=async()=>{if(S.trim())try{const e=await fetch("/api/central/bundles",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:S,description:"Quick bundle created during upload",bundle_type:"mixed",categories:c,tags:u,created_by:"user"})});if(e.ok){const t=await e.json();o((e=>[...e,t])),A(t.id),C(""),k(!1),qt.success('Bundle "'.concat(S,'" created and selected'))}}catch(e){qt.error("Failed to create bundle")}else qt.error("Bundle name is required")},T=()=>{s.forEach((e=>URL.revokeObjectURL(e.preview))),i([]),d([]),m([]),x([]),w(null),k(!1),C(""),n()};if(!t)return null;const R=null!==j?s[j]:null;return(0,Qe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Qe.jsxs)("div",{className:"bg-white rounded-lg max-w-7xl w-full max-h-[95vh] overflow-hidden flex flex-col",children:[(0,Qe.jsxs)("div",{className:"flex items-center justify-between p-6 border-b bg-gradient-to-r from-blue-50 to-purple-50",children:[(0,Qe.jsxs)("div",{children:[(0,Qe.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[(0,Qe.jsx)(Jr,{className:"w-7 h-7 text-blue-600"}),"Upload to Central Registry"]}),(0,Qe.jsx)("p",{className:"text-gray-600 mt-1",children:"Upload content with per-file categories and bundle assignments"})]}),(0,Qe.jsx)("button",{onClick:T,className:"text-gray-400 hover:text-gray-600 p-2 hover:bg-gray-100 rounded-full transition-colors",children:(0,Qe.jsx)(ts,{className:"w-6 h-6"})})]}),(0,Qe.jsxs)("div",{className:"flex-1 overflow-hidden flex",children:[(0,Qe.jsxs)("div",{className:"w-1/3 border-r bg-gray-50 flex flex-col",children:[(0,Qe.jsx)("div",{className:"p-6 border-b",children:(0,Qe.jsxs)("label",{className:"block",children:[(0,Qe.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-blue-400 hover:bg-blue-50 transition-colors cursor-pointer",children:[(0,Qe.jsx)(Jr,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),(0,Qe.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,Qe.jsx)("span",{className:"font-medium text-blue-600",children:"Click to upload"})," or drag and drop"]}),(0,Qe.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG, MP4 up to 10MB each"})]}),(0,Qe.jsx)("input",{type:"file",multiple:!0,accept:"image/*,video/*",onChange:e=>{const t=Array.from(e.target.files||[]).map((e=>({file:e,preview:URL.createObjectURL(e),categories:[...c],tags:[...u],textContent:"",assignedBundles:[...p]})));i((e=>[...e,...t]))},className:"hidden"})]})}),(0,Qe.jsxs)("div",{className:"p-6 border-b",children:[(0,Qe.jsxs)("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[(0,Qe.jsx)(wo,{className:"w-4 h-4"}),"Apply to All Files"]}),(0,Qe.jsxs)("div",{className:"mb-4",children:[(0,Qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categories"}),(0,Qe.jsx)("div",{className:"flex flex-wrap gap-2 mb-2",children:_.map((e=>(0,Qe.jsxs)("button",{onClick:()=>(e=>{const t=!c.includes(e),n=t?[...c,e]:c.filter((t=>t!==e));d(n),i((n=>n.map((n=>Le(Le({},n),{},{categories:t?Array.from(new Set([...n.categories,e])):n.categories.filter((t=>t!==e))})))))})(e),className:"px-3 py-1 rounded-full text-sm font-medium transition-colors ".concat(c.includes(e)?"bg-blue-100 text-blue-800 ring-2 ring-blue-300":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[c.includes(e)&&(0,Qe.jsx)(ns,{className:"w-3 h-3 inline mr-1"}),e]},e)))}),(0,Qe.jsxs)("div",{className:"flex gap-2",children:[(0,Qe.jsx)("input",{type:"text",value:h,onChange:e=>f(e.target.value),placeholder:"Custom category",className:"form-input flex-1 text-sm",onKeyPress:e=>"Enter"===e.key&&P()}),(0,Qe.jsx)("button",{onClick:P,className:"btn-secondary px-3",children:(0,Qe.jsx)(Xe,{className:"w-4 h-4"})})]})]}),(0,Qe.jsxs)("div",{className:"mb-4",children:[(0,Qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags"}),(0,Qe.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,Qe.jsx)("input",{type:"text",value:g,onChange:e=>b(e.target.value),placeholder:"Add tag",className:"form-input flex-1 text-sm",onKeyPress:e=>"Enter"===e.key&&D()}),(0,Qe.jsx)("button",{onClick:D,className:"btn-secondary px-3",children:(0,Qe.jsx)(Xe,{className:"w-4 h-4"})})]}),u.length>0&&(0,Qe.jsx)("div",{className:"flex flex-wrap gap-1",children:u.map((e=>(0,Qe.jsx)("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs",children:e},e)))})]}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assign to Bundles"}),(0,Qe.jsx)("div",{className:"space-y-2 max-h-32 overflow-y-auto mb-2",children:l.map((e=>(0,Qe.jsxs)("label",{className:"flex items-center gap-2 p-2 hover:bg-gray-100 rounded cursor-pointer",children:[(0,Qe.jsx)("input",{type:"checkbox",checked:p.includes(e.id),onChange:()=>A(e.id),className:"form-checkbox"}),(0,Qe.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Qe.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.name}),(0,Qe.jsxs)("p",{className:"text-xs text-gray-500",children:[e.content_count," items"]})]})]},e.id)))}),N?(0,Qe.jsxs)("div",{className:"space-y-2",children:[(0,Qe.jsx)("input",{type:"text",value:S,onChange:e=>C(e.target.value),placeholder:"Bundle name",className:"form-input w-full text-sm",onKeyPress:e=>"Enter"===e.key&&O()}),(0,Qe.jsxs)("div",{className:"flex gap-2",children:[(0,Qe.jsx)("button",{onClick:O,className:"btn-primary flex-1 text-sm py-1",children:"Create"}),(0,Qe.jsx)("button",{onClick:()=>k(!1),className:"btn-secondary flex-1 text-sm py-1",children:"Cancel"})]})]}):(0,Qe.jsxs)("button",{onClick:()=>k(!0),className:"w-full text-sm text-blue-600 hover:text-blue-800 font-medium flex items-center justify-center gap-1 py-2 border border-blue-200 rounded hover:bg-blue-50",children:[(0,Qe.jsx)(Xe,{className:"w-4 h-4"}),"Create New Bundle"]})]})]}),(0,Qe.jsx)("div",{className:"p-6 bg-white",children:(0,Qe.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,Qe.jsx)("p",{className:"font-medium mb-1",children:"Upload Summary:"}),(0,Qe.jsxs)("p",{children:["\u2022 ",s.length," file(s) selected"]}),(0,Qe.jsxs)("p",{children:["\u2022 ",c.length," global categories"]}),(0,Qe.jsxs)("p",{children:["\u2022 ",p.length," bundles selected"]})]})})]}),(0,Qe.jsx)("div",{className:"flex-1 flex flex-col",children:0===s.length?(0,Qe.jsx)("div",{className:"flex-1 flex items-center justify-center text-gray-500",children:(0,Qe.jsxs)("div",{className:"text-center",children:[(0,Qe.jsx)(Xr,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),(0,Qe.jsx)("p",{className:"text-lg font-medium",children:"No files selected"}),(0,Qe.jsx)("p",{className:"text-sm",children:"Upload files to see preview and individual settings"})]})}):(0,Qe.jsxs)(Qe.Fragment,{children:[(0,Qe.jsxs)("div",{className:"p-6 border-b",children:[(0,Qe.jsxs)("h3",{className:"font-semibold text-gray-900 mb-4",children:["Selected Files (",s.length,")"]}),(0,Qe.jsx)("div",{className:"grid grid-cols-4 gap-4 max-h-48 overflow-y-auto",children:s.map(((e,t)=>(0,Qe.jsxs)("div",{className:"relative group cursor-pointer border-2 rounded-lg overflow-hidden transition-all ".concat(j===t?"border-blue-500 ring-2 ring-blue-200":"border-gray-200 hover:border-gray-300"),onClick:()=>w(t),children:[(0,Qe.jsx)("div",{className:"aspect-square bg-gray-100",children:e.file.type.startsWith("image/")?(0,Qe.jsx)("img",{src:e.preview,alt:e.file.name,className:"w-full h-full object-cover"}):(0,Qe.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,Qe.jsx)(es,{className:"w-8 h-8 text-gray-400"})})}),(0,Qe.jsx)("button",{onClick:e=>{e.stopPropagation(),(e=>{i((t=>{const n=[...t];return URL.revokeObjectURL(n[e].preview),n.splice(e,1),n})),j===e&&w(null)})(t)},className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,Qe.jsx)(ts,{className:"w-3 h-3"})}),(0,Qe.jsx)("div",{className:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-50 text-white p-1",children:(0,Qe.jsx)("p",{className:"text-xs truncate",children:e.file.name})}),(0,Qe.jsxs)("div",{className:"absolute top-1 left-1 flex gap-1",children:[e.categories.length>0&&(0,Qe.jsx)("div",{className:"bg-blue-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs",children:e.categories.length}),e.assignedBundles.length>0&&(0,Qe.jsx)("div",{className:"bg-purple-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs",children:(0,Qe.jsx)(Ve,{className:"w-3 h-3"})}),e.textContent&&(0,Qe.jsx)("div",{className:"bg-green-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs",children:"T"})]})]},t)))})]}),R&&(0,Qe.jsxs)("div",{className:"flex-1 p-6 overflow-y-auto",children:[(0,Qe.jsxs)("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[(0,Qe.jsx)(as,{className:"w-5 h-5 text-blue-600"}),"Individual Settings: ",R.file.name]}),(0,Qe.jsxs)("div",{className:"space-y-6",children:[(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categories for this file"}),(0,Qe.jsx)("div",{className:"flex flex-wrap gap-2",children:_.map((e=>(0,Qe.jsxs)("button",{onClick:()=>((e,t)=>{const n=s[e],a=n.categories.includes(t)?n.categories.filter((e=>e!==t)):[...n.categories,t];I(e,"categories",a)})(j,e),className:"px-3 py-1 rounded-full text-sm font-medium transition-colors ".concat(R.categories.includes(e)?"bg-blue-100 text-blue-800 ring-2 ring-blue-300":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[R.categories.includes(e)&&(0,Qe.jsx)(ns,{className:"w-3 h-3 inline mr-1"}),e]},e)))})]}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Text Content (optional)"}),(0,Qe.jsx)("textarea",{value:R.textContent,onChange:e=>I(j,"textContent",e.target.value),placeholder:"Add text content for this file...",className:"form-textarea w-full",rows:3})]}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bundle Assignment for this file"}),(0,Qe.jsx)("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:l.map((e=>(0,Qe.jsxs)("label",{className:"flex items-center gap-2 p-2 hover:bg-gray-50 rounded cursor-pointer",children:[(0,Qe.jsx)("input",{type:"checkbox",checked:R.assignedBundles.includes(e.id),onChange:()=>((e,t)=>{const n=s[e],a=n.assignedBundles.includes(t)?n.assignedBundles.filter((e=>e!==t)):[...n.assignedBundles,t];I(e,"assignedBundles",a)})(j,e.id),className:"form-checkbox"}),(0,Qe.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Qe.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.name}),(0,Qe.jsxs)("p",{className:"text-xs text-gray-500",children:[e.bundle_type," \u2022 ",e.content_count," items"]})]})]},e.id)))})]})]})]})]})})]}),(0,Qe.jsxs)("div",{className:"flex items-center justify-between p-6 border-t bg-gray-50",children:[(0,Qe.jsx)("div",{className:"text-sm text-gray-600",children:s.length>0&&(0,Qe.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Qe.jsxs)("span",{children:[s.length," files ready"]}),(0,Qe.jsx)("span",{children:"\u2022"}),(0,Qe.jsxs)("span",{children:[s.filter((e=>e.textContent)).length," with text"]}),(0,Qe.jsx)("span",{children:"\u2022"}),(0,Qe.jsxs)("span",{children:[s.reduce(((e,t)=>e+t.assignedBundles.length),0)," bundle assignments"]})]})}),(0,Qe.jsxs)("div",{className:"flex gap-3",children:[(0,Qe.jsx)("button",{onClick:T,className:"btn-secondary",disabled:v,children:"Cancel"}),(0,Qe.jsx)("button",{onClick:async()=>{if(0!==s.length){y(!0);try{let t=0,n=0;for(const a of s)try{const e=new FormData;e.append("files",a.file),e.append("categories",JSON.stringify(a.categories)),e.append("tags",JSON.stringify(a.tags)),e.append("uploaded_by","user");const r=await fetch("/api/central/content/upload",{method:"POST",body:e});if(r.ok){const e=(await r.json()).content[0];a.textContent.trim()&&await fetch("/api/central/text-content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text_content:a.textContent,categories:a.categories,tags:a.tags,created_by:"user"})}).then((async t=>{if(t.ok){const n=await t.json();await fetch("/api/central/content/".concat(e.content_id,"/assign-text"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text_content_id:n.id,assignment_type:"manual",priority:0,assigned_by:"user"})})}}));for(const t of a.assignedBundles){const n=await fetch("/api/central/bundles/".concat(t,"/add-content"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content_id:e.content_id,assignment_order:0})});n.ok||console.error("Failed to add content to bundle ".concat(t,":"),await n.text())}t++}else n++}catch(e){n++}t>0?(qt.success("Successfully uploaded ".concat(t," file(s)").concat(n>0?" (".concat(n," failed)"):"")),r(),T()):qt.error("Failed to upload files")}catch(e){console.error("Upload error:",e),qt.error("Upload failed")}finally{y(!1)}}else qt.error("Please select files to upload")},disabled:0===s.length||v,className:"btn-primary flex items-center gap-2",children:v?(0,Qe.jsxs)(Qe.Fragment,{children:[(0,Qe.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Uploading..."]}):(0,Qe.jsxs)(Qe.Fragment,{children:[(0,Qe.jsx)(Jr,{className:"w-4 h-4"}),"Upload ",s.length," File",1!==s.length?"s":""]})})]})]})]})})},ko=e=>{let{isOpen:t,onClose:n,onSuccess:r,editBundle:s}=e;const[i,l]=(0,a.useState)(""),[o,c]=(0,a.useState)(""),[d,u]=(0,a.useState)("mixed"),[m,p]=(0,a.useState)([]),[x,h]=(0,a.useState)([]),[f,g]=(0,a.useState)(""),[b,v]=(0,a.useState)(""),[y,j]=(0,a.useState)([]),[w,N]=(0,a.useState)([]),[k,S]=(0,a.useState)([]),[C,_]=(0,a.useState)([]),[E,I]=(0,a.useState)(""),[P,D]=(0,a.useState)(""),[A,O]=(0,a.useState)(!1),[T,R]=(0,a.useState)(!1);(0,a.useEffect)((()=>{t&&(s&&(l(s.name),c(s.description||""),u(s.bundle_type),p(s.categories||[]),h(s.tags||[])),F(),L())}),[t,s]);const F=async()=>{try{O(!0);const e=await fetch("/api/central/content");if(e.ok){const t=await e.json();j(t)}}catch(e){console.error("Failed to fetch content:",e)}finally{O(!1)}},L=async()=>{try{const e=await fetch("/api/central/text-content");if(e.ok){const t=await e.json();N(t)}}catch(e){console.error("Failed to fetch texts:",e)}},M=()=>{f&&!m.includes(f)&&(p([...m,f]),g(""))},z=e=>{p(m.filter((t=>t!==e)))},B=()=>{b&&!x.includes(b)&&(h([...x,b]),v(""))},U=y.filter((e=>e.original_name.toLowerCase().includes(E.toLowerCase())||e.categories.some((e=>e.toLowerCase().includes(E.toLowerCase()))))),H=w.filter((e=>e.text_content.toLowerCase().includes(P.toLowerCase())||e.categories.some((e=>e.toLowerCase().includes(P.toLowerCase()))))),q=()=>{l(""),c(""),u("mixed"),p([]),h([]),g(""),v(""),S([]),_([]),I(""),D(""),n()};return t?(0,Qe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Qe.jsxs)("div",{className:"bg-white rounded-lg max-w-6xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[(0,Qe.jsxs)("div",{className:"flex items-center justify-between p-6 border-b",children:[(0,Qe.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 flex items-center gap-2",children:[(0,Qe.jsx)(Ve,{className:"w-6 h-6"}),s?"Edit Bundle":"Create Content Bundle"]}),(0,Qe.jsx)("button",{onClick:q,className:"text-gray-400 hover:text-gray-600",children:(0,Qe.jsx)(ts,{className:"w-6 h-6"})})]}),(0,Qe.jsx)("div",{className:"flex-1 overflow-y-auto p-6",children:(0,Qe.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,Qe.jsx)("div",{className:"space-y-6",children:(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Bundle Details"}),(0,Qe.jsxs)("div",{className:"mb-4",children:[(0,Qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bundle Name *"}),(0,Qe.jsx)("input",{type:"text",value:i,onChange:e=>l(e.target.value),placeholder:"Enter bundle name",className:"form-input w-full"})]}),(0,Qe.jsxs)("div",{className:"mb-4",children:[(0,Qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),(0,Qe.jsx)("textarea",{value:o,onChange:e=>c(e.target.value),placeholder:"Optional description",className:"form-textarea w-full",rows:3})]}),(0,Qe.jsxs)("div",{className:"mb-4",children:[(0,Qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bundle Type"}),(0,Qe.jsxs)("select",{value:d,onChange:e=>u(e.target.value),className:"form-select w-full",children:[(0,Qe.jsx)("option",{value:"mixed",children:"Mixed Content"}),(0,Qe.jsx)("option",{value:"image",children:"Images Only"}),(0,Qe.jsx)("option",{value:"video",children:"Videos Only"}),(0,Qe.jsx)("option",{value:"text",children:"Text Only"})]})]}),(0,Qe.jsxs)("div",{className:"mb-4",children:[(0,Qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categories"}),(0,Qe.jsx)("div",{className:"flex flex-wrap gap-2 mb-2",children:["pfp","bio","post","highlight","story","any"].map((e=>(0,Qe.jsx)("button",{onClick:()=>(e=>{m.includes(e)?z(e):p([...m,e])})(e),className:"px-3 py-1 rounded-full text-sm font-medium ".concat(m.includes(e)?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:e},e)))}),(0,Qe.jsxs)("div",{className:"flex gap-2",children:[(0,Qe.jsx)("input",{type:"text",value:f,onChange:e=>g(e.target.value),placeholder:"Add custom category",className:"form-input flex-1",onKeyPress:e=>"Enter"===e.key&&M()}),(0,Qe.jsx)("button",{onClick:M,className:"btn-secondary",children:(0,Qe.jsx)(Xe,{className:"w-4 h-4"})})]}),m.length>0&&(0,Qe.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:m.map((e=>(0,Qe.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:[e,(0,Qe.jsx)("button",{onClick:()=>z(e),className:"text-blue-600 hover:text-blue-800",children:(0,Qe.jsx)(ts,{className:"w-3 h-3"})})]},e)))})]}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags"}),(0,Qe.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,Qe.jsx)("input",{type:"text",value:b,onChange:e=>v(e.target.value),placeholder:"Add tag",className:"form-input flex-1",onKeyPress:e=>"Enter"===e.key&&B()}),(0,Qe.jsx)("button",{onClick:B,className:"btn-secondary",children:(0,Qe.jsx)(wo,{className:"w-4 h-4"})})]}),x.length>0&&(0,Qe.jsx)("div",{className:"flex flex-wrap gap-2",children:x.map((e=>(0,Qe.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-100 text-green-800 rounded-full text-sm",children:[e,(0,Qe.jsx)("button",{onClick:()=>(e=>{h(x.filter((t=>t!==e)))})(e),className:"text-green-600 hover:text-green-800",children:(0,Qe.jsx)(ts,{className:"w-3 h-3"})})]},e)))})]})]})}),(0,Qe.jsx)("div",{className:"space-y-6",children:(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Add Content to Bundle"}),("mixed"===d||"image"===d||"video"===d)&&(0,Qe.jsxs)("div",{className:"mb-4",children:[(0,Qe.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Media Content (",k.length," selected)"]}),(0,Qe.jsxs)("div",{className:"relative mb-3",children:[(0,Qe.jsx)(Ze,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,Qe.jsx)("input",{type:"text",value:E,onChange:e=>I(e.target.value),placeholder:"Search content...",className:"form-input pl-10"})]}),(0,Qe.jsx)("div",{className:"max-h-64 overflow-y-auto border rounded-lg",children:(0,Qe.jsx)("div",{className:"grid grid-cols-2 gap-2 p-3",children:U.map((e=>(0,Qe.jsxs)("div",{className:"relative border rounded-lg p-2 cursor-pointer transition-all ".concat(k.includes(e.content_id)?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),onClick:()=>{return t=e.content_id,void(k.includes(t)?S(k.filter((e=>e!==t))):S([...k,t]));var t},children:[(0,Qe.jsx)("div",{className:"aspect-square bg-gray-100 rounded mb-2 overflow-hidden",children:(0,Qe.jsx)("img",{src:"http://localhost:3001".concat(e.image_url),alt:e.original_name,className:"w-full h-full object-cover"})}),(0,Qe.jsx)("p",{className:"text-xs text-gray-600 truncate",children:e.original_name}),k.includes(e.content_id)&&(0,Qe.jsx)("div",{className:"absolute top-1 right-1 w-5 h-5 bg-blue-500 text-white rounded-full flex items-center justify-center text-xs",children:"\u2713"})]},e.content_id)))})})]}),("mixed"===d||"text"===d)&&(0,Qe.jsxs)("div",{children:[(0,Qe.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Text Content (",C.length," selected)"]}),(0,Qe.jsxs)("div",{className:"relative mb-3",children:[(0,Qe.jsx)(Ze,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,Qe.jsx)("input",{type:"text",value:P,onChange:e=>D(e.target.value),placeholder:"Search text content...",className:"form-input pl-10"})]}),(0,Qe.jsx)("div",{className:"max-h-64 overflow-y-auto border rounded-lg",children:(0,Qe.jsx)("div",{className:"space-y-2 p-3",children:H.map((e=>(0,Qe.jsxs)("div",{className:"border rounded-lg p-3 cursor-pointer transition-all ".concat(C.includes(e.id)?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),onClick:()=>{return t=e.id,void(C.includes(t)?_(C.filter((e=>e!==t))):_([...C,t]));var t},children:[(0,Qe.jsx)("p",{className:"text-sm text-gray-800 line-clamp-2 mb-1",children:e.text_content}),(0,Qe.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[(0,Qe.jsx)("span",{children:e.template_name||"No template"}),C.includes(e.id)&&(0,Qe.jsx)("span",{className:"text-blue-600 font-medium",children:"\u2713 Selected"})]})]},e.id)))})})]})]})})]})}),(0,Qe.jsxs)("div",{className:"flex items-center justify-between p-6 border-t bg-gray-50",children:[(0,Qe.jsxs)("div",{className:"text-sm text-gray-500",children:[k.length+C.length," items selected for bundle"]}),(0,Qe.jsxs)("div",{className:"flex gap-3",children:[(0,Qe.jsx)("button",{onClick:q,className:"btn-secondary",disabled:T,children:"Cancel"}),(0,Qe.jsx)("button",{onClick:async()=>{if(i.trim()){R(!0);try{const e={name:i,description:o||void 0,bundle_type:d,categories:m,tags:x,created_by:"user"},t=await fetch(s?"/api/central/bundles/".concat(s.id):"/api/central/bundles",{method:s?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to create bundle");const n=(await t.json()).id,a=k.map((e=>fetch("/api/central/bundles/".concat(n,"/add-content"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content_id:e,assignment_order:0})}))),l=C.map((e=>fetch("/api/central/bundles/".concat(n,"/add-content"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text_content_id:e,assignment_order:0})})));await Promise.all([...a,...l]),qt.success('Bundle "'.concat(i,'" ').concat(s?"updated":"created"," successfully")),r(),q()}catch(e){console.error("Error creating bundle:",e),qt.error("Failed to ".concat(s?"update":"create"," bundle"))}finally{R(!1)}}else qt.error("Bundle name is required")},disabled:!i.trim()||T,className:"btn-primary",children:T?"Creating...":s?"Update Bundle":"Create Bundle"})]})]})]})}):null},So=e=>{let{isOpen:t,onClose:n,bundle:r,onUpdate:s}=e;const[i,l]=(0,a.useState)([]),[o,c]=(0,a.useState)(!0),[d,u]=(0,a.useState)(""),[m,p]=(0,a.useState)("all");(0,a.useEffect)((()=>{t&&x()}),[t,r.id]);const x=async()=>{try{c(!0);const e=await fetch("/api/central/bundles/".concat(r.id,"/contents"));if(!e.ok){const t=await e.text();throw console.error("Failed to fetch bundle contents:",e.status,t),new Error("Failed to fetch bundle contents: ".concat(e.status))}{const t=await e.json();console.log("Bundle contents data:",t);const n=[];t.content_items&&t.content_items.length>0&&t.content_items.forEach((e=>{n.push({content_id:e.content_id,filename:e.filename,original_name:e.original_name,content_type:e.content_type,assignment_order:e.assignment_order||0,assigned_at:e.assigned_at,assignment_id:e.assignment_id,image_url:e.image_url||"/uploads/content/".concat(e.filename),file_size:e.file_size,categories:e.categories||[]})})),t.text_items&&t.text_items.length>0&&t.text_items.forEach((e=>{n.push({text_content_id:e.text_content_id,text_content:e.text_content,template_name:e.template_name,assignment_order:e.assignment_order||0,assigned_at:e.assigned_at,assignment_id:e.assignment_id,categories:e.categories||[]})})),n.sort(((e,t)=>(e.assignment_order||0)-(t.assignment_order||0))),l(n),0===n.length&&console.log("No content items found in bundle")}}catch(e){console.error("Error fetching bundle contents:",e),l([])}finally{c(!1)}},h=i.filter((e=>{const t=!d||e.original_name&&e.original_name.toLowerCase().includes(d.toLowerCase())||e.text_content&&e.text_content.toLowerCase().includes(d.toLowerCase())||e.template_name&&e.template_name.toLowerCase().includes(d.toLowerCase()),n="all"===m||"content"===m&&e.content_id||"text"===m&&e.text_content_id;return t&&n}));return t?(0,Qe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Qe.jsxs)("div",{className:"bg-white rounded-lg max-w-6xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[(0,Qe.jsxs)("div",{className:"flex items-center justify-between p-6 border-b bg-gradient-to-r from-purple-50 to-blue-50",children:[(0,Qe.jsxs)("div",{children:[(0,Qe.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[(0,Qe.jsx)(Ve,{className:"w-7 h-7 text-purple-600"}),r.name," Contents"]}),(0,Qe.jsxs)("p",{className:"text-gray-600 mt-1",children:[r.content_count," content items \u2022 ",r.text_count," text items"]})]}),(0,Qe.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 p-2 hover:bg-gray-100 rounded-full transition-colors",children:(0,Qe.jsx)(ts,{className:"w-6 h-6"})})]}),(0,Qe.jsx)("div",{className:"p-6 border-b bg-gray-50",children:(0,Qe.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Qe.jsxs)("div",{className:"flex-1 relative",children:[(0,Qe.jsx)(Ze,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,Qe.jsx)("input",{type:"text",placeholder:"Search contents...",value:d,onChange:e=>u(e.target.value),className:"form-input pl-10"})]}),(0,Qe.jsxs)("select",{value:m,onChange:e=>p(e.target.value),className:"form-select",children:[(0,Qe.jsx)("option",{value:"all",children:"All Types"}),(0,Qe.jsx)("option",{value:"content",children:"Media Content"}),(0,Qe.jsx)("option",{value:"text",children:"Text Content"})]})]})}),(0,Qe.jsx)("div",{className:"flex-1 overflow-y-auto p-6",children:o?(0,Qe.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,Qe.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):0===h.length?(0,Qe.jsxs)("div",{className:"text-center py-12",children:[(0,Qe.jsx)(Ve,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),(0,Qe.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Content Found"}),(0,Qe.jsx)("p",{className:"text-gray-500",children:d||"all"!==m?"No content matches your search criteria":"This bundle is empty or content failed to load"})]}):(0,Qe.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:h.map(((e,t)=>(0,Qe.jsxs)("div",{className:"bg-white border rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow",children:[e.content_id&&(0,Qe.jsxs)(Qe.Fragment,{children:[(0,Qe.jsxs)("div",{className:"aspect-w-16 aspect-h-9 bg-gray-100 relative",children:[(0,Qe.jsx)("img",{src:e.image_url,alt:e.original_name,className:"w-full h-48 object-cover",onError:t=>{console.error("Image load error for:",e.image_url),t.target.src="/placeholder-image.png"}}),(0,Qe.jsx)("div",{className:"absolute top-2 right-2",children:(0,Qe.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("video"===e.content_type?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"),children:e.content_type})})]}),(0,Qe.jsxs)("div",{className:"p-4",children:[(0,Qe.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,Qe.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Qe.jsx)("h4",{className:"text-sm font-medium text-gray-900 truncate",title:e.original_name,children:e.original_name}),(0,Qe.jsx)("p",{className:"text-xs text-gray-500 truncate",title:e.filename,children:e.filename})]}),e.assignment_order>0&&(0,Qe.jsxs)("span",{className:"ml-2 inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800 flex-shrink-0",children:["#",e.assignment_order]})]}),e.categories&&e.categories.length>0&&(0,Qe.jsxs)("div",{className:"flex flex-wrap gap-1 mb-2",children:[e.categories.slice(0,2).map(((e,t)=>(0,Qe.jsx)("span",{className:"bg-gray-100 text-gray-700 px-2 py-1 rounded-full text-xs",children:e},t))),e.categories.length>2&&(0,Qe.jsxs)("span",{className:"text-xs text-gray-500",children:["+",e.categories.length-2]})]}),e.file_size&&(0,Qe.jsxs)("div",{className:"text-xs text-gray-500",children:[(e.file_size/1048576).toFixed(1)," MB"]})]})]}),e.text_content_id&&(0,Qe.jsxs)(Qe.Fragment,{children:[(0,Qe.jsx)("div",{className:"p-4 bg-gradient-to-br from-gray-50 to-blue-50 border-b",children:(0,Qe.jsx)("div",{className:"flex items-center justify-center h-32",children:(0,Qe.jsx)(jo,{className:"w-12 h-12 text-gray-400"})})}),(0,Qe.jsxs)("div",{className:"p-4",children:[(0,Qe.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,Qe.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Qe.jsx)("h4",{className:"text-sm font-medium text-gray-900 truncate",children:e.template_name||"Text Content"}),e.text_content&&(0,Qe.jsx)("p",{className:"text-xs text-gray-600 mt-1 line-clamp-3",title:e.text_content,children:e.text_content.length>100?"".concat(e.text_content.substring(0,100),"..."):e.text_content})]}),e.assignment_order>0&&(0,Qe.jsxs)("span",{className:"ml-2 inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800 flex-shrink-0",children:["#",e.assignment_order]})]}),e.categories&&e.categories.length>0&&(0,Qe.jsxs)("div",{className:"flex flex-wrap gap-1 mb-2",children:[e.categories.slice(0,2).map(((e,t)=>(0,Qe.jsx)("span",{className:"bg-gray-100 text-gray-700 px-2 py-1 rounded-full text-xs",children:e},t))),e.categories.length>2&&(0,Qe.jsxs)("span",{className:"text-xs text-gray-500",children:["+",e.categories.length-2]})]}),e.text_content&&(0,Qe.jsxs)("div",{className:"text-xs text-gray-500",children:[e.text_content.length," characters"]})]})]}),e.assigned_at&&(0,Qe.jsx)("div",{className:"px-4 pb-4",children:(0,Qe.jsxs)("div",{className:"text-xs text-gray-500 border-t pt-2",children:["Added: ",new Date(e.assigned_at).toLocaleDateString()]})})]},"".concat(e.content_id||e.text_content_id,"-").concat(t))))})}),(0,Qe.jsxs)("div",{className:"flex items-center justify-between p-6 border-t bg-gray-50",children:[(0,Qe.jsxs)("div",{className:"text-sm text-gray-600",children:["Showing ",h.length," of ",i.length," items"]}),(0,Qe.jsx)("div",{className:"flex gap-3",children:(0,Qe.jsx)("button",{onClick:n,className:"btn-secondary",children:"Close"})})]})]})}):null},Co=e=>{let{modelId:t,modelName:n}=e;const[r,s]=(0,a.useState)("model_content"),[i,l]=(0,a.useState)([]),[o,c]=(0,a.useState)([]),[d,u]=(0,a.useState)([]),[m,p]=(0,a.useState)(!0),[x,h]=(0,a.useState)(!1),[f,g]=(0,a.useState)(null),[b,v]=(0,a.useState)(""),[y,j]=(0,a.useState)(""),[w,N]=(0,a.useState)(""),[k,S]=(0,a.useState)(!1),[C,_]=(0,a.useState)(!1),[E,I]=(0,a.useState)(!1),[P,D]=(0,a.useState)(null);(0,a.useEffect)((()=>{A(),O(),T()}),[t]);const A=async()=>{try{p(!0),g(null);const n=await fetch("/api/central/models/".concat(t,"/bundles"));if(!n.ok)throw new Error("Failed to fetch model content: ".concat(n.statusText));const a=await n.json();if(a&&0!==a.length){var e;const t=null===(e=a[0])||void 0===e?void 0:e.id;t&&await R(t)}else{const e=await fetch("/api/models/".concat(t,"/content"));if(e.ok){const t=await e.json();l(t||[])}}}catch(n){console.error("Failed to fetch model content:",n),g(n.message||"Failed to fetch model content"),l([]),qt.error("Failed to load model content")}finally{p(!1)}},O=async()=>{try{h(!0);const e=await fetch("/api/central/bundles");if(e.ok){const t=await e.json();c(t||[])}}catch(f){console.error("Failed to load bundles:",f),qt.error("Failed to load content bundles")}finally{h(!1)}},T=async()=>{try{const e=await fetch("/api/central/models/".concat(t,"/bundles"));if(e.ok){const t=await e.json();u(t||[])}}catch(f){console.error("Failed to load assigned bundles:",f)}},R=async e=>{try{var t;p(!0),g(null);const n=await fetch("/api/central/bundles/".concat(e,"/contents"));if(!n.ok)throw new Error("Failed to fetch bundle content: ".concat(n.statusText));const a=(null===(t=(await n.json()).content_items)||void 0===t?void 0:t.map((e=>{var t,n,a,r,s,i,l,o,c,d;return{content_id:e.content_id,filename:e.filename,original_name:e.original_name,content_type:e.content_type,file_size:e.file_size,categories:e.categories||[],content_status:e.content_status,content_created_at:e.content_created_at,image_url:"/uploads/content/".concat(e.filename),text_content:null===(t=e.assigned_texts)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.text_content,text_content_id:null===(a=e.assigned_texts)||void 0===a||null===(r=a[0])||void 0===r?void 0:r.text_id,template_name:null===(s=e.assigned_texts)||void 0===s||null===(i=s[0])||void 0===i?void 0:i.template_name,assignment_type:null===(l=e.assigned_texts)||void 0===l||null===(o=l[0])||void 0===o?void 0:o.assignment_type,assigned_at:null===(c=e.assigned_texts)||void 0===c||null===(d=c[0])||void 0===d?void 0:d.assigned_at}})))||[];l(a)}catch(n){console.error("Failed to fetch bundle content:",n),g(n.message||"Failed to fetch bundle content"),l([]),qt.error("Failed to load bundle content")}finally{p(!1)}},F=async(e,n)=>{try{const a=await fetch("/api/central/models/".concat(t,"/bundles/").concat(e,"/unassign"),{method:"DELETE",headers:{"Content-Type":"application/json"}});if(a.ok)qt.success('Bundle "'.concat(n,'" unassigned from model')),T(),A(),O();else{const e=await a.json();qt.error("Failed to unassign bundle: ".concat(e.error))}}catch(f){console.error("Error unassigning bundle:",f),qt.error("Failed to unassign bundle from model")}},L=e=>{D(e),I(!0)},M=()=>{A(),O(),T()},z=i.filter((e=>{var t;const n=!b||e.original_name.toLowerCase().includes(b.toLowerCase())||(null===(t=e.template_name)||void 0===t?void 0:t.toLowerCase().includes(b.toLowerCase())),a=!y||e.categories.includes(y),r=!w||"text"===w&&e.text_content||"image"===w&&"image"===e.content_type||"video"===w&&"video"===e.content_type;return n&&a&&r})),B=o.filter((e=>{var t;return!b||e.name.toLowerCase().includes(b.toLowerCase())||(null===(t=e.description)||void 0===t?void 0:t.toLowerCase().includes(b.toLowerCase()))}));return(0,Qe.jsxs)("div",{className:"p-6 h-full flex flex-col",children:[(0,Qe.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Qe.jsxs)("div",{children:[(0,Qe.jsxs)("h3",{className:"text-lg font-medium text-gray-900",children:["Content Management: ",n]}),(0,Qe.jsx)("p",{className:"text-sm text-gray-500",children:"Manage model content and assign content bundles"})]}),(0,Qe.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Qe.jsxs)("button",{onClick:()=>S(!0),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md flex items-center gap-2 transition-colors",children:[(0,Qe.jsx)(Jr,{className:"h-4 w-4"}),"Upload Content"]}),(0,Qe.jsxs)("button",{onClick:()=>_(!0),className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-md flex items-center gap-2 transition-colors",children:[(0,Qe.jsx)(Ve,{className:"h-4 w-4"}),"Create Bundle"]}),(0,Qe.jsxs)("button",{onClick:M,className:"btn-secondary flex items-center gap-2",disabled:m||x,children:[(0,Qe.jsx)(Xl,{className:"h-4 w-4 ".concat(m||x?"animate-spin":"")}),"Refresh"]})]})]}),(0,Qe.jsxs)("div",{className:"flex space-x-1 mb-6 bg-gray-100 p-1 rounded-lg",children:[(0,Qe.jsxs)("button",{onClick:()=>s("model_content"),className:"flex-1 flex items-center justify-center px-4 py-2 text-sm font-medium rounded-md transition-colors ".concat("model_content"===r?"bg-white text-blue-700 shadow-sm":"text-gray-500 hover:text-gray-700"),children:[(0,Qe.jsx)(Xr,{className:"w-4 h-4 mr-2"}),"Model Content (",z.length,")"]}),(0,Qe.jsxs)("button",{onClick:()=>s("available_bundles"),className:"flex-1 flex items-center justify-center px-4 py-2 text-sm font-medium rounded-md transition-colors ".concat("available_bundles"===r?"bg-white text-purple-700 shadow-sm":"text-gray-500 hover:text-gray-700"),children:[(0,Qe.jsx)(Ve,{className:"w-4 h-4 mr-2"}),"Available Bundles (",B.length,")"]}),(0,Qe.jsxs)("button",{onClick:()=>s("assigned_bundles"),className:"flex-1 flex items-center justify-center px-4 py-2 text-sm font-medium rounded-md transition-colors ".concat("assigned_bundles"===r?"bg-white text-green-700 shadow-sm":"text-gray-500 hover:text-gray-700"),children:[(0,Qe.jsx)(yo,{className:"w-4 h-4 mr-2"}),"Assigned Bundles (",d.length,")"]})]}),(0,Qe.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,Qe.jsxs)("div",{className:"flex-1 relative",children:[(0,Qe.jsx)(Ze,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,Qe.jsx)("input",{type:"text",placeholder:"Search content...",value:b,onChange:e=>v(e.target.value),className:"form-input pl-10"})]}),"model_content"===r&&(0,Qe.jsxs)(Qe.Fragment,{children:[(0,Qe.jsxs)("select",{value:y,onChange:e=>j(e.target.value),className:"form-select",children:[(0,Qe.jsx)("option",{value:"",children:"All Categories"}),(0,Qe.jsx)("option",{value:"bio",children:"Bio"}),(0,Qe.jsx)("option",{value:"post",children:"Post"}),(0,Qe.jsx)("option",{value:"story",children:"Story"}),(0,Qe.jsx)("option",{value:"highlight",children:"Highlight"})]}),(0,Qe.jsxs)("select",{value:w,onChange:e=>N(e.target.value),className:"form-select",children:[(0,Qe.jsx)("option",{value:"",children:"All Types"}),(0,Qe.jsx)("option",{value:"image",children:"Images"}),(0,Qe.jsx)("option",{value:"video",children:"Videos"}),(0,Qe.jsx)("option",{value:"text",children:"Text"})]})]})]}),(0,Qe.jsxs)("div",{className:"flex-1 overflow-hidden",children:["model_content"===r&&(0,Qe.jsx)("div",{className:"h-full",children:m?(0,Qe.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,Qe.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):f?(0,Qe.jsxs)("div",{className:"text-center py-12",children:[(0,Qe.jsx)(ks,{className:"w-16 h-16 mx-auto mb-4 text-red-400"}),(0,Qe.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error Loading Content"}),(0,Qe.jsx)("p",{className:"text-gray-500 mb-6",children:f}),(0,Qe.jsx)("button",{onClick:M,className:"btn-primary",children:"Try Again"})]}):0===z.length?(0,Qe.jsxs)("div",{className:"text-center py-12",children:[(0,Qe.jsx)(Xr,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),(0,Qe.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Content Found"}),(0,Qe.jsx)("p",{className:"text-gray-500 mb-6",children:b||y||w?"No content matches your search criteria":"Upload content or assign a content bundle to get started"}),(0,Qe.jsxs)("div",{className:"flex justify-center gap-4",children:[(0,Qe.jsx)("button",{onClick:()=>S(!0),className:"btn-primary",children:"Upload Content"}),(0,Qe.jsx)("button",{onClick:()=>s("available_bundles"),className:"btn-secondary",children:"Browse Bundles"})]})]}):(0,Qe.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 overflow-y-auto",children:z.map((e=>(0,Qe.jsxs)("div",{className:"bg-white border rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow",children:[e.content_type&&(0,Qe.jsx)("div",{className:"aspect-w-16 aspect-h-9 bg-gray-100",children:(0,Qe.jsx)("img",{src:e.image_url,alt:e.original_name,className:"w-full h-48 object-cover",onError:e=>{e.target.src="/placeholder-image.png"}})}),e.text_content&&!e.content_type&&(0,Qe.jsx)("div",{className:"h-48 bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center p-4",children:(0,Qe.jsx)(jo,{className:"w-16 h-16 text-gray-400"})}),(0,Qe.jsxs)("div",{className:"p-4",children:[(0,Qe.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2 truncate",children:e.original_name||e.template_name||"Untitled"}),e.text_content&&(0,Qe.jsx)("p",{className:"text-xs text-gray-600 mb-2 line-clamp-2",children:e.text_content.length>100?"".concat(e.text_content.substring(0,100),"..."):e.text_content}),(0,Qe.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[(0,Qe.jsx)("span",{className:"capitalize",children:e.content_type||"Text"}),e.categories.length>0&&(0,Qe.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded-full",children:e.categories[0]})]})]})]},"".concat(e.content_id,"-").concat(e.text_content_id||"no-text"))))})}),"available_bundles"===r&&(0,Qe.jsx)("div",{className:"h-full",children:x?(0,Qe.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,Qe.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):0===B.length?(0,Qe.jsxs)("div",{className:"text-center py-12",children:[(0,Qe.jsx)(Ve,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),(0,Qe.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Bundles Available"}),(0,Qe.jsx)("p",{className:"text-gray-500 mb-6",children:"Create content bundles to organize and share content across models"}),(0,Qe.jsx)("button",{onClick:()=>_(!0),className:"btn-primary",children:"Create First Bundle"})]}):(0,Qe.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 overflow-y-auto",children:B.map((e=>{const n=d.some((t=>t.id===e.id));return(0,Qe.jsxs)("div",{className:"bg-white border rounded-lg p-6 shadow-sm hover:shadow-md transition-shadow",children:[(0,Qe.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Qe.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Qe.jsx)("h4",{className:"text-lg font-medium text-gray-900 truncate",children:e.name}),e.description&&(0,Qe.jsx)("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:e.description})]}),n&&(0,Qe.jsx)("span",{className:"ml-2 inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 flex-shrink-0",children:"Assigned"})]}),(0,Qe.jsxs)("div",{className:"flex items-center gap-4 mb-4 text-sm text-gray-600",children:[(0,Qe.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Qe.jsx)(Xr,{className:"h-4 w-4"}),(0,Qe.jsxs)("span",{children:[e.content_count," content"]})]}),(0,Qe.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Qe.jsx)(jo,{className:"h-4 w-4"}),(0,Qe.jsxs)("span",{children:[e.text_count," texts"]})]})]}),e.categories.length>0&&(0,Qe.jsxs)("div",{className:"flex flex-wrap gap-1 mb-4",children:[e.categories.slice(0,3).map(((e,t)=>(0,Qe.jsx)("span",{className:"bg-purple-100 text-purple-800 px-2 py-1 rounded-full text-xs",children:e},t))),e.categories.length>3&&(0,Qe.jsxs)("span",{className:"text-xs text-gray-500",children:["+",e.categories.length-3]})]}),(0,Qe.jsxs)("div",{className:"flex gap-2",children:[(0,Qe.jsx)("button",{onClick:()=>L(e),className:"btn-secondary text-sm flex-1",children:"View Contents"}),n?(0,Qe.jsxs)("button",{onClick:()=>F(e.id,e.name),className:"flex items-center gap-1 px-3 py-2 text-sm bg-red-50 hover:bg-red-100 text-red-700 rounded transition-colors",children:[(0,Qe.jsx)(ts,{className:"h-4 w-4"}),"Unassign"]}):(0,Qe.jsxs)("button",{onClick:()=>(async(e,n)=>{try{const a=await fetch("/api/central/models/".concat(t,"/bundles/").concat(e,"/assign"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model_id:t,bundle_id:e,assigned_by:"frontend_user"})});if(a.ok)qt.success('Bundle "'.concat(n,'" assigned to model')),T(),A(),O();else{const e=await a.json();qt.error("Failed to assign bundle: ".concat(e.error))}}catch(f){console.error("Error assigning bundle:",f),qt.error("Failed to assign bundle to model")}})(e.id,e.name),className:"flex items-center gap-1 px-3 py-2 text-sm bg-green-50 hover:bg-green-100 text-green-700 rounded transition-colors",children:[(0,Qe.jsx)(Xe,{className:"h-4 w-4"}),"Assign"]})]})]},e.id)}))})}),"assigned_bundles"===r&&(0,Qe.jsx)("div",{className:"h-full",children:x?(0,Qe.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,Qe.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"})}):0===d.length?(0,Qe.jsxs)("div",{className:"text-center py-12",children:[(0,Qe.jsx)(yo,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),(0,Qe.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Bundles Assigned"}),(0,Qe.jsx)("p",{className:"text-gray-500 mb-6",children:"Assign content bundles to make them available for this model's warmup phases"}),(0,Qe.jsx)("button",{onClick:()=>s("available_bundles"),className:"btn-primary",children:"Browse Available Bundles"})]}):(0,Qe.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 overflow-y-auto",children:d.map((e=>(0,Qe.jsxs)("div",{className:"bg-white border border-green-200 rounded-lg p-6 shadow-sm hover:shadow-md transition-shadow",children:[(0,Qe.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Qe.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Qe.jsx)("h4",{className:"text-lg font-medium text-gray-900 truncate",children:e.name}),e.description&&(0,Qe.jsx)("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:e.description})]}),(0,Qe.jsx)("span",{className:"ml-2 inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 flex-shrink-0",children:"Active"})]}),(0,Qe.jsxs)("div",{className:"flex items-center gap-4 mb-4 text-sm text-gray-600",children:[(0,Qe.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Qe.jsx)(Xr,{className:"h-4 w-4"}),(0,Qe.jsxs)("span",{children:[e.content_count," content"]})]}),(0,Qe.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Qe.jsx)(jo,{className:"h-4 w-4"}),(0,Qe.jsxs)("span",{children:[e.text_count," texts"]})]})]}),e.categories.length>0&&(0,Qe.jsxs)("div",{className:"flex flex-wrap gap-1 mb-4",children:[e.categories.slice(0,3).map(((e,t)=>(0,Qe.jsx)("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs",children:e},t))),e.categories.length>3&&(0,Qe.jsxs)("span",{className:"text-xs text-gray-500",children:["+",e.categories.length-3]})]}),(0,Qe.jsxs)("div",{className:"flex gap-2",children:[(0,Qe.jsx)("button",{onClick:()=>L(e),className:"btn-secondary text-sm flex-1",children:"View Contents"}),(0,Qe.jsxs)("button",{onClick:()=>F(e.id,e.name),className:"flex items-center gap-1 px-3 py-2 text-sm bg-red-50 hover:bg-red-100 text-red-700 rounded transition-colors",children:[(0,Qe.jsx)(ts,{className:"h-4 w-4"}),"Remove"]})]})]},e.id)))})})]}),(0,Qe.jsx)(No,{isOpen:k,onClose:()=>S(!1),onSuccess:()=>{S(!1),M()}}),(0,Qe.jsx)(ko,{isOpen:C,onClose:()=>_(!1),onSuccess:()=>{_(!1),M()}}),P&&(0,Qe.jsx)(So,{isOpen:E,onClose:()=>{I(!1),D(null)},bundle:P,onUpdate:()=>{M()}})]})},_o=()=>{const{modelId:e}=ne(),t=te(),[n]=Ae(),[r,s]=(0,a.useState)(null),[i,l]=(0,a.useState)(!0),[o,c]=(0,a.useState)(null),[d,u]=(0,a.useState)("overview");(0,a.useEffect)((()=>{if(!e)return c("Invalid model ID"),void l(!1);(async()=>{try{l(!0),c(null);const t=await Wr.getModel(parseInt(e));s(t)}catch(t){console.error("Failed to load model:",t),c(t.message||"Failed to load model"),qt.error("Failed to load model details")}finally{l(!1)}})()}),[e]),(0,a.useEffect)((()=>{const e=n.get("tab");e&&["overview","available","warmup","proxy","content"].includes(e)?u(e):u("overview")}),[n]);const m=()=>{t("/models")};return i?(0,Qe.jsx)("div",{className:"p-8",children:(0,Qe.jsx)(os,{size:"lg",text:"Loading model details...",className:"min-h-96"})}):o||!r?(0,Qe.jsx)("div",{className:"p-8",children:(0,Qe.jsxs)("div",{className:"text-center py-12",children:[(0,Qe.jsx)("div",{className:"text-red-400 text-6xl mb-4",children:"\u26a0\ufe0f"}),(0,Qe.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Model Not Found"}),(0,Qe.jsx)("p",{className:"text-gray-500 mb-6",children:o||"The requested model could not be found."}),(0,Qe.jsxs)("button",{onClick:m,className:"btn-primary flex items-center gap-2 mx-auto",children:[(0,Qe.jsx)(Os,{className:"h-4 w-4"}),"Back to Models"]})]})}):(0,Qe.jsxs)("div",{className:"p-8",children:[(0,Qe.jsx)("div",{className:"mb-6",children:(0,Qe.jsxs)("nav",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[(0,Qe.jsx)(Ie,{to:"/models",className:"hover:text-primary-600 transition-colors",children:"Models"}),(0,Qe.jsx)("span",{children:"/"}),(0,Qe.jsx)("span",{className:"text-gray-900 font-medium",children:r.name}),(0,Qe.jsx)("span",{children:"/"}),(0,Qe.jsx)("span",{className:"text-gray-900 font-medium",children:"Accounts"})]})}),(0,Qe.jsxs)("div",{className:"mb-8",children:[(0,Qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qe.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Qe.jsx)("button",{onClick:m,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-md transition-colors",title:"Back to Models",children:(0,Qe.jsx)(Os,{className:"h-5 w-5"})}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsxs)("h1",{className:"text-2xl font-bold text-gray-900",children:[r.name," - Account Management"]}),(0,Qe.jsxs)("p",{className:"text-gray-600 mt-1",children:["Manage accounts for this model \u2022 Status:",(0,Qe.jsx)("span",{className:"ml-1 px-2 py-1 rounded-full text-xs font-medium ".concat("active"===r.status?"bg-green-100 text-green-800":"paused"===r.status?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:r.status})]})]})]}),(0,Qe.jsx)("div",{className:"flex items-center gap-3",children:(0,Qe.jsxs)(Ie,{to:"/models/".concat(r.id),className:"btn-secondary flex items-center gap-2",children:[(0,Qe.jsx)(We,{className:"h-4 w-4"}),"Model Settings"]})})]}),r.description&&(0,Qe.jsx)("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:(0,Qe.jsx)("p",{className:"text-sm text-gray-700",children:r.description})})]}),(0,Qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,Qe.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,Qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Accounts"}),(0,Qe.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:r.account_count||0})]}),(0,Qe.jsx)(Ge,{className:"h-8 w-8 text-blue-600"})]})}),(0,Qe.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,Qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Active Accounts"}),(0,Qe.jsx)("p",{className:"text-2xl font-bold text-green-600",children:r.active_accounts||0})]}),(0,Qe.jsx)(Qr,{className:"h-8 w-8 text-green-600"})]})}),(0,Qe.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,Qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Daily Follow Limit"}),(0,Qe.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:r.daily_follow_limit})]}),(0,Qe.jsx)(We,{className:"h-8 w-8 text-purple-600"})]})}),(0,Qe.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,Qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Unfollow Ratio"}),(0,Qe.jsxs)("p",{className:"text-2xl font-bold text-orange-600",children:[r.unfollow_ratio,"%"]})]}),(0,Qe.jsx)(Qr,{className:"h-8 w-8 text-orange-600"})]})})]}),(0,Qe.jsxs)("div",{className:"bg-white rounded-lg shadow flex flex-col h-[800px]",children:[(0,Qe.jsx)(Ms,{modelId:r.id,activeTab:d,onTabChange:u}),(0,Qe.jsxs)("div",{className:"flex-1 overflow-hidden",children:["overview"===d&&(0,Qe.jsx)(_i,{modelId:r.id}),"available"===d&&(0,Qe.jsx)(Ql,{modelId:r.id}),"warmup"===d&&(0,Qe.jsx)(po,{modelId:r.id}),"proxy"===d&&(0,Qe.jsx)(vo,{modelId:r.id}),"content"===d&&(0,Qe.jsx)(Co,{modelId:r.id,modelName:r.name})]})]})]})},Eo=He("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),Io=He("Users2",[["path",{d:"M14 19a6 6 0 0 0-12 0",key:"vej9p1"}],["circle",{cx:"8",cy:"9",r:"4",key:"143rtg"}],["path",{d:"M22 19a6 6 0 0 0-6-6 4 4 0 1 0 0-8",key:"hqbn22"}]]),Po=He("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Do=e=>{var t;let{isOpen:n,onClose:r,onComplete:s,initialIphoneUrl:i,iphoneId:l}=e;const[o,c]=(0,a.useState)(5),[d,u]=(0,a.useState)(1),[m,p]=(0,a.useState)(i||""),[x,h]=(0,a.useState)(!1),[f,g]=(0,a.useState)(0),[b,v]=(0,a.useState)(!1),[y,j]=(0,a.useState)(0),[w,N]=(0,a.useState)(""),[k,S]=(0,a.useState)([]),[C,_]=(0,a.useState)(null),[E,I]=(0,a.useState)("unknown"),[P,D]=(0,a.useState)(!1),A=(0,a.useRef)(null);(0,a.useEffect)((()=>{var e;null===(e=A.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),[k]),(0,a.useEffect)((()=>{i&&i!==m&&p(i)}),[i]);const O=()=>{if(b){if(!window.confirm("Container creation is in progress. Are you sure you want to close? This will stop the process."))return;v(!1)}j(0),N(""),S([]),_(null),I("unknown"),p(i||""),r()},T=async()=>{if(f<=0)return void qt.error("Please enter a valid total number of containers.");if(!l)return void qt.error("Cannot sync without a valid iPhone ID.");if(window.confirm("Are you sure you want to sync the database for this iPhone? This will remove all existing 'available' containers and create records up to container #".concat(f,". Assigned containers will NOT be affected."))){D(!0),qt.loading("Syncing containers with database...");try{const e=await fetch("/api/iphones/".concat(l,"/sync-containers"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({totalContainerCount:f})}),t=await e.json();qt.dismiss(),t.success?(qt.success(t.message),s&&s(t),r()):qt.error(t.message||"Failed to sync containers.")}catch(e){qt.dismiss();const t=e instanceof Error?e.message:"Unknown error occurred";qt.error("Failed to sync containers: ".concat(t))}finally{D(!1)}}},R=e=>{switch(console.log("Progress update:",e),S((t=>[...t,Le(Le({},e),{},{timestamp:e.timestamp||(new Date).toISOString()})])),e.type){case"start":N("Starting container creation..."),I("testing");break;case"test":"connected"===e.status?(I("connected"),N("iPhone connected successfully")):"connection_failed"===e.status&&(I("failed"),N("iPhone connection failed"));break;case"container_start":N("Creating container ".concat(e.current_index,"/").concat(e.total_containers," (").concat(e.container_number,")")),j(e.progress_percent||0);break;case"container_complete":N("Container ".concat(e.container_number," completed successfully")),j(e.progress_percent||0),qt.success("Container ".concat(e.container_number," created!"));break;case"container_failed":N("Container ".concat(e.container_number," failed")),j(e.progress_percent||0),qt.error("Container ".concat(e.container_number," failed: ").concat(e.error));break;case"complete":case"final_results":N("Container creation completed"),j(100),v(!1),_(e.results),e.results&&(e.results.successful===e.results.total?qt.success("All ".concat(e.results.total," containers created successfully!")):e.results.successful>0&&qt.success("".concat(e.results.successful,"/").concat(e.results.total," containers created successfully"))),s&&e.results&&s(e.results);break;case"error":N("Error: ".concat(e.message)),v(!1),I("failed"),qt.error(e.message)}};return(0,Qe.jsx)(us,{isOpen:n,onClose:O,size:"xl",children:(0,Qe.jsxs)("div",{className:"p-6",children:[(0,Qe.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Qe.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Qe.jsx)("div",{className:"bg-purple-100 p-3 rounded-full",children:(0,Qe.jsx)(Ke,{className:"w-6 h-6 text-purple-600"})}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:x?"Sync Existing Containers":"Create New iPhone Containers"}),(0,Qe.jsx)("p",{className:"text-sm text-gray-600",children:x?"Align database with on-device containers":"Automated batch creation via XXTouch"})]})]}),(0,Qe.jsx)("button",{onClick:O,className:"p-1 rounded-full hover:bg-gray-200",children:(0,Qe.jsx)(ts,{className:"w-5 h-5 text-gray-500"})})]}),(0,Qe.jsxs)("div",{className:"mt-6",children:[(0,Qe.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,Qe.jsx)("input",{type:"checkbox",id:"manualSyncCheckbox",checked:x,onChange:e=>h(e.target.checked),className:"h-4 w-4 rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),(0,Qe.jsx)("label",{htmlFor:"manualSyncCheckbox",className:"text-sm font-medium text-gray-700",children:"Manually sync existing containers"})]}),(0,Qe.jsx)("div",{className:"bg-gray-50 p-4 rounded-lg border",children:x?(0,Qe.jsxs)("div",{className:"space-y-4",children:[(0,Qe.jsx)("p",{className:"text-sm text-gray-600",children:"Use this to align the app's database with containers that already exist on the iPhone. This will create entries for all containers up to the number you specify, marking them as 'available'."}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total Number of Containers on iPhone *"}),(0,Qe.jsx)("input",{type:"number",value:f,onChange:e=>g(Number(e.target.value)),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",disabled:P,placeholder:"e.g., 150"})]}),(0,Qe.jsxs)("button",{onClick:T,disabled:P,className:"w-full flex items-center justify-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:[(0,Qe.jsx)(go,{className:"w-5 h-5"}),P?"Syncing...":"Sync with Database"]})]}):(0,Qe.jsxs)("div",{className:"space-y-4",children:[(0,Qe.jsx)("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded-r-lg",children:(0,Qe.jsxs)("div",{className:"flex",children:[(0,Qe.jsx)(ks,{className:"h-5 w-5 text-amber-400 mr-3 mt-0.5"}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("h3",{className:"text-sm font-medium text-amber-800 mb-2",children:"Important Setup Instructions"}),(0,Qe.jsxs)("div",{className:"text-sm text-amber-700 space-y-1",children:[(0,Qe.jsxs)("p",{children:["\u2022 ",(0,Qe.jsx)("strong",{children:"iPhone must be on the home screen"})," before starting"]}),(0,Qe.jsxs)("p",{children:["\u2022 ",(0,Qe.jsx)("strong",{children:"Do NOT touch the iPhone"})," during the creation process"]}),(0,Qe.jsx)("p",{children:"\u2022 Ensure stable WiFi connection and XXTouch Elite is running"}),(0,Qe.jsx)("p",{children:"\u2022 Process takes approximately 10-15 seconds per container"})]})]})]})}),(0,Qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Number of Containers *"}),(0,Qe.jsx)("input",{type:"number",value:o,onChange:e=>c(Number(e.target.value)),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",disabled:b,placeholder:"e.g., 10",max:"500"}),(0,Qe.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Maximum: 500 containers"})]}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Starting Number *"}),(0,Qe.jsx)("input",{type:"number",value:d,onChange:e=>u(Number(e.target.value)),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",disabled:b,placeholder:"e.g., 1"}),(0,Qe.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Containers will be numbered sequentially"})]})]}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"iPhone URL (Optional)"}),(0,Qe.jsx)("input",{type:"text",value:m,onChange:e=>p(e.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",disabled:b,placeholder:"http://192.168.178.65:46952 (default)"}),(0,Qe.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Leave empty to use default iPhone IP"})]})]})})]}),!x&&(0,Qe.jsxs)("div",{className:"mt-6 space-y-4",children:[(0,Qe.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-md border",children:[(0,Qe.jsxs)("div",{className:"flex items-center gap-2",children:[(()=>{switch(E){case"connected":return(0,Qe.jsx)(Ol,{className:"w-5 h-5 text-green-600"});case"failed":return(0,Qe.jsx)(Rl,{className:"w-5 h-5 text-red-600"});case"testing":return(0,Qe.jsx)(zs,{className:"w-5 h-5 text-blue-600 animate-spin"});default:return(0,Qe.jsx)(Fs,{className:"w-5 h-5 text-gray-400"})}})(),(0,Qe.jsx)("span",{className:"text-sm font-medium text-gray-900",children:(()=>{switch(E){case"connected":return"iPhone Connected";case"failed":return"Connection Failed";case"testing":return"Testing Connection...";default:return"Not Connected"}})()})]}),(0,Qe.jsx)("div",{className:"text-sm text-gray-600",children:b?"Process Active":"Ready to Start"})]}),b&&(0,Qe.jsxs)("div",{className:"space-y-4",children:[(0,Qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qe.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Progress"}),(0,Qe.jsxs)("span",{className:"text-sm text-gray-600",children:[y,"%"]})]}),(0,Qe.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:(0,Qe.jsx)("div",{className:"h-full bg-gradient-to-r from-blue-500 to-purple-600 rounded-full transition-all duration-300 ease-out",style:{width:"".concat(y,"%")}})}),(0,Qe.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,Qe.jsx)(Qr,{className:"w-4 h-4"}),(0,Qe.jsx)("span",{children:w})]})]}),k.length>0&&(0,Qe.jsxs)("div",{children:[(0,Qe.jsxs)("h4",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[(0,Qe.jsx)(We,{className:"w-4 h-4"}),"Creation Log"]}),(0,Qe.jsxs)("div",{className:"bg-gray-900 rounded-xl p-4 max-h-64 overflow-y-auto text-sm font-mono",children:[k.map(((e,t)=>(0,Qe.jsxs)("div",{className:"mb-2 ".concat("error"===e.type||"failed"===e.status?"text-red-400":"container_complete"===e.type||"completed"===e.status?"text-green-400":"warning"===e.type?"text-yellow-400":"text-gray-300"),children:[(0,Qe.jsxs)("span",{className:"text-gray-500",children:["[",new Date(e.timestamp||"").toLocaleTimeString(),"]"]})," ",e.message]},t))),(0,Qe.jsx)("div",{ref:A})]})]}),C&&(0,Qe.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-xl p-6",children:[(0,Qe.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,Qe.jsx)(Ol,{className:"w-6 h-6 text-green-600"}),(0,Qe.jsx)("h3",{className:"text-lg font-semibold text-green-900",children:"Creation Complete!"})]}),(0,Qe.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,Qe.jsxs)("div",{className:"text-center",children:[(0,Qe.jsx)("div",{className:"text-2xl font-bold text-green-600",children:C.successful}),(0,Qe.jsx)("div",{className:"text-green-700",children:"Successful"})]}),(0,Qe.jsxs)("div",{className:"text-center",children:[(0,Qe.jsx)("div",{className:"text-2xl font-bold text-red-600",children:C.failed}),(0,Qe.jsx)("div",{className:"text-red-700",children:"Failed"})]}),(0,Qe.jsxs)("div",{className:"text-center",children:[(0,Qe.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:C.total}),(0,Qe.jsx)("div",{className:"text-blue-700",children:"Total"})]}),(0,Qe.jsxs)("div",{className:"text-center",children:[(0,Qe.jsxs)("div",{className:"text-2xl font-bold text-purple-600",children:[Math.round(C.duration_ms/1e3),"s"]}),(0,Qe.jsx)("div",{className:"text-purple-700",children:"Duration"})]})]}),(null===(t=C.created_containers)||void 0===t?void 0:t.length)>0&&(0,Qe.jsxs)("div",{className:"mt-4 p-3 bg-white rounded-lg",children:[(0,Qe.jsx)("div",{className:"text-sm font-medium text-gray-700 mb-2",children:"Created Containers:"}),(0,Qe.jsx)("div",{className:"text-sm text-gray-600",children:C.created_containers.join(", ")})]})]}),(0,Qe.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[(0,Qe.jsx)("button",{onClick:O,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50",disabled:b,children:b?"Cancel":"Close"}),(0,Qe.jsx)("button",{onClick:async()=>{if(!b)if(o<1||o>500)qt.error("Container count must be between 1 and 500");else if(d<1)qt.error("Start number must be at least 1");else{v(!0),j(0),N("Initializing..."),S([]),_(null),I("testing");try{var e;const n="container-creation-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),a="container-creator",r=await fetch("http://localhost:3001/api/bot/accounts/create-containers",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bot bot_development_key_123456789","X-Bot-Id":a,"X-Session-Id":n},body:JSON.stringify({count:o,startNumber:d,iphoneUrl:m||void 0})});if(!r.ok)throw new Error("HTTP ".concat(r.status,": ").concat(r.statusText));const s=null===(e=r.body)||void 0===e?void 0:e.getReader();if(!s)throw new Error("Failed to get response reader");const i=new TextDecoder;let l="";for(;;){const{done:e,value:n}=await s.read();if(e)break;l+=i.decode(n,{stream:!0});const a=l.split("\n");l=a.pop()||"";for(const r of a)if(r.startsWith("data: "))try{const e=JSON.parse(r.slice(6));R(e)}catch(t){console.error("Failed to parse SSE data:",t)}}}catch(t){console.error("Container creation error:",t);const e=t instanceof Error?t.message:"Unknown error occurred";qt.error("Failed to start container creation: ".concat(e)),v(!1),I("failed")}}},disabled:b||o<1||d<1,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:b?(0,Qe.jsxs)(Qe.Fragment,{children:[(0,Qe.jsx)(zs,{className:"w-4 h-4 animate-spin"}),"Creating..."]}):(0,Qe.jsxs)(Qe.Fragment,{children:[(0,Qe.jsx)(Po,{className:"w-4 h-4"}),"Start Creation"]})})]})]})]})})},Ao=He("Container",[["path",{d:"M22 7.7c0-.6-.4-1.2-.8-1.5l-6.3-3.9a1.72 1.72 0 0 0-1.7 0l-10.3 6c-.5.2-.9.8-.9 1.4v6.6c0 .5.4 1.2.8 1.5l6.3 3.9a1.72 1.72 0 0 0 1.7 0l10.3-6c.5-.3.9-1 .9-1.5Z",key:"1t2lqe"}],["path",{d:"M10 21.9V14L2.1 9.1",key:"o7czzq"}],["path",{d:"m10 14 11.9-6.9",key:"zm5e20"}],["path",{d:"M14 19.8v-8.1",key:"159ecu"}],["path",{d:"M18 17.5V9.4",key:"11uown"}]]),Oo=e=>{let{isOpen:t,onClose:n,accountId:r,accountUsername:s,onAssignmentComplete:i}=e;const[l,o]=(0,a.useState)([]),[c,d]=(0,a.useState)(null),[u,m]=(0,a.useState)(null),[p,x]=(0,a.useState)(!1),[h,f]=(0,a.useState)(!1);(0,a.useEffect)((()=>{t&&g()}),[t,r]);const g=async()=>{x(!0);try{const e=await fetch("/api/iphones/available-for-account/".concat(r)),t=await e.json();t.success?o(t.available_iphones):gn.error(t.error||"Failed to fetch available containers")}catch(e){console.error("Error fetching available containers:",e),gn.error("Failed to fetch available containers")}finally{x(!1)}},b=l.find((e=>e.iphone_id===c));return t?(0,Qe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Qe.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl mx-4 max-h-[90vh] overflow-auto",children:[(0,Qe.jsxs)("div",{className:"flex items-center justify-between p-6 border-b",children:[(0,Qe.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Assign Account to iPhone Container"}),(0,Qe.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,Qe.jsx)(ts,{className:"h-6 w-6"})})]}),(0,Qe.jsxs)("div",{className:"p-6",children:[(0,Qe.jsx)("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg",children:(0,Qe.jsxs)("div",{className:"flex items-center",children:[(0,Qe.jsx)(Ao,{className:"h-5 w-5 text-blue-600 mr-2"}),(0,Qe.jsxs)("span",{className:"text-sm font-medium text-blue-900",children:["Account: ",(0,Qe.jsx)("strong",{children:s})," (ID: ",r,")"]})]})}),p?(0,Qe.jsxs)("div",{className:"text-center py-8",children:[(0,Qe.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),(0,Qe.jsx)("p",{className:"mt-2 text-gray-600",children:"Loading available containers..."})]}):0===l.length?(0,Qe.jsxs)("div",{className:"text-center py-8",children:[(0,Qe.jsx)(as,{className:"h-12 w-12 text-yellow-500 mx-auto mb-4"}),(0,Qe.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Available Containers"}),(0,Qe.jsx)("p",{className:"text-gray-600",children:"There are no available iPhone containers for assignment. Please check that iPhones are registered and have available containers."})]}):(0,Qe.jsxs)(Qe.Fragment,{children:[(0,Qe.jsxs)("div",{className:"mb-6",children:[(0,Qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Select iPhone:"}),(0,Qe.jsx)("div",{className:"space-y-3",children:l.map((e=>(0,Qe.jsx)("div",{className:"border rounded-lg p-4 cursor-pointer transition-colors ".concat(c===e.iphone_id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),onClick:()=>{d(e.iphone_id),m(null)},children:(0,Qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qe.jsxs)("div",{className:"flex items-center",children:[(0,Qe.jsx)(Ke,{className:"h-5 w-5 text-gray-600 mr-3"}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("h4",{className:"font-medium text-gray-900",children:e.iphone_name}),(0,Qe.jsxs)("p",{className:"text-sm text-gray-600",children:[e.iphone_model," \u2022 ",e.ip_address]})]})]}),(0,Qe.jsxs)("div",{className:"text-right",children:[(0,Qe.jsxs)("div",{className:"flex items-center",children:[(0,Qe.jsx)(Ol,{className:"h-4 w-4 text-green-500 mr-1"}),(0,Qe.jsxs)("span",{className:"text-sm text-green-600 font-medium",children:[e.available_containers_count," available"]})]}),(0,Qe.jsx)("span",{className:"inline-block px-2 py-1 text-xs rounded-full ".concat("active"===e.iphone_status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.iphone_status})]})]})},e.iphone_id)))})]}),b&&(0,Qe.jsxs)("div",{className:"mb-6",children:[(0,Qe.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Select Container on ",b.iphone_name,":"]}),(0,Qe.jsx)("div",{className:"grid grid-cols-5 gap-2",children:b.containers.map((e=>(0,Qe.jsxs)("button",{onClick:()=>m(e.container_number),className:"p-3 text-sm font-medium rounded-lg border transition-colors ".concat(u===e.container_number?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300 text-gray-700"),children:["#",e.container_number]},e.container_id)))})]}),b&&null!==u&&(0,Qe.jsx)("div",{className:"mb-6 p-4 bg-green-50 rounded-lg",children:(0,Qe.jsxs)("div",{className:"flex items-center",children:[(0,Qe.jsx)(Ol,{className:"h-5 w-5 text-green-600 mr-2"}),(0,Qe.jsxs)("span",{className:"text-sm font-medium text-green-900",children:["Ready to assign ",(0,Qe.jsx)("strong",{children:s})," to container"," ",(0,Qe.jsxs)("strong",{children:["#",u]})," on"," ",(0,Qe.jsx)("strong",{children:b.iphone_name})]})]})})]})]}),(0,Qe.jsxs)("div",{className:"flex items-center justify-end space-x-3 p-6 border-t bg-gray-50",children:[(0,Qe.jsx)("button",{type:"button",onClick:n,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,Qe.jsx)("button",{onClick:async()=>{if(c&&null!==u){f(!0);try{const e=await fetch("/api/iphones/assign-account",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({accountId:r,iphoneId:c,containerNumber:u})}),t=await e.json();t.success?(gn.success(t.message),i(),n()):gn.error(t.error||"Failed to assign account")}catch(e){console.error("Error assigning account:",e),gn.error("Failed to assign account")}finally{f(!1)}}else gn.error("Please select an iPhone and container")},disabled:!c||null===u||h||0===l.length,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center",children:h?(0,Qe.jsxs)(Qe.Fragment,{children:[(0,Qe.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Assigning..."]}):"Assign Container"})]})]})}):null},To=e=>{let{isOpen:t,onClose:n,selectedAccounts:r,onAssign:s,models:i,isAssigning:l}=e;const[o,c]=(0,a.useState)(null);return(0,Qe.jsx)(us,{isOpen:t,onClose:n,title:"Assign Accounts to Model",children:(0,Qe.jsxs)("div",{className:"space-y-8",children:[(0,Qe.jsxs)("div",{children:[(0,Qe.jsxs)("p",{className:"text-gray-600 mb-6",children:["Assign ",r.size," selected account(s) to a model. This will trigger content assignment and warmup pipeline initialization."]}),(0,Qe.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-5 mb-6",children:(0,Qe.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Qe.jsx)(as,{className:"w-5 h-5 text-blue-600 mt-0.5"}),(0,Qe.jsxs)("div",{className:"text-sm text-blue-800",children:[(0,Qe.jsx)("p",{className:"font-medium mb-1",children:"What happens when accounts are assigned:"}),(0,Qe.jsxs)("ul",{className:"list-disc list-inside space-y-1",children:[(0,Qe.jsx)("li",{children:"Content will be automatically assigned to warmup phases"}),(0,Qe.jsx)("li",{children:"Proxy assignment will be attempted (if available)"}),(0,Qe.jsx)("li",{children:"Accounts will be ready for warmup pipeline"}),(0,Qe.jsx)("li",{children:"Manual setup phase will become available for each account"})]})]})]})}),(0,Qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Select Model"}),(0,Qe.jsxs)("select",{value:o||"",onChange:e=>c(e.target.value?parseInt(e.target.value):null),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:l,children:[(0,Qe.jsx)("option",{value:"",children:"Choose a model..."}),i.map((e=>(0,Qe.jsxs)("option",{value:e.id,children:[e.name," (",e.account_count||0," accounts)"]},e.id)))]})]}),(0,Qe.jsxs)("div",{className:"flex justify-end gap-4 pt-2",children:[(0,Qe.jsx)("button",{onClick:n,className:"px-6 py-2 text-gray-700 bg-gray-100 rounded-xl hover:bg-gray-200 disabled:opacity-50 font-medium",disabled:l,children:"Cancel"}),(0,Qe.jsx)("button",{onClick:()=>{o&&s(o)},disabled:!o||l,className:"px-6 py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 font-medium",children:l?(0,Qe.jsxs)(Qe.Fragment,{children:[(0,Qe.jsx)(zs,{className:"w-4 h-4 animate-spin"}),"Assigning..."]}):(0,Qe.jsxs)(Qe.Fragment,{children:[(0,Qe.jsx)(Eo,{className:"w-4 h-4"}),"Assign to Model"]})})]})]})})},Ro=()=>{var e,t,n,r;const s=te(),[i,l]=(0,a.useState)([]),[o,c]=(0,a.useState)([]),[d,u]=(0,a.useState)(null),[m,p]=(0,a.useState)(!0),[x,h]=(0,a.useState)(null),[f,g]=(0,a.useState)(""),[b,v]=(0,a.useState)(""),[y,j]=(0,a.useState)(""),[w,N]=(0,a.useState)(""),[k,S]=(0,a.useState)(!1),[C,_]=(0,a.useState)(!1),[E,I]=(0,a.useState)(new Set),[P,D]=(0,a.useState)(!1),[A,O]=(0,a.useState)(!1),[T,R]=(0,a.useState)(!1),[F,L]=(0,a.useState)(!1),[M,z]=(0,a.useState)(!1),[B,U]=(0,a.useState)(null),[H,q]=(0,a.useState)(!1),[W,G]=(0,a.useState)(!1),[V,$]=(0,a.useState)(!1),[K,J]=(0,a.useState)(null);(0,a.useEffect)((()=>{Q(),Y()}),[]);const Q=async()=>{try{var e;p(!0),h(null);const[t,n]=await Promise.all([fetch("/api/accounts?limit=10000"),Wr.getModels()]);if(!t.ok)throw new Error("Failed to load accounts");const a=await t.json(),r=(null===(e=a.data)||void 0===e?void 0:e.accounts)||a.accounts||[];l(r),c(n)}catch(t){console.error("Failed to load data:",t),h(t.message||"Failed to load data"),qt.error("Failed to load data")}finally{p(!1)}},Y=async()=>{try{const e=await fetch("/api/accounts/statistics");if(e.ok){const t=await e.json();if(t.success&&t.data){const e={total_accounts:t.data.overview.total_accounts,assigned_accounts:t.data.overview.assigned_accounts,unassigned_accounts:t.data.overview.unassigned_accounts,total_models:t.data.overview.total_models,by_model:t.data.breakdown.by_model.map((e=>({model_name:e.model_name,count:e.count,model_id:e.model_id||0}))),by_lifecycle_state:t.data.breakdown.by_lifecycle.map((e=>({state:e.state,count:e.count}))),by_status:[{status:"active",count:t.data.account_status.active},{status:"banned",count:t.data.account_status.banned},{status:"suspended",count:t.data.account_status.suspended},{status:"needs_review",count:t.data.account_status.needs_review}]};u(e)}}}catch(e){console.error("Failed to load statistics:",e)}},X=(0,a.useMemo)((()=>i.filter((e=>{var t,n;const a=!f||e.username.toLowerCase().includes(f.toLowerCase())||(null===(t=e.email)||void 0===t?void 0:t.toLowerCase().includes(f.toLowerCase()))||e.model_name&&e.model_name.toLowerCase().includes(f.toLowerCase()),r=!b||(null===(n=e.model_id)||void 0===n?void 0:n.toString())===b,s=!y||e.lifecycle_state===y,i=!w||e.status===w,l=!k||!e.model_id;return a&&r&&s&&i&&l}))),[i,f,b,y,w,k]),Z=e=>{const t=new Set(E);t.has(e)?t.delete(e):t.add(e),I(t)},ee=()=>{I(new Set(X.map((e=>e.id))))},ne=()=>{I(new Set)},ae=e=>{e.model_id?s("/models/".concat(e.model_id,"?tab=accounts&account=").concat(e.id)):qt("Account is not assigned to a model yet. Assign it to a model to manage it.",{icon:"\u2139\ufe0f",duration:3e3})},re=e=>{J({id:e.id,username:e.username}),$(!0)},se=Array.from(new Set(i.map((e=>e.lifecycle_state)))).filter(Boolean),ie=Array.from(new Set(i.map((e=>e.status)))).filter(Boolean),le=(0,a.useMemo)((()=>[{id:"selection",field:"id",header:"",width:C?60:0,minWidth:C?60:0,resizable:!1,sortable:!1,filterable:!1,type:"text",align:"center",visible:C,order:0,frozen:!1,editable:!1,required:!1,headerRender:C?()=>(0,Qe.jsx)("div",{className:"flex items-center justify-center",children:(0,Qe.jsx)("button",{onClick:e=>{e.stopPropagation(),E.size===X.length?ne():ee()},className:"w-6 h-6 rounded-md border-2 flex items-center justify-center transition-all duration-200 ".concat(E.size===X.length&&X.length>0?"bg-blue-600 border-blue-600 text-white shadow-lg":E.size>0?"bg-blue-100 border-blue-400 text-blue-600":"bg-white border-gray-300 hover:border-blue-400"),title:E.size===X.length?"Deselect All":"Select All",children:E.size===X.length&&X.length>0?(0,Qe.jsx)(Gr,{className:"w-4 h-4"}):E.size>0?(0,Qe.jsx)("div",{className:"w-2 h-2 bg-blue-600 rounded-sm"}):(0,Qe.jsx)(Vr,{className:"w-4 h-4"})})}):void 0,render:(e,t)=>(0,Qe.jsx)("div",{className:"flex items-center justify-center",children:(0,Qe.jsx)("button",{onClick:e=>{e.stopPropagation(),Z(t.id)},className:"w-6 h-6 rounded-md border-2 flex items-center justify-center transition-all duration-200 transform ".concat(E.has(t.id)?"bg-blue-600 border-blue-600 text-white shadow-lg scale-110":"bg-white border-gray-300 hover:border-blue-400 hover:shadow-md"),title:E.has(t.id)?"Deselect account":"Select account",children:E.has(t.id)?(0,Qe.jsx)(Gr,{className:"w-4 h-4"}):(0,Qe.jsx)(Vr,{className:"w-4 h-4"})})})},{id:"username",field:"username",header:"Username",width:150,minWidth:120,resizable:!0,sortable:!0,filterable:!0,type:"text",align:"left",visible:!0,order:1,frozen:!1,editable:!1,required:!0,render:(e,t)=>(0,Qe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Qe.jsx)("div",{className:"w-2 h-2 rounded-full ".concat("active"===t.status?"bg-green-500":"banned"===t.status?"bg-red-500":"suspended"===t.status?"bg-yellow-500":"bg-gray-500"),title:t.status}),(0,Qe.jsx)("span",{className:"font-medium cursor-pointer hover:text-blue-600",onClick:()=>ae(t),children:e})]})},{id:"model_name",field:"model_name",header:"Model",width:180,minWidth:150,resizable:!0,sortable:!0,filterable:!0,type:"text",align:"left",visible:!0,order:2,frozen:!1,editable:!1,required:!1,render:(e,t)=>(0,Qe.jsx)("div",{className:"flex items-center gap-2",children:e?(0,Qe.jsxs)(Qe.Fragment,{children:[(0,Qe.jsx)(Io,{className:"w-4 h-4 text-blue-500"}),(0,Qe.jsx)("span",{className:"text-blue-600 font-medium",children:e})]}):(0,Qe.jsx)("span",{className:"text-gray-400 italic",children:"Unassigned"})})},{id:"email",field:"email",header:"Email",width:200,minWidth:180,resizable:!0,sortable:!0,filterable:!0,type:"text",align:"left",visible:!0,order:3,frozen:!1,editable:!1,required:!1,render:e=>(0,Qe.jsx)("span",{className:"text-sm text-gray-600",children:e||"-"})},{id:"lifecycle_state",field:"lifecycle_state",header:"Lifecycle",width:120,minWidth:100,resizable:!0,sortable:!0,filterable:!0,type:"text",align:"center",visible:!0,order:4,frozen:!1,editable:!1,required:!1,render:e=>(0,Qe.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("active"===e?"bg-green-100 text-green-800":"warmup"===e?"bg-yellow-100 text-yellow-800":"imported"===e?"bg-blue-100 text-blue-800":"ready"===e?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"),children:e})},{id:"status",field:"status",header:"Status",width:100,minWidth:80,resizable:!0,sortable:!0,filterable:!0,type:"text",align:"center",visible:!0,order:5,frozen:!1,editable:!1,required:!1,render:e=>(0,Qe.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("active"===e?"bg-green-100 text-green-800":"banned"===e?"bg-red-100 text-red-800":"suspended"===e?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:e})},{id:"created_at",field:"created_at",header:"Created",width:120,minWidth:100,resizable:!0,sortable:!0,filterable:!1,type:"date",align:"center",visible:!0,order:6,frozen:!1,editable:!1,required:!1,render:e=>(0,Qe.jsx)("span",{className:"text-sm text-gray-600",children:new Date(e).toLocaleDateString()})},{id:"actions",field:"id",header:"Actions",width:120,minWidth:100,resizable:!1,sortable:!1,filterable:!1,type:"text",align:"center",visible:!0,order:7,frozen:!1,editable:!1,required:!1,render:(e,t)=>(0,Qe.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,Qe.jsx)("button",{onClick:e=>{e.stopPropagation(),re(t)},className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Assign to iPhone Container",children:(0,Qe.jsx)(Ke,{className:"w-4 h-4"})}),(0,Qe.jsx)("button",{onClick:e=>{e.stopPropagation(),ae(t)},className:"p-1.5 text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",title:"View Details",children:(0,Qe.jsx)(Zl,{className:"w-4 h-4"})})]})}]),[C,E,ae,re,Z]);return m?(0,Qe.jsx)("div",{className:"p-8",children:(0,Qe.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,Qe.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),(0,Qe.jsx)("div",{className:"h-32 bg-gray-200 rounded"}),(0,Qe.jsx)("div",{className:"h-64 bg-gray-200 rounded"})]})}):(0,Qe.jsxs)("div",{className:"p-8 space-y-8",children:[(0,Qe.jsxs)("div",{className:"relative overflow-hidden bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 rounded-2xl shadow-2xl",children:[(0,Qe.jsx)("div",{className:"absolute inset-0 bg-black/10"}),(0,Qe.jsx)("div",{className:"relative px-8 py-12",children:(0,Qe.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Qe.jsxs)("div",{className:"text-white",children:[(0,Qe.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,Qe.jsx)("div",{className:"p-3 bg-white/20 rounded-xl backdrop-blur-sm",children:(0,Qe.jsx)(Ge,{className:"w-8 h-8"})}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("h1",{className:"text-4xl font-bold tracking-tight",children:"Account Hub"}),(0,Qe.jsx)("p",{className:"text-blue-100 text-lg font-medium",children:"Central command for all Instagram accounts"})]})]}),(0,Qe.jsxs)("div",{className:"flex items-center gap-4 text-sm",children:[(0,Qe.jsxs)("div",{className:"flex items-center gap-2 bg-white/10 px-3 py-1 rounded-full backdrop-blur-sm",children:[(0,Qe.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),(0,Qe.jsx)("span",{children:"Live Dashboard"})]}),(0,Qe.jsxs)("div",{className:"flex items-center gap-2 bg-white/10 px-3 py-1 rounded-full backdrop-blur-sm",children:[(0,Qe.jsx)(ys,{className:"w-4 h-4"}),(0,Qe.jsx)("span",{children:"Real-time Analytics"})]})]})]}),(0,Qe.jsxs)("div",{className:"flex gap-3",children:[(0,Qe.jsxs)("button",{onClick:()=>G(!0),className:"bg-purple-500 backdrop-blur-sm border border-purple-400/30 text-white px-6 py-3 rounded-xl hover:bg-purple-600 transition-all duration-200 flex items-center gap-2 font-medium shadow-lg",children:[(0,Qe.jsx)(Ke,{className:"w-5 h-5"}),"Create Containers"]}),(0,Qe.jsxs)("button",{onClick:()=>{0!==o.length?q(!0):qt.error("Please create a model first before importing accounts")},className:"bg-green-500 backdrop-blur-sm border border-green-400/30 text-white px-6 py-3 rounded-xl hover:bg-green-600 transition-all duration-200 flex items-center gap-2 font-medium shadow-lg",children:[(0,Qe.jsx)(Jr,{className:"w-5 h-5"}),"Import Accounts"]}),(0,Qe.jsxs)("button",{onClick:()=>{const e=[["Username","Email","Model","Lifecycle State","Status","Created At"].join(","),...X.map((e=>[e.username,e.email||"",e.model_name||"Unassigned",e.lifecycle_state,e.status,new Date(e.created_at).toISOString()].join(",")))].join("\n"),t=new Blob([e],{type:"text/csv"}),n=URL.createObjectURL(t),a=document.createElement("a");a.href=n,a.download="accounts-export-".concat((new Date).toISOString().split("T")[0],".csv"),document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(n),qt.success("Accounts exported successfully")},className:"bg-white/20 backdrop-blur-sm border border-white/30 text-white px-6 py-3 rounded-xl hover:bg-white/30 transition-all duration-200 flex items-center gap-2 font-medium",children:[(0,Qe.jsx)(tt,{className:"w-5 h-5"}),"Export Data"]}),(0,Qe.jsxs)("button",{onClick:Q,className:"bg-white text-blue-600 px-6 py-3 rounded-xl hover:bg-blue-50 transition-all duration-200 flex items-center gap-2 font-medium shadow-lg",children:[(0,Qe.jsx)(zs,{className:"w-5 h-5 ".concat(m?"animate-spin":"")}),"Refresh"]})]})]})})]}),d&&(0,Qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[(0,Qe.jsxs)("div",{className:"group relative bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden border border-gray-100",children:[(0,Qe.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50 to-indigo-50 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,Qe.jsxs)("div",{className:"relative p-6",children:[(0,Qe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Qe.jsx)("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl shadow-lg group-hover:scale-110 transition-transform duration-300",children:(0,Qe.jsx)(Ge,{className:"w-6 h-6 text-white"})}),(0,Qe.jsx)("div",{className:"text-right",children:(0,Qe.jsxs)("div",{className:"flex items-center justify-end space-x-1",children:[(0,Qe.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,Qe.jsx)("span",{className:"text-xs font-medium text-blue-600",children:"TOTAL"})]})})]}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("p",{className:"text-sm font-semibold text-gray-600 uppercase tracking-wide mb-1",children:"Total Accounts"}),(0,Qe.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:(null===(e=d.total_accounts)||void 0===e?void 0:e.toLocaleString())||"0"})]}),(0,Qe.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-100",children:(0,Qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qe.jsx)("span",{className:"text-xs text-gray-500",children:"System-wide"}),(0,Qe.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Qe.jsx)("div",{className:"w-1 h-1 bg-green-400 rounded-full"}),(0,Qe.jsx)("span",{className:"text-xs text-green-600 font-medium",children:"Live"})]})]})})]})]}),(0,Qe.jsxs)("div",{className:"group relative bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden border border-gray-100",children:[(0,Qe.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-green-50 to-emerald-50 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,Qe.jsxs)("div",{className:"relative p-6",children:[(0,Qe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Qe.jsx)("div",{className:"p-3 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl shadow-lg group-hover:scale-110 transition-transform duration-300",children:(0,Qe.jsx)(Eo,{className:"w-6 h-6 text-white"})}),(0,Qe.jsx)("div",{className:"text-right",children:(0,Qe.jsxs)("div",{className:"flex items-center justify-end space-x-1",children:[(0,Qe.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,Qe.jsx)("span",{className:"text-xs font-medium text-green-600",children:"ASSIGNED"})]})})]}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("p",{className:"text-sm font-semibold text-gray-600 uppercase tracking-wide mb-1",children:"Assigned to Models"}),(0,Qe.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:(null===(t=d.assigned_accounts)||void 0===t?void 0:t.toLocaleString())||"0"})]}),(0,Qe.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-100",children:(0,Qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qe.jsx)("span",{className:"text-xs text-gray-500",children:"Ready for workflow"}),(0,Qe.jsxs)("span",{className:"text-xs font-medium text-green-600",children:[d.total_accounts>0?Math.round(d.assigned_accounts/d.total_accounts*100):0,"%"]})]})})]})]}),(0,Qe.jsxs)("div",{className:"group relative bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden border border-gray-100",children:[(0,Qe.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-50 to-amber-50 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,Qe.jsxs)("div",{className:"relative p-6",children:[(0,Qe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Qe.jsx)("div",{className:"p-3 bg-gradient-to-br from-orange-500 to-amber-600 rounded-xl shadow-lg group-hover:scale-110 transition-transform duration-300",children:(0,Qe.jsx)(as,{className:"w-6 h-6 text-white"})}),(0,Qe.jsx)("div",{className:"text-right",children:(0,Qe.jsxs)("div",{className:"flex items-center justify-end space-x-1",children:[(0,Qe.jsx)("div",{className:"w-2 h-2 bg-orange-500 rounded-full animate-pulse"}),(0,Qe.jsx)("span",{className:"text-xs font-medium text-orange-600",children:"PENDING"})]})})]}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("p",{className:"text-sm font-semibold text-gray-600 uppercase tracking-wide mb-1",children:"Unassigned"}),(0,Qe.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:(null===(n=d.unassigned_accounts)||void 0===n?void 0:n.toLocaleString())||"0"})]}),(0,Qe.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-100",children:(0,Qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qe.jsx)("span",{className:"text-xs text-gray-500",children:"Need assignment"}),d.unassigned_accounts>0&&(0,Qe.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:"Action needed"})]})})]})]}),(0,Qe.jsxs)("div",{className:"group relative bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden border border-gray-100",children:[(0,Qe.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-50 to-indigo-50 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,Qe.jsxs)("div",{className:"relative p-6",children:[(0,Qe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Qe.jsx)("div",{className:"p-3 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-xl shadow-lg group-hover:scale-110 transition-transform duration-300",children:(0,Qe.jsx)(Io,{className:"w-6 h-6 text-white"})}),(0,Qe.jsx)("div",{className:"text-right",children:(0,Qe.jsxs)("div",{className:"flex items-center justify-end space-x-1",children:[(0,Qe.jsx)("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),(0,Qe.jsx)("span",{className:"text-xs font-medium text-purple-600",children:"MODELS"})]})})]}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("p",{className:"text-sm font-semibold text-gray-600 uppercase tracking-wide mb-1",children:"Active Models"}),(0,Qe.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:(null===(r=d.total_models)||void 0===r?void 0:r.toLocaleString())||"0"})]}),(0,Qe.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-100",children:(0,Qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qe.jsx)("span",{className:"text-xs text-gray-500",children:"Available targets"}),(0,Qe.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Qe.jsx)("div",{className:"w-1 h-1 bg-purple-400 rounded-full"}),(0,Qe.jsx)("span",{className:"text-xs text-purple-600 font-medium",children:"Active"})]})]})})]})]})]}),(0,Qe.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:[(0,Qe.jsx)("div",{className:"px-6 py-4 bg-gradient-to-r from-gray-50 to-gray-100 border-b border-gray-200",children:(0,Qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qe.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Qe.jsx)("div",{className:"p-2 bg-blue-600 rounded-lg",children:(0,Qe.jsx)(et,{className:"w-5 h-5 text-white"})}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Filters & Search"}),(0,Qe.jsx)("p",{className:"text-sm text-gray-600",children:"Refine your account view"})]})]}),(0,Qe.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[(0,Qe.jsxs)("span",{children:[X.length," results"]}),(0,Qe.jsx)("div",{className:"w-1 h-1 bg-gray-400 rounded-full"}),(0,Qe.jsxs)("span",{children:[i.length," total"]})]})]})}),(0,Qe.jsx)("div",{className:"p-6",children:(0,Qe.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 items-end",children:[(0,Qe.jsxs)("div",{className:"lg:col-span-4",children:[(0,Qe.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Search Accounts"}),(0,Qe.jsxs)("div",{className:"relative group",children:[(0,Qe.jsx)(Ze,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5 group-focus-within:text-blue-600 transition-colors"}),(0,Qe.jsx)("input",{type:"text",placeholder:"Search by username, email, or model...",value:f,onChange:e=>g(e.target.value),className:"pl-12 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 w-full transition-all duration-200 placeholder-gray-400"})]})]}),(0,Qe.jsxs)("div",{className:"lg:col-span-2",children:[(0,Qe.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Model"}),(0,Qe.jsxs)("select",{value:b,onChange:e=>v(e.target.value),className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",children:[(0,Qe.jsx)("option",{value:"",children:"All Models"}),o.map((e=>(0,Qe.jsxs)("option",{value:e.id.toString(),children:[e.name," (",e.account_count||0,")"]},e.id)))]})]}),(0,Qe.jsxs)("div",{className:"lg:col-span-2",children:[(0,Qe.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Lifecycle"}),(0,Qe.jsxs)("select",{value:y,onChange:e=>j(e.target.value),className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",children:[(0,Qe.jsx)("option",{value:"",children:"All States"}),se.map((e=>(0,Qe.jsx)("option",{value:e,children:e},e)))]})]}),(0,Qe.jsxs)("div",{className:"lg:col-span-2",children:[(0,Qe.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Status"}),(0,Qe.jsxs)("select",{value:w,onChange:e=>N(e.target.value),className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",children:[(0,Qe.jsx)("option",{value:"",children:"All Statuses"}),ie.map((e=>(0,Qe.jsx)("option",{value:e,children:e},e)))]})]}),(0,Qe.jsxs)("div",{className:"lg:col-span-2 flex gap-2",children:[(0,Qe.jsx)("div",{className:"flex-1",children:(0,Qe.jsxs)("label",{className:"flex items-center gap-3 p-3 border border-gray-300 rounded-xl hover:bg-gray-50 transition-colors cursor-pointer",children:[(0,Qe.jsx)("input",{type:"checkbox",checked:k,onChange:e=>S(e.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 w-4 h-4"}),(0,Qe.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Unassigned only"})]})}),(0,Qe.jsx)("button",{onClick:()=>{g(""),v(""),j(""),N(""),S(!1)},className:"px-4 py-3 text-gray-600 hover:text-gray-800 border border-gray-300 rounded-xl hover:bg-gray-50 transition-all duration-200 flex items-center gap-2",title:"Clear all filters",children:(0,Qe.jsx)(zs,{className:"w-4 h-4"})})]})]})}),(0,Qe.jsx)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:(0,Qe.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:[(0,Qe.jsxs)("div",{className:"flex items-center gap-5",children:[(0,Qe.jsxs)("button",{onClick:()=>{_(!C),C&&ne()},className:"flex items-center gap-3 px-6 py-3 rounded-xl text-sm font-semibold transition-all duration-200 ".concat(C?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200 border border-gray-300"),children:[(0,Qe.jsx)(Gr,{className:"w-5 h-5"}),C?"Exit Selection Mode":"Enable Selection Mode"]}),C&&(0,Qe.jsxs)("div",{className:"flex items-center gap-5",children:[(0,Qe.jsxs)("button",{onClick:ee,className:"text-blue-600 hover:text-blue-700 text-sm font-medium hover:underline transition-all duration-200",children:["Select All (",X.length,")"]}),(0,Qe.jsx)("button",{onClick:ne,className:"text-gray-600 hover:text-gray-700 text-sm font-medium hover:underline transition-all duration-200",children:"Clear Selection"}),E.size>0&&(0,Qe.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-full shadow-lg",children:[(0,Qe.jsx)(Gr,{className:"w-4 h-4"}),(0,Qe.jsxs)("span",{className:"text-sm font-bold",children:[E.size," of ",X.length," selected"]})]})]})]}),C&&E.size>0&&(0,Qe.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,Qe.jsxs)("button",{onClick:()=>R(!0),className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-xl hover:from-green-600 hover:to-emerald-700 text-sm font-semibold shadow-lg transition-all duration-200 transform hover:scale-105",disabled:F,children:[(0,Qe.jsx)(Rs,{className:"w-5 h-5"}),"Assign to Model",F&&(0,Qe.jsx)(zs,{className:"w-4 h-4 animate-spin ml-1"})]}),(0,Qe.jsxs)("button",{onClick:()=>O(!0),className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-xl hover:from-red-600 hover:to-red-700 text-sm font-semibold shadow-lg transition-all duration-200 transform hover:scale-105",disabled:P,children:[(0,Qe.jsx)(Kr,{className:"w-5 h-5"}),"Delete Selected",P&&(0,Qe.jsx)(zs,{className:"w-4 h-4 animate-spin ml-1"})]})]})]})})]}),(0,Qe.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:[(0,Qe.jsx)("div",{className:"px-6 py-4 bg-gradient-to-r from-gray-50 to-gray-100 border-b border-gray-200",children:(0,Qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qe.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Qe.jsx)("div",{className:"p-2 bg-blue-600 rounded-lg",children:(0,Qe.jsx)(Ge,{className:"w-5 h-5 text-white"})}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Account Directory"}),(0,Qe.jsxs)("p",{className:"text-sm text-gray-600",children:[X.length," of ",i.length," accounts shown"]})]})]}),(0,Qe.jsxs)("div",{className:"flex items-center gap-3",children:[C&&E.size>0&&(0,Qe.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1 bg-blue-50 border border-blue-200 rounded-full",children:[(0,Qe.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"}),(0,Qe.jsxs)("span",{className:"text-sm font-medium text-blue-700",children:[E.size," selected"]})]}),(0,Qe.jsxs)("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[(0,Qe.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,Qe.jsx)("span",{children:"Live data"})]})]})]})}),(0,Qe.jsx)("div",{className:"min-h-[600px]",children:x?(0,Qe.jsx)("div",{className:"p-12 text-center",children:(0,Qe.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,Qe.jsx)("div",{className:"p-4 bg-red-50 rounded-xl mb-6",children:(0,Qe.jsx)(as,{className:"w-16 h-16 text-red-500 mx-auto mb-4"})}),(0,Qe.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Connection Error"}),(0,Qe.jsx)("p",{className:"text-gray-600 mb-6",children:x}),(0,Qe.jsxs)("button",{onClick:Q,className:"px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all duration-200 font-medium",children:[(0,Qe.jsx)(zs,{className:"w-4 h-4 inline mr-2"}),"Retry Connection"]})]})}):0===X.length?(0,Qe.jsx)("div",{className:"p-12 text-center",children:(0,Qe.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,Qe.jsx)("div",{className:"p-4 bg-gray-50 rounded-xl mb-6",children:(0,Qe.jsx)(Ge,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"})}),(0,Qe.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:0===i.length?"No Accounts Yet":"No Matches Found"}),(0,Qe.jsx)("p",{className:"text-gray-600 mb-6",children:0===i.length?"Ready to get started? Import your first batch of accounts to begin managing your Instagram automation.":"No accounts match your current search and filter criteria. Try adjusting your parameters or clearing filters."}),(0,Qe.jsx)("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:0===i.length?(0,Qe.jsxs)("button",{onClick:()=>s("/models"),className:"px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all duration-200 font-medium",children:[(0,Qe.jsx)(Xe,{className:"w-4 h-4 inline mr-2"}),"Import Accounts"]}):(0,Qe.jsxs)("button",{onClick:()=>{g(""),v(""),j(""),N(""),S(!1)},className:"px-6 py-3 bg-gray-600 text-white rounded-xl hover:bg-gray-700 transition-all duration-200 font-medium",children:[(0,Qe.jsx)(zs,{className:"w-4 h-4 inline mr-2"}),"Clear All Filters"]})})]})}):(0,Qe.jsx)(Si,{data:X,columns:le,onRowClick:(e,t)=>ae(t),loading:m,height:600,className:"border-0"})})]}),(0,Qe.jsx)(To,{isOpen:T,onClose:()=>R(!1),selectedAccounts:E,onAssign:async e=>{if(0!==E.size){L(!0);try{const t=Array.from(E),n=await fetch("/api/accounts/assign-to-model",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({account_ids:t,model_id:e})}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to assign accounts to model");qt.success("Successfully assigned ".concat(a.data.successful," account(s) to model")),a.data.failed>0&&qt.error("Failed to assign ".concat(a.data.failed," account(s)")),await Q(),await Y(),ne(),_(!1),R(!1)}catch(x){console.error("Model assignment failed:",x),qt.error(x.message||"Failed to assign accounts to model")}finally{L(!1)}}},models:o,isAssigning:F}),(0,Qe.jsx)(us,{isOpen:A,onClose:()=>O(!1),title:"Confirm Deletion",children:(0,Qe.jsxs)("div",{className:"space-y-4",children:[(0,Qe.jsxs)("p",{className:"text-gray-600",children:["Are you sure you want to delete ",E.size," selected account(s)? This action cannot be undone and will remove all associated data including:"]}),(0,Qe.jsxs)("ul",{className:"list-disc list-inside text-sm text-gray-600 space-y-1",children:[(0,Qe.jsx)("li",{children:"Account credentials and settings"}),(0,Qe.jsx)("li",{children:"Warmup progress and phase data"}),(0,Qe.jsx)("li",{children:"Analytics and performance history"}),(0,Qe.jsx)("li",{children:"Follow/unfollow tracking"})]}),(0,Qe.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[(0,Qe.jsx)("button",{onClick:()=>O(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200",disabled:P,children:"Cancel"}),(0,Qe.jsx)("button",{onClick:async()=>{if(0!==E.size){D(!0);try{const e=Array.from(E),t=await fetch("/api/accounts/batch",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({account_ids:e})}),n=await t.json();if(!t.ok)throw new Error(n.message||"Failed to delete accounts");qt.success("Successfully deleted ".concat(n.data.successful," account(s)")),n.data.failed>0&&qt.error("Failed to delete ".concat(n.data.failed," account(s)")),await Q(),await Y(),ne(),_(!1)}catch(x){console.error("Batch delete failed:",x),qt.error(x.message||"Failed to delete accounts")}finally{D(!1),O(!1)}}},disabled:P,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50 flex items-center gap-2",children:P?(0,Qe.jsxs)(Qe.Fragment,{children:[(0,Qe.jsx)(zs,{className:"w-4 h-4 animate-spin"}),"Deleting..."]}):(0,Qe.jsxs)(Qe.Fragment,{children:[(0,Qe.jsx)(Kr,{className:"w-4 h-4"}),"Delete Accounts"]})})]})]})}),(0,Qe.jsx)(us,{isOpen:H,onClose:()=>q(!1),title:"Select Model for Import",children:(0,Qe.jsxs)("div",{className:"space-y-8",children:[(0,Qe.jsxs)("div",{className:"flex items-start gap-4 p-5 bg-blue-50 border border-blue-200 rounded-xl",children:[(0,Qe.jsx)(Jr,{className:"w-5 h-5 text-blue-600 mt-0.5"}),(0,Qe.jsxs)("div",{className:"text-sm text-blue-800",children:[(0,Qe.jsx)("p",{className:"font-medium mb-1",children:"Account Import"}),(0,Qe.jsx)("p",{children:"Choose which model to assign the imported accounts to. Accounts will be automatically assigned content and prepared for the warmup pipeline."})]})]}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Select Target Model"}),(0,Qe.jsx)("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:o.map((e=>(0,Qe.jsx)("button",{onClick:()=>{return t=e.id,U(t),q(!1),void z(!0);var t},className:"w-full text-left p-5 border border-gray-200 rounded-xl hover:bg-gray-50 hover:border-gray-300 transition-all duration-200 group hover:shadow-md",children:(0,Qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("h3",{className:"font-medium text-gray-900 group-hover:text-blue-600",children:e.name}),(0,Qe.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.description||"No description"}),(0,Qe.jsxs)("div",{className:"flex items-center gap-3 mt-3 text-xs text-gray-500",children:[(0,Qe.jsxs)("span",{className:"px-2 py-1 bg-gray-100 rounded-full",children:["Status: ",e.status]}),(0,Qe.jsxs)("span",{className:"px-2 py-1 bg-blue-50 text-blue-600 rounded-full",children:[e.account_count||0," accounts"]})]})]}),(0,Qe.jsx)("div",{className:"text-blue-600 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,Qe.jsx)(Jr,{className:"w-5 h-5"})})]})},e.id)))})]}),(0,Qe.jsx)("div",{className:"flex justify-end gap-3 pt-2",children:(0,Qe.jsx)("button",{onClick:()=>q(!1),className:"px-6 py-2 text-gray-700 bg-gray-100 rounded-xl hover:bg-gray-200 transition-colors font-medium",children:"Cancel"})})]})}),B&&(0,Qe.jsx)(zl,{isOpen:M,onClose:()=>{z(!1),U(null)},modelId:B,onImportComplete:()=>{Q(),U(null)}}),(0,Qe.jsx)(Do,{isOpen:W,onClose:()=>G(!1),onComplete:e=>{console.log("Container creation completed:",e),qt.success("Container creation finished! ".concat(e.successful,"/").concat(e.total," containers created."))}}),K&&(0,Qe.jsx)(Oo,{isOpen:V,onClose:()=>{$(!1),J(null)},accountId:K.id,accountUsername:K.username,onAssignmentComplete:()=>{Q(),J(null)}})]})},Fo=He("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Lo=He("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]),Mo=He("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),zo=e=>{let{data:t}=e;if(!t||0===t.length)return(0,Qe.jsx)("div",{className:"h-64 flex items-center justify-center text-gray-500",children:"No follow-back rate data available"});const n=t.slice(0,10).map((e=>({name:e.username.length>12?e.username.substring(0,12)+"...":e.username,fullName:e.username,rate:e.follow_back_rate,follows:e.total_follows,followBacks:e.total_follow_backs,modelName:e.model_name}))),a=e=>e>=80?"bg-green-500":e>=60?"bg-amber-500":"bg-red-500",r=n.reduce(((e,t)=>e+t.rate),0)/n.length,s=Math.max(...n.map((e=>e.rate)));return(0,Qe.jsxs)("div",{className:"space-y-4",children:[(0,Qe.jsxs)("div",{className:"grid grid-cols-3 gap-4 p-4 bg-gray-50 rounded-lg",children:[(0,Qe.jsxs)("div",{className:"text-center",children:[(0,Qe.jsxs)("div",{className:"text-lg font-semibold text-gray-900",children:[r.toFixed(1),"%"]}),(0,Qe.jsx)("div",{className:"text-sm text-gray-600",children:"Average Rate"})]}),(0,Qe.jsxs)("div",{className:"text-center",children:[(0,Qe.jsxs)("div",{className:"text-lg font-semibold text-gray-900",children:[s.toFixed(1),"%"]}),(0,Qe.jsx)("div",{className:"text-sm text-gray-600",children:"Best Rate"})]}),(0,Qe.jsxs)("div",{className:"text-center",children:[(0,Qe.jsx)("div",{className:"text-lg font-semibold text-gray-900",children:n.length}),(0,Qe.jsx)("div",{className:"text-sm text-gray-600",children:"Accounts"})]})]}),(0,Qe.jsxs)("div",{className:"relative",children:[(0,Qe.jsx)("div",{className:"flex items-end justify-between h-64 px-4 border-l border-b border-gray-200",children:n.map(((e,t)=>{return(0,Qe.jsxs)("div",{className:"flex flex-col items-center group relative",children:[(0,Qe.jsxs)("div",{className:"relative mb-2",children:[(0,Qe.jsx)("div",{className:"w-8 transition-all duration-300 hover:opacity-80 ".concat(a(e.rate)),style:{height:"".concat((n=e.rate,Math.max(2*n,8)),"px")},title:"".concat(e.fullName,": ").concat(e.rate.toFixed(1),"%")}),(0,Qe.jsxs)("div",{className:"invisible group-hover:visible absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 p-2 bg-gray-900 text-white text-xs rounded shadow-lg whitespace-nowrap z-10",children:[(0,Qe.jsx)("div",{className:"font-medium",children:e.fullName}),(0,Qe.jsx)("div",{children:e.modelName}),(0,Qe.jsxs)("div",{children:["Rate: ",e.rate.toFixed(1),"%"]}),(0,Qe.jsxs)("div",{children:["Follows: ",e.follows.toLocaleString()]}),(0,Qe.jsxs)("div",{children:["Follow Backs: ",e.followBacks.toLocaleString()]}),(0,Qe.jsx)("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 border-4 border-transparent border-t-gray-900"})]})]}),(0,Qe.jsx)("div",{className:"text-xs text-gray-600 transform -rotate-45 origin-top-left mt-1",children:e.name})]},t);var n}))}),(0,Qe.jsxs)("div",{className:"absolute left-0 top-0 h-64 flex flex-col justify-between text-xs text-gray-500 -ml-8",children:[(0,Qe.jsx)("span",{children:"100%"}),(0,Qe.jsx)("span",{children:"75%"}),(0,Qe.jsx)("span",{children:"50%"}),(0,Qe.jsx)("span",{children:"25%"}),(0,Qe.jsx)("span",{children:"0%"})]})]}),(0,Qe.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[(0,Qe.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Qe.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Qe.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded"}),(0,Qe.jsx)("span",{children:"Excellent (80%+)"})]}),(0,Qe.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Qe.jsx)("div",{className:"w-3 h-3 bg-amber-500 rounded"}),(0,Qe.jsx)("span",{children:"Good (60-79%)"})]}),(0,Qe.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Qe.jsx)("div",{className:"w-3 h-3 bg-red-500 rounded"}),(0,Qe.jsx)("span",{children:"Needs Improvement (<60%)"})]})]}),(0,Qe.jsx)("div",{children:"Showing top 10 accounts by follow-back rate"})]}),(0,Qe.jsxs)("div",{className:"mt-6",children:[(0,Qe.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Account Details"}),(0,Qe.jsx)("div",{className:"space-y-2",children:n.map(((e,t)=>(0,Qe.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded text-sm",children:[(0,Qe.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Qe.jsx)("div",{className:"w-3 h-3 rounded ".concat(a(e.rate).replace("bg-","bg-"))}),(0,Qe.jsx)("span",{className:"font-medium",children:e.fullName}),(0,Qe.jsxs)("span",{className:"text-gray-500",children:["(",e.modelName,")"]})]}),(0,Qe.jsxs)("div",{className:"flex items-center gap-4 text-right",children:[(0,Qe.jsxs)("span",{children:[e.rate.toFixed(1),"%"]}),(0,Qe.jsxs)("span",{className:"text-gray-500",children:[e.follows.toLocaleString()," follows"]})]})]},t)))})]})]})},Bo=e=>{let{data:t}=e;if(!t||!t.breakdown||0===t.breakdown.length)return(0,Qe.jsx)("div",{className:"h-64 flex items-center justify-center text-gray-500",children:"No cost breakdown data available"});const{breakdown:n,total_amount:a}=t,r=["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#f97316","#06b6d4","#84cc16","#ec4899","#6b7280"],s=n.map(((e,t)=>Le(Le({},e),{},{color:r[t%r.length],percentage:a>0?e.total_amount/a*100:0})));let i=0;const l=s.map((e=>{const t=i;i+=e.percentage;const n=i;return"".concat(e.color," ").concat(t,"% ").concat(n,"%")})).join(", "),o={background:"conic-gradient(".concat(l,")")};return(0,Qe.jsxs)("div",{className:"space-y-4",children:[(0,Qe.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[(0,Qe.jsxs)("div",{className:"text-lg font-semibold text-gray-900",children:["$",a.toLocaleString()]}),(0,Qe.jsx)("div",{className:"text-sm text-gray-600",children:"Total Monthly Costs"})]}),(0,Qe.jsxs)("div",{className:"flex flex-col lg:flex-row gap-6",children:[(0,Qe.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,Qe.jsxs)("div",{className:"relative",children:[(0,Qe.jsx)("div",{className:"w-48 h-48 rounded-full border-4 border-white shadow-lg",style:o}),(0,Qe.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,Qe.jsx)("div",{className:"w-20 h-20 bg-white rounded-full flex items-center justify-center shadow-md border-2 border-gray-100",children:(0,Qe.jsxs)("div",{className:"text-center",children:[(0,Qe.jsx)("div",{className:"text-sm font-semibold text-gray-900",children:"Total"}),(0,Qe.jsxs)("div",{className:"text-xs text-gray-600",children:["$",(a/1e3).toFixed(1),"k"]})]})})})]})}),(0,Qe.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,Qe.jsx)("h4",{className:"font-medium text-gray-900",children:"Cost Breakdown"}),s.map(((e,t)=>(0,Qe.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,Qe.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Qe.jsx)("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:e.color}}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("div",{className:"font-medium text-gray-900",children:e.category_name}),e.subcategories&&e.subcategories.length>0&&(0,Qe.jsxs)("div",{className:"text-xs text-gray-500",children:[e.subcategories.length," providers"]})]})]}),(0,Qe.jsxs)("div",{className:"text-right",children:[(0,Qe.jsxs)("div",{className:"font-medium text-gray-900",children:["$",e.total_amount.toLocaleString()]}),(0,Qe.jsxs)("div",{className:"text-sm text-gray-600",children:[e.percentage.toFixed(1),"%"]})]})]},t))),0===s.length&&(0,Qe.jsx)("div",{className:"text-center text-gray-500 py-8",children:"No cost data available"})]})]}),(0,Qe.jsxs)("div",{className:"mt-6",children:[(0,Qe.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Detailed Analysis"}),(0,Qe.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.map(((e,t)=>(0,Qe.jsxs)("div",{className:"p-4 border border-gray-200 rounded-lg",children:[(0,Qe.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Qe.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),(0,Qe.jsx)("h5",{className:"font-medium text-gray-900",children:e.category_name})]}),(0,Qe.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,Qe.jsxs)("div",{className:"flex justify-between",children:[(0,Qe.jsx)("span",{className:"text-gray-600",children:"Amount:"}),(0,Qe.jsxs)("span",{className:"font-medium",children:["$",e.total_amount.toLocaleString()]})]}),(0,Qe.jsxs)("div",{className:"flex justify-between",children:[(0,Qe.jsx)("span",{className:"text-gray-600",children:"Percentage:"}),(0,Qe.jsxs)("span",{className:"font-medium",children:[e.percentage.toFixed(1),"%"]})]}),e.subcategories&&e.subcategories.length>0&&(0,Qe.jsxs)("div",{className:"mt-2",children:[(0,Qe.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Subcategories:"}),e.subcategories.map(((e,t)=>{var n;return(0,Qe.jsxs)("div",{className:"text-xs text-gray-600 ml-2",children:["\u2022 ",e.provider||e.name,": $",(null===(n=e.amount)||void 0===n?void 0:n.toFixed(2))||"0.00"]},t)}))]})]})]},t)))})]}),(0,Qe.jsxs)("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[(0,Qe.jsx)("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"\ud83d\udca1 Cost Optimization Tips"}),(0,Qe.jsx)("div",{className:"space-y-1 text-sm text-blue-800",children:s.length>0&&(0,Qe.jsxs)(Qe.Fragment,{children:[(0,Qe.jsxs)("div",{children:["\u2022 Largest expense: ",s[0].category_name," ($",s[0].total_amount.toLocaleString(),")"]}),s[0].percentage>50&&(0,Qe.jsxs)("div",{children:["\u2022 Consider negotiating better rates for ",s[0].category_name]}),s.filter((e=>e.percentage>20)).length>1&&(0,Qe.jsx)("div",{children:"\u2022 Multiple high-cost categories detected - review spending allocation"})]})})]})]})},Uo=He("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),Ho=e=>{let{data:t}=e;if(!t||0===t.length)return(0,Qe.jsx)("div",{className:"h-64 flex items-center justify-center text-gray-500",children:"No conversion data available"});const n=t.reduce(((e,t)=>e+t.total_follows),0),a=t.reduce(((e,t)=>e+t.total_follow_backs),0),r=t.reduce(((e,t)=>e+t.total_conversions),0),s=t.reduce(((e,t)=>e+t.total_revenue),0),i=n>0?a/n*100:0,l=a>0?r/a*100:0,o=n>0?r/n*100:0,c=r>0?s/r:0,d=[{name:"Total Follows",value:n,percentage:100,icon:Ge,color:"bg-blue-500",description:"Initial follows generated"},{name:"Follow Backs",value:a,percentage:i,icon:Ge,color:"bg-green-500",description:"Users who followed back"},{name:"Conversions",value:r,percentage:l,icon:ys,color:"bg-purple-500",description:"Follow backs who subscribed"},{name:"Revenue Generated",value:s,percentage:100,icon:Fo,color:"bg-amber-500",description:"Total revenue from conversions",isCurrency:!0}],u=t.filter((e=>e.total_conversions>0)).sort(((e,t)=>t.roi_percentage-e.roi_percentage)).slice(0,5);return(0,Qe.jsxs)("div",{className:"space-y-6",children:[(0,Qe.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,Qe.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[(0,Qe.jsxs)("div",{className:"text-lg font-semibold text-gray-900",children:[i.toFixed(1),"%"]}),(0,Qe.jsx)("div",{className:"text-sm text-gray-600",children:"Follow Back Rate"})]}),(0,Qe.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[(0,Qe.jsxs)("div",{className:"text-lg font-semibold text-gray-900",children:[l.toFixed(1),"%"]}),(0,Qe.jsx)("div",{className:"text-sm text-gray-600",children:"Conversion Rate"})]}),(0,Qe.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[(0,Qe.jsxs)("div",{className:"text-lg font-semibold text-gray-900",children:["$",c.toFixed(2)]}),(0,Qe.jsx)("div",{className:"text-sm text-gray-600",children:"Avg Conversion Value"})]}),(0,Qe.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[(0,Qe.jsxs)("div",{className:"text-lg font-semibold text-gray-900",children:[o.toFixed(2),"%"]}),(0,Qe.jsx)("div",{className:"text-sm text-gray-600",children:"Overall Conversion"})]})]}),(0,Qe.jsxs)("div",{className:"bg-white",children:[(0,Qe.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Conversion Funnel"}),(0,Qe.jsx)("div",{className:"space-y-4",children:d.map(((e,t)=>{const n=e.icon,a=0===t?100:Math.max(e.value/d[0].value*100,5);return(0,Qe.jsxs)("div",{className:"relative",children:[(0,Qe.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Qe.jsx)("div",{className:"p-3 rounded-full ".concat(e.color," text-white"),children:(0,Qe.jsx)(n,{className:"h-5 w-5"})}),(0,Qe.jsxs)("div",{className:"flex-1",children:[(0,Qe.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Qe.jsx)("span",{className:"font-medium text-gray-900",children:e.name}),(0,Qe.jsx)("span",{className:"text-sm text-gray-600",children:e.description})]}),(0,Qe.jsxs)("div",{className:"relative",children:[(0,Qe.jsx)("div",{className:"w-full h-8 bg-gray-100 rounded-lg overflow-hidden",children:(0,Qe.jsx)("div",{className:"h-full ".concat(e.color," transition-all duration-1000 ease-out rounded-lg flex items-center justify-center"),style:{width:"".concat(a,"%")},children:(0,Qe.jsx)("span",{className:"text-white text-sm font-medium",children:e.isCurrency?"$".concat(e.value.toLocaleString()):e.value.toLocaleString()})})}),t>0&&t<3&&(0,Qe.jsxs)("div",{className:"absolute -right-16 top-1/2 transform -translate-y-1/2 text-sm font-medium text-gray-700",children:[e.percentage.toFixed(1),"%"]})]})]})]}),t<d.length-1&&(0,Qe.jsx)("div",{className:"flex justify-center my-2",children:(0,Qe.jsx)(Uo,{className:"h-4 w-4 text-gray-400"})})]},t)}))})]}),u.length>0&&(0,Qe.jsxs)("div",{className:"bg-white",children:[(0,Qe.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Top Converting Accounts"}),(0,Qe.jsx)("div",{className:"space-y-3",children:u.map(((e,t)=>(0,Qe.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,Qe.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Qe.jsx)("div",{className:"flex items-center justify-center w-8 h-8 bg-blue-100 text-blue-700 rounded-full text-sm font-medium",children:t+1}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("div",{className:"font-medium text-gray-900",children:e.username}),(0,Qe.jsx)("div",{className:"text-sm text-gray-600",children:e.model_name})]})]}),(0,Qe.jsxs)("div",{className:"flex items-center gap-6 text-sm",children:[(0,Qe.jsxs)("div",{className:"text-center",children:[(0,Qe.jsx)("div",{className:"font-medium text-gray-900",children:e.total_conversions}),(0,Qe.jsx)("div",{className:"text-gray-600",children:"Conversions"})]}),(0,Qe.jsxs)("div",{className:"text-center",children:[(0,Qe.jsxs)("div",{className:"font-medium text-gray-900",children:[e.conversion_rate.toFixed(1),"%"]}),(0,Qe.jsx)("div",{className:"text-gray-600",children:"Rate"})]}),(0,Qe.jsxs)("div",{className:"text-center",children:[(0,Qe.jsxs)("div",{className:"font-medium text-gray-900",children:["$",e.total_revenue.toLocaleString()]}),(0,Qe.jsx)("div",{className:"text-gray-600",children:"Revenue"})]}),(0,Qe.jsxs)("div",{className:"text-center",children:[(0,Qe.jsxs)("div",{className:"font-medium ".concat(e.roi_percentage>0?"text-green-600":"text-red-600"),children:[e.roi_percentage.toFixed(0),"%"]}),(0,Qe.jsx)("div",{className:"text-gray-600",children:"ROI"})]})]})]},t)))})]}),(0,Qe.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4",children:[(0,Qe.jsx)("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"\ud83c\udfaf Conversion Insights"}),(0,Qe.jsxs)("div",{className:"space-y-1 text-sm text-blue-800",children:[i>75&&(0,Qe.jsxs)("div",{children:["\u2022 Excellent follow-back rate of ",i.toFixed(1),"% - your content is engaging!"]}),l>5&&(0,Qe.jsxs)("div",{children:["\u2022 Strong conversion rate of ",l.toFixed(1),"% - good monetization strategy"]}),l<2&&a>100&&(0,Qe.jsxs)("div",{children:["\u2022 Conversion rate of ",l.toFixed(1),"% could be improved - review your CTA strategy"]}),c>50&&(0,Qe.jsxs)("div",{children:["\u2022 High average conversion value of $",c.toFixed(2)," - premium audience"]}),u.length>0&&(0,Qe.jsxs)("div",{children:["\u2022 Top performer: ",u[0].username," with ",u[0].roi_percentage.toFixed(0),"% ROI"]})]})]})]})},qo=e=>{var t,n;let{data:r}=e;const[s,i]=(0,a.useState)("net_profit"),[l,o]=(0,a.useState)("desc");if(!r||0===r.length)return(0,Qe.jsx)("div",{className:"h-64 flex items-center justify-center text-gray-500",children:"No performance data available"});const c=e=>{s===e?o("asc"===l?"desc":"asc"):(i(e),o("desc"))},d=[...r].sort(((e,t)=>{let n,a;switch(s){case"username":n=e.username.toLowerCase(),a=t.username.toLowerCase();break;case"follow_back_rate":n=e.follow_back_rate,a=t.follow_back_rate;break;case"conversion_rate":n=e.conversion_rate,a=t.conversion_rate;break;case"total_revenue":n=e.total_revenue,a=t.total_revenue;break;case"net_profit":default:n=e.net_profit,a=t.net_profit;break;case"total_follows":n=e.total_follows,a=t.total_follows}return"string"===typeof n?"asc"===l?n.localeCompare(a):a.localeCompare(n):"asc"===l?n-a:a-n})),u=e=>{let{field:t}=e;return s!==t?(0,Qe.jsx)("div",{className:"w-4 h-4"}):"asc"===l?(0,Qe.jsx)(pi,{className:"w-4 h-4 text-blue-500"}):(0,Qe.jsx)(xi,{className:"w-4 h-4 text-blue-500"})},m=e=>{if(e<=3){const t=["bg-yellow-100 text-yellow-800","bg-gray-100 text-gray-800","bg-amber-100 text-amber-800"],n=["\ud83e\udd47","\ud83e\udd48","\ud83e\udd49"];return(0,Qe.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat(t[e-1]),children:[n[e-1]," #",e]})}return(0,Qe.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["#",e]})},p=function(e){return!(arguments.length>1&&void 0!==arguments[1])||arguments[1]||(e=-e),e>0?"text-green-600":e<0?"text-red-600":"text-gray-600"};return(0,Qe.jsxs)("div",{className:"space-y-4",children:[(0,Qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Qe.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,Qe.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Qe.jsx)(Mo,{className:"h-5 w-5 text-blue-600"}),(0,Qe.jsx)("span",{className:"font-medium text-blue-900",children:"Top Performer"})]}),(0,Qe.jsx)("div",{className:"text-lg font-semibold text-blue-900",children:(null===(t=d[0])||void 0===t?void 0:t.username)||"N/A"}),(0,Qe.jsxs)("div",{className:"text-sm text-blue-700",children:["$",(null===(n=d[0])||void 0===n?void 0:n.net_profit.toLocaleString())||"0"," profit"]})]}),(0,Qe.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,Qe.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Qe.jsx)(Ge,{className:"h-5 w-5 text-green-600"}),(0,Qe.jsx)("span",{className:"font-medium text-green-900",children:"Best Follow Rate"})]}),(0,Qe.jsxs)("div",{className:"text-lg font-semibold text-green-900",children:[Math.max(...d.map((e=>e.follow_back_rate))).toFixed(1),"%"]}),(0,Qe.jsx)("div",{className:"text-sm text-green-700",children:"Follow back rate"})]}),(0,Qe.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg",children:[(0,Qe.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Qe.jsx)(ys,{className:"h-5 w-5 text-purple-600"}),(0,Qe.jsx)("span",{className:"font-medium text-purple-900",children:"Best Conversion"})]}),(0,Qe.jsxs)("div",{className:"text-lg font-semibold text-purple-900",children:[Math.max(...d.map((e=>e.conversion_rate))).toFixed(1),"%"]}),(0,Qe.jsx)("div",{className:"text-sm text-purple-700",children:"Conversion rate"})]}),(0,Qe.jsxs)("div",{className:"bg-amber-50 p-4 rounded-lg",children:[(0,Qe.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Qe.jsx)(Fo,{className:"h-5 w-5 text-amber-600"}),(0,Qe.jsx)("span",{className:"font-medium text-amber-900",children:"Total Revenue"})]}),(0,Qe.jsxs)("div",{className:"text-lg font-semibold text-amber-900",children:["$",d.reduce(((e,t)=>e+t.total_revenue),0).toLocaleString()]}),(0,Qe.jsx)("div",{className:"text-sm text-amber-700",children:"Combined revenue"})]})]}),(0,Qe.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:(0,Qe.jsx)("div",{className:"overflow-x-auto",children:(0,Qe.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Qe.jsx)("thead",{className:"bg-gray-50",children:(0,Qe.jsxs)("tr",{children:[(0,Qe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rank"}),(0,Qe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>c("username"),children:(0,Qe.jsxs)("div",{className:"flex items-center gap-1",children:["Account",(0,Qe.jsx)(u,{field:"username"})]})}),(0,Qe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>c("total_follows"),children:(0,Qe.jsxs)("div",{className:"flex items-center gap-1",children:["Follows",(0,Qe.jsx)(u,{field:"total_follows"})]})}),(0,Qe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>c("follow_back_rate"),children:(0,Qe.jsxs)("div",{className:"flex items-center gap-1",children:["Follow Back Rate",(0,Qe.jsx)(u,{field:"follow_back_rate"})]})}),(0,Qe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>c("conversion_rate"),children:(0,Qe.jsxs)("div",{className:"flex items-center gap-1",children:["Conversion Rate",(0,Qe.jsx)(u,{field:"conversion_rate"})]})}),(0,Qe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>c("total_revenue"),children:(0,Qe.jsxs)("div",{className:"flex items-center gap-1",children:["Revenue",(0,Qe.jsx)(u,{field:"total_revenue"})]})}),(0,Qe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>c("net_profit"),children:(0,Qe.jsxs)("div",{className:"flex items-center gap-1",children:["Net Profit",(0,Qe.jsx)(u,{field:"net_profit"})]})}),(0,Qe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"vs Average"})]})}),(0,Qe.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:d.map(((e,t)=>{return(0,Qe.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Qe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:m(t+1)}),(0,Qe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.username}),(0,Qe.jsx)("div",{className:"text-sm text-gray-500",children:e.model_name})]})}),(0,Qe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.total_follows.toLocaleString()}),(0,Qe.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,Qe.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:[e.follow_back_rate.toFixed(1),"%"]}),(0,Qe.jsxs)("div",{className:"text-xs text-gray-500",children:["Rank #",e.follow_back_rank]})]}),(0,Qe.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,Qe.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:[e.conversion_rate.toFixed(1),"%"]}),(0,Qe.jsxs)("div",{className:"text-xs text-gray-500",children:[e.total_conversions," conversions"]})]}),(0,Qe.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["$",e.total_revenue.toLocaleString()]}),(0,Qe.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,Qe.jsxs)("div",{className:"text-sm font-medium ".concat(p(e.net_profit)),children:["$",e.net_profit.toLocaleString()]}),(0,Qe.jsxs)("div",{className:"text-xs text-gray-500",children:["Cost: $",e.monthly_cost.toFixed(2)]})]}),(0,Qe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Qe.jsx)("span",{className:"text-sm font-medium ".concat(p(e.comparison_to_average)),children:(n=e.comparison_to_average,n>0?"+".concat(n.toFixed(1),"%"):n<0?"".concat(n.toFixed(1),"%"):"0%")})})]},e.account_id);var n}))})]})})}),(0,Qe.jsxs)("div",{className:"bg-green-50 rounded-lg p-4",children:[(0,Qe.jsx)("h4",{className:"text-sm font-medium text-green-900 mb-2",children:"\ud83d\udcca Performance Insights"}),(0,Qe.jsx)("div",{className:"space-y-1 text-sm text-green-800",children:d.length>0&&(0,Qe.jsxs)(Qe.Fragment,{children:[(0,Qe.jsxs)("div",{children:["\u2022 Best performing account: ",d[0].username," with $",d[0].net_profit.toLocaleString()," profit"]}),d.filter((e=>e.follow_back_rate>80)).length>0&&(0,Qe.jsxs)("div",{children:["\u2022 ",d.filter((e=>e.follow_back_rate>80)).length," accounts have excellent follow-back rates (80%+)"]}),d.filter((e=>e.conversion_rate>5)).length>0&&(0,Qe.jsxs)("div",{children:["\u2022 ",d.filter((e=>e.conversion_rate>5)).length," accounts have strong conversion rates (5%+)"]}),d.filter((e=>e.net_profit>1e3)).length>0&&(0,Qe.jsxs)("div",{children:["\u2022 ",d.filter((e=>e.net_profit>1e3)).length," accounts generate $1000+ monthly profit"]})]})})]})]})},Wo=e=>{let{title:t,value:n,icon:a,trend:r="neutral",trendValue:s,description:i,loading:l=!1}=e;const o="up"===r?js:"down"===r?ws:null;return l?(0,Qe.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:(0,Qe.jsxs)("div",{className:"animate-pulse",children:[(0,Qe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Qe.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),(0,Qe.jsx)("div",{className:"h-6 w-6 bg-gray-200 rounded"})]}),(0,Qe.jsx)("div",{className:"h-8 bg-gray-200 rounded w-3/4 mb-2"}),(0,Qe.jsx)("div",{className:"h-3 bg-gray-200 rounded w-full"})]})}):(0,Qe.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[(0,Qe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Qe.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:t}),(0,Qe.jsx)(a,{className:"h-6 w-6 text-gray-400"})]}),(0,Qe.jsx)("div",{className:"mb-2",children:(0,Qe.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:n})}),"neutral"!==r&&void 0!==s&&(0,Qe.jsxs)("div",{className:"flex items-center gap-1 text-sm ".concat((()=>{switch(r){case"up":return"text-green-600";case"down":return"text-red-600";default:return"text-gray-500"}})()),children:[o&&(0,Qe.jsx)(o,{className:"h-4 w-4"}),(0,Qe.jsxs)("span",{children:["up"===r?"+":"-",Math.abs(s).toFixed(1),"%"]}),(0,Qe.jsx)("span",{className:"text-gray-500",children:"vs last period"})]}),i&&(0,Qe.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:i})]})},Go=()=>{const[e,t]=(0,a.useState)([]),[n,r]=(0,a.useState)({date_from:new Date(Date.now()-2592e6).toISOString().split("T")[0],date_to:(new Date).toISOString().split("T")[0]}),[s,i]=(0,a.useState)(null),[l,o]=(0,a.useState)(null),[c,d]=(0,a.useState)(null),[u,m]=(0,a.useState)(null),[p,x]=(0,a.useState)(null),[h,f]=(0,a.useState)([]),[g,b]=(0,a.useState)(!0),[v,y]=(0,a.useState)(!1);(0,a.useEffect)((()=>{j()}),[]),(0,a.useEffect)((()=>{g||w()}),[n]);const j=async()=>{try{b(!0);const[e,n]=await Promise.all([Wr.getModels(),Wr.getProxyProviders()]);t(e),f(n),await w()}catch(e){console.error("Failed to load initial data:",e),qt.error("Failed to load analytics data")}finally{b(!1)}},w=async()=>{try{y(!0);const[e,t,a,r,s]=await Promise.all([Wr.getDashboardAnalytics(n),Wr.getFollowBackRates({model_id:n.model_id,limit:50,sort_by:"follow_back_rate",sort_order:"desc"}),Wr.getProfitMarginBreakdown(n.model_id),Wr.getConversionFunnel({model_id:n.model_id}),Wr.getBestPerformers({model_id:n.model_id,metric_type:"profit",limit:10})]);i(e.data),o(t),d(a),m(r),x(s)}catch(e){console.error("Failed to load analytics:",e),qt.error("Failed to refresh analytics data")}finally{y(!1)}},N=(e,t)=>{r((n=>Le(Le({},n),{},{[e]:""===t?void 0:t})))};if(g)return(0,Qe.jsx)("div",{className:"flex justify-center items-center min-h-screen",children:(0,Qe.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});const k=e.find((e=>e.id===n.model_id));return(0,Qe.jsxs)("div",{className:"p-6 max-w-7xl mx-auto space-y-6",children:[(0,Qe.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Analytics Dashboard"}),(0,Qe.jsx)("p",{className:"text-gray-600 mt-1",children:"Comprehensive analytics for Instagram account performance"})]}),(0,Qe.jsxs)("div",{className:"flex items-center gap-3 mt-4 sm:mt-0",children:[(0,Qe.jsxs)("button",{onClick:()=>{w()},disabled:v,className:"btn-ghost flex items-center gap-2",children:[(0,Qe.jsx)(zs,{className:"h-4 w-4 ".concat(v?"animate-spin":"")}),"Refresh"]}),(0,Qe.jsxs)("button",{onClick:async()=>{try{qt.success("Analytics data exported successfully")}catch(e){qt.error("Failed to export data")}},className:"btn-ghost flex items-center gap-2",children:[(0,Qe.jsx)(tt,{className:"h-4 w-4"}),"Export"]})]})]}),(0,Qe.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[(0,Qe.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,Qe.jsx)(et,{className:"h-5 w-5 text-gray-500"}),(0,Qe.jsx)("h3",{className:"font-medium text-gray-900",children:"Filters"})]}),(0,Qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Model"}),(0,Qe.jsxs)("select",{value:n.model_id||"",onChange:e=>N("model_id",e.target.value?parseInt(e.target.value):void 0),className:"form-select w-full",children:[(0,Qe.jsx)("option",{value:"",children:"All Models"}),e.map((e=>(0,Qe.jsx)("option",{value:e.id,children:e.name},e.id)))]})]}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"From Date"}),(0,Qe.jsx)("input",{type:"date",value:n.date_from||"",onChange:e=>N("date_from",e.target.value),className:"form-input w-full"})]}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"To Date"}),(0,Qe.jsx)("input",{type:"date",value:n.date_to||"",onChange:e=>N("date_to",e.target.value),className:"form-input w-full"})]})]}),k&&(0,Qe.jsx)("div",{className:"mt-3 p-3 bg-blue-50 rounded-md",children:(0,Qe.jsxs)("p",{className:"text-sm text-blue-700",children:["Showing data for: ",(0,Qe.jsx)("span",{className:"font-medium",children:k.name})]})})]}),s&&(0,Qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,Qe.jsx)(Wo,{title:"Follow Back Rate",value:"".concat(s.overall_follow_back_rate.toFixed(1),"%"),icon:Ge,trend:"up",trendValue:2.3,description:"Average follow-back rate across all accounts"}),(0,Qe.jsx)(Wo,{title:"Total Revenue",value:"$".concat(s.total_revenue.toLocaleString()),icon:Fo,trend:"up",trendValue:15.2,description:"Total revenue generated this period"}),(0,Qe.jsx)(Wo,{title:"Conversion Rate",value:"".concat(s.overall_conversion_rate.toFixed(2),"%"),icon:ys,trend:"up",trendValue:8.7,description:"Follow-to-subscription conversion rate"}),(0,Qe.jsx)(Wo,{title:"Profit Margin",value:"".concat(s.profit_margin_percentage.toFixed(1),"%"),icon:js,trend:s.profit_margin_percentage>0?"up":"down",trendValue:Math.abs(s.profit_margin_percentage),description:"Net profit margin after all costs"})]}),(0,Qe.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Qe.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,Qe.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,Qe.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[(0,Qe.jsx)($e,{className:"h-5 w-5"}),"Follow Back Rate Analysis"]})}),l?(0,Qe.jsx)(zo,{data:l.data}):(0,Qe.jsx)("div",{className:"h-64 flex items-center justify-center text-gray-500",children:"Loading follow back data..."})]}),(0,Qe.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,Qe.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,Qe.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[(0,Qe.jsx)(Lo,{className:"h-5 w-5"}),"Cost Breakdown"]})}),c?(0,Qe.jsx)(Bo,{data:c.data}):(0,Qe.jsx)("div",{className:"h-64 flex items-center justify-center text-gray-500",children:"Loading profit data..."})]})]}),(0,Qe.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,Qe.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,Qe.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[(0,Qe.jsx)(Qr,{className:"h-5 w-5"}),"Conversion Funnel"]})}),u?(0,Qe.jsx)(Ho,{data:u.data}):(0,Qe.jsx)("div",{className:"h-64 flex items-center justify-center text-gray-500",children:"Loading conversion data..."})]}),(0,Qe.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,Qe.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,Qe.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[(0,Qe.jsx)(Mo,{className:"h-5 w-5"}),"Best Performing Accounts"]})}),p?(0,Qe.jsx)(qo,{data:p.data}):(0,Qe.jsx)("div",{className:"h-64 flex items-center justify-center text-gray-500",children:"Loading performance data..."})]}),(0,Qe.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,Qe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Proxy Provider Status"}),(0,Qe.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.map(((e,t)=>(0,Qe.jsxs)("div",{className:"p-4 border border-gray-200 rounded-lg",children:[(0,Qe.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Qe.jsx)("h4",{className:"font-medium text-gray-900",children:e.name}),(0,Qe.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat(e.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.is_active?"Active":"Inactive"})]}),(0,Qe.jsxs)("div",{className:"space-y-1 text-sm text-gray-600",children:[(0,Qe.jsxs)("p",{children:["Accounts: ",e.accounts_count||0]}),(0,Qe.jsxs)("p",{children:["Monthly Cost: $",(e.total_monthly_cost||0).toFixed(2)]}),(0,Qe.jsxs)("p",{children:["Cost per Proxy: $",(e.monthly_cost_per_proxy||0).toFixed(2)]})]})]},t)))})]})]})},Vo=He("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]),$o=He("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Ko=e=>{let{isOpen:t,onClose:n,onSuccess:r,editText:s}=e;const[i,l]=(0,a.useState)(""),[o,c]=(0,a.useState)(""),[d,u]=(0,a.useState)("en"),[m,p]=(0,a.useState)([]),[x,h]=(0,a.useState)([]),[f,g]=(0,a.useState)(""),[b,v]=(0,a.useState)(""),[y,j]=(0,a.useState)(""),[w,N]=(0,a.useState)("single"),[k,S]=(0,a.useState)(!1),[C,_]=(0,a.useState)(10),[E,I]=(0,a.useState)([]),[P,D]=(0,a.useState)([]),[A,O]=(0,a.useState)(!1),[T,R]=(0,a.useState)("");(0,a.useEffect)((()=>{t&&(F(),s&&(l(s.text_content),c(s.template_name||""),u(s.language),p(s.categories||[]),h(s.tags||[])))}),[t,s]);const F=async()=>{try{const e=await fetch("/api/central/bundles");if(e.ok){const t=await e.json();I(t.filter((e=>"mixed"===e.bundle_type||"text"===e.bundle_type)))}}catch(e){console.error("Failed to fetch bundles:",e)}},L=()=>{f&&!m.includes(f)&&(p([...m,f]),g(""))},M=e=>{p(m.filter((t=>t!==e)))},z=()=>{b&&!x.includes(b)&&(h([...x,b]),v(""))},B=async()=>{if(T.trim())try{const e=await fetch("/api/central/bundles",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:T,description:"Text bundle created during text creation",bundle_type:"text",categories:m,tags:x,created_by:"user"})});if(e.ok){const t=await e.json();I((e=>[...e,t])),D((e=>[...e,t.id])),R(""),O(!1),qt.success('Bundle "'.concat(T,'" created and selected'))}}catch(e){qt.error("Failed to create bundle")}else qt.error("Bundle name is required")},U=()=>{l(""),c(""),u("en"),p([]),h([]),g(""),v(""),j(""),N("single"),D([]),O(!1),R(""),_(10),n()};return t?(0,Qe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Qe.jsxs)("div",{className:"bg-white rounded-lg max-w-6xl w-full max-h-[95vh] overflow-hidden flex flex-col",children:[(0,Qe.jsxs)("div",{className:"flex items-center justify-between p-6 border-b bg-gradient-to-r from-green-50 to-blue-50",children:[(0,Qe.jsxs)("div",{children:[(0,Qe.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[(0,Qe.jsx)(Zr,{className:"w-7 h-7 text-green-600"}),s?"Edit Text Content":"Create Text Content"]}),(0,Qe.jsx)("p",{className:"text-gray-600 mt-1",children:"Create text content and assign to bundles"})]}),(0,Qe.jsx)("button",{onClick:U,className:"text-gray-400 hover:text-gray-600 p-2 hover:bg-gray-100 rounded-full transition-colors",children:(0,Qe.jsx)(ts,{className:"w-6 h-6"})})]}),(0,Qe.jsxs)("div",{className:"flex-1 overflow-y-auto p-6",children:[!s&&(0,Qe.jsxs)("div",{className:"flex items-center gap-4 mb-6 p-4 bg-gray-50 rounded-lg",children:[(0,Qe.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:"Creation Mode:"}),(0,Qe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Qe.jsxs)("button",{onClick:()=>N("single"),className:"px-4 py-2 rounded-full text-sm font-medium transition-colors ".concat("single"===w?"bg-green-100 text-green-800 ring-2 ring-green-300":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:["single"===w&&(0,Qe.jsx)(ns,{className:"w-3 h-3 inline mr-1"}),"Single Text"]}),(0,Qe.jsxs)("button",{onClick:()=>N("bulk"),className:"px-4 py-2 rounded-full text-sm font-medium transition-colors ".concat("bulk"===w?"bg-green-100 text-green-800 ring-2 ring-green-300":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:["bulk"===w&&(0,Qe.jsx)(ns,{className:"w-3 h-3 inline mr-1"}),"Bulk Import"]})]})]}),(0,Qe.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,Qe.jsx)("div",{className:"space-y-6",children:(0,Qe.jsxs)("div",{children:[(0,Qe.jsxs)("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center gap-2",children:[(0,Qe.jsx)(Zr,{className:"w-5 h-5 text-green-600"}),"Text Content"]}),"single"===w?(0,Qe.jsx)("div",{className:"space-y-4",children:(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Text Content *"}),(0,Qe.jsx)("textarea",{value:i,onChange:e=>l(e.target.value),placeholder:"Enter your text content...",className:"form-textarea w-full",rows:6}),(0,Qe.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,Qe.jsx)("input",{type:"number",value:C,onChange:e=>_(parseInt(e.target.value)),className:"form-input w-24",min:"1",max:"500"}),(0,Qe.jsxs)("button",{onClick:async()=>{if(i.trim())if(C<1||C>500)qt.error("Please enter a number of variations between 1 and 500.");else try{S(!0);let e=[];const t=m.includes("username"),n=m.includes("bio");if(t||n){const n=t?"/api/central/generate-username-variations":"/api/central/generate-bio-variations",a=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:i,count:C})});if(!a.ok)throw new Error("Failed to generate ".concat(t?"username":"bio"," variations"));e=(await a.json()).variations||[]}else e=[i,i.replace(/\b(hi|hello|hey)\b/gi,"Hello there"),i.replace(/\b(you)\b/gi,"you"),i+" \ud83d\ude0a",i.replace(/\.$/,"!"),i.replace(/\b(great|good|nice)\b/gi,"amazing")].filter(((e,t,n)=>n.indexOf(e)===t&&e!==i));e.length>0?(j(e.join("\n")),N("bulk"),qt.success("Generated ".concat(e.length," ").concat(t?"username":n?"bio":""," variations"))):qt.success("No variations could be generated for this text")}catch(e){console.error("Generation error:",e),qt.error("Failed to generate variations")}finally{S(!1)}else qt.error("Enter some text first to generate variations")},className:"btn-secondary flex-1 flex items-center justify-center gap-2 text-sm",disabled:k,children:[(0,Qe.jsx)(Vo,{className:"w-4 h-4"}),m.includes("username")?"Generate Usernames":m.includes("bio")?"Generate Bios":"Generate Variations"]}),(0,Qe.jsxs)("button",{onClick:()=>{i.trim()&&(j(i),N("bulk"))},className:"btn-secondary flex items-center gap-2 text-sm",children:[(0,Qe.jsx)($o,{className:"w-4 h-4"}),"Copy to Bulk"]})]})]})}):(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bulk Text Content (one per line) *"}),(0,Qe.jsx)("textarea",{value:y,onChange:e=>j(e.target.value),placeholder:"Enter multiple text lines, one per line...",className:"form-textarea w-full",rows:8}),(0,Qe.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,Qe.jsxs)("p",{className:"text-sm text-gray-500",children:[y.split("\n").filter((e=>e.trim())).length," text items"]}),(0,Qe.jsx)("button",{onClick:()=>N("single"),className:"text-sm text-blue-600 hover:text-blue-800",children:"Switch to Single Mode"})]})]}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Template Name"}),(0,Qe.jsx)("div",{className:"flex gap-2 mb-2",children:(0,Qe.jsx)("input",{type:"text",value:o,onChange:e=>c(e.target.value),placeholder:"Enter template name",className:"form-input flex-1"})}),(0,Qe.jsx)("div",{className:"flex flex-wrap gap-2",children:["greeting","introduction","call_to_action","question","compliment","conversation_starter","follow_up","closing"].map((e=>(0,Qe.jsx)("button",{onClick:()=>c(e),className:"px-2 py-1 bg-gray-100 text-gray-700 rounded text-sm hover:bg-gray-200 transition-colors",children:e},e)))})]}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Language"}),(0,Qe.jsxs)("select",{value:d,onChange:e=>u(e.target.value),className:"form-select w-full",children:[(0,Qe.jsx)("option",{value:"en",children:"English"}),(0,Qe.jsx)("option",{value:"es",children:"Spanish"}),(0,Qe.jsx)("option",{value:"fr",children:"French"}),(0,Qe.jsx)("option",{value:"de",children:"German"}),(0,Qe.jsx)("option",{value:"it",children:"Italian"}),(0,Qe.jsx)("option",{value:"pt",children:"Portuguese"})]})]})]})}),(0,Qe.jsx)("div",{className:"space-y-6",children:(0,Qe.jsxs)("div",{children:[(0,Qe.jsxs)("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center gap-2",children:[(0,Qe.jsx)(wo,{className:"w-5 h-5 text-blue-600"}),"Classification & Assignment"]}),(0,Qe.jsxs)("div",{className:"mb-6",children:[(0,Qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categories"}),(0,Qe.jsx)("div",{className:"flex flex-wrap gap-2 mb-2",children:["pfp","bio","post","highlight","story","any","username"].map((e=>(0,Qe.jsxs)("button",{onClick:()=>(e=>{m.includes(e)?M(e):p([...m,e])})(e),className:"px-3 py-1 rounded-full text-sm font-medium transition-colors ".concat(m.includes(e)?"bg-blue-100 text-blue-800 ring-2 ring-blue-300":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[m.includes(e)&&(0,Qe.jsx)(ns,{className:"w-3 h-3 inline mr-1"}),e]},e)))}),(0,Qe.jsxs)("div",{className:"flex gap-2",children:[(0,Qe.jsx)("input",{type:"text",value:f,onChange:e=>g(e.target.value),placeholder:"Add custom category",className:"form-input flex-1",onKeyPress:e=>"Enter"===e.key&&L()}),(0,Qe.jsx)("button",{onClick:L,className:"btn-secondary",children:(0,Qe.jsx)(Xe,{className:"w-4 h-4"})})]}),m.length>0&&(0,Qe.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:m.map((e=>(0,Qe.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:[e,(0,Qe.jsx)("button",{onClick:()=>M(e),className:"text-blue-600 hover:text-blue-800",children:(0,Qe.jsx)(ts,{className:"w-3 h-3"})})]},e)))})]}),(0,Qe.jsxs)("div",{className:"mb-6",children:[(0,Qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags"}),(0,Qe.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,Qe.jsx)("input",{type:"text",value:b,onChange:e=>v(e.target.value),placeholder:"Add tag",className:"form-input flex-1",onKeyPress:e=>"Enter"===e.key&&z()}),(0,Qe.jsx)("button",{onClick:z,className:"btn-secondary",children:(0,Qe.jsx)(wo,{className:"w-4 h-4"})})]}),x.length>0&&(0,Qe.jsx)("div",{className:"flex flex-wrap gap-2",children:x.map((e=>(0,Qe.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-100 text-green-800 rounded-full text-sm",children:[e,(0,Qe.jsx)("button",{onClick:()=>(e=>{h(x.filter((t=>t!==e)))})(e),className:"text-green-600 hover:text-green-800",children:(0,Qe.jsx)(ts,{className:"w-3 h-3"})})]},e)))})]}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[(0,Qe.jsx)(Ve,{className:"w-4 h-4"}),"Assign to Bundles (",P.length," selected)"]}),(0,Qe.jsx)("div",{className:"space-y-2 max-h-40 overflow-y-auto mb-3 border rounded-lg p-2",children:E.map((e=>(0,Qe.jsxs)("label",{className:"flex items-center gap-2 p-2 hover:bg-gray-50 rounded cursor-pointer",children:[(0,Qe.jsx)("input",{type:"checkbox",checked:P.includes(e.id),onChange:()=>{return t=e.id,void(P.includes(t)?D(P.filter((e=>e!==t))):D([...P,t]));var t},className:"form-checkbox"}),(0,Qe.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Qe.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.name}),(0,Qe.jsxs)("p",{className:"text-xs text-gray-500",children:[e.bundle_type," \u2022 ",e.text_count," texts"]})]})]},e.id)))}),A?(0,Qe.jsxs)("div",{className:"space-y-2 p-3 bg-green-50 rounded-lg",children:[(0,Qe.jsx)("input",{type:"text",value:T,onChange:e=>R(e.target.value),placeholder:"Bundle name",className:"form-input w-full text-sm",onKeyPress:e=>"Enter"===e.key&&B()}),(0,Qe.jsxs)("div",{className:"flex gap-2",children:[(0,Qe.jsx)("button",{onClick:B,className:"btn-primary flex-1 text-sm py-1",children:"Create Bundle"}),(0,Qe.jsx)("button",{onClick:()=>O(!1),className:"btn-secondary flex-1 text-sm py-1",children:"Cancel"})]})]}):(0,Qe.jsxs)("button",{onClick:()=>O(!0),className:"w-full text-sm text-green-600 hover:text-green-800 font-medium flex items-center justify-center gap-1 py-2 border border-green-200 rounded hover:bg-green-50 transition-colors",children:[(0,Qe.jsx)(Xe,{className:"w-4 h-4"}),"Create New Text Bundle"]})]}),(i||y)&&(0,Qe.jsxs)("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[(0,Qe.jsxs)("h4",{className:"text-sm font-medium text-gray-900 mb-2 flex items-center gap-2",children:[(0,Qe.jsx)(Zr,{className:"w-4 h-4"}),"Preview"]}),"single"===w?(0,Qe.jsxs)("p",{className:"text-sm text-gray-700 italic",children:['"',i,'"']}):(0,Qe.jsxs)("div",{className:"space-y-1",children:[y.split("\n").filter((e=>e.trim())).slice(0,3).map(((e,t)=>(0,Qe.jsxs)("p",{className:"text-sm text-gray-700 italic",children:['"',e,'"']},t))),y.split("\n").filter((e=>e.trim())).length>3&&(0,Qe.jsxs)("p",{className:"text-sm text-gray-500",children:["...and ",y.split("\n").filter((e=>e.trim())).length-3," more"]})]})]})]})})]})]}),(0,Qe.jsxs)("div",{className:"flex items-center justify-between p-6 border-t bg-gray-50",children:[(0,Qe.jsx)("div",{className:"text-sm text-gray-600",children:(0,Qe.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Qe.jsx)("span",{children:"single"===w?"".concat(i.length," characters"):"".concat(y.split("\n").filter((e=>e.trim())).length," text items")}),P.length>0&&(0,Qe.jsxs)(Qe.Fragment,{children:[(0,Qe.jsx)("span",{children:"\u2022"}),(0,Qe.jsxs)("span",{children:[P.length," bundles selected"]})]})]})}),(0,Qe.jsxs)("div",{className:"flex gap-3",children:[(0,Qe.jsx)("button",{onClick:U,className:"btn-secondary",disabled:k,children:"Cancel"}),(0,Qe.jsx)("button",{onClick:async()=>{if("single"!==w||i.trim())if("bulk"!==w||y.trim()){S(!0);try{const e=[];if("single"===w){const t={text_content:i,template_name:o||void 0,language:d,categories:m,tags:x,created_by:"user"},n=await fetch(s?"/api/central/text-content/".concat(s.id):"/api/central/text-content",{method:s?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok)throw new Error("Failed to save text content");const a=await n.json();e.push(a),qt.success("Text content ".concat(s?"updated":"created"," successfully"))}else{const t=y.split("\n").map((e=>e.trim())).filter((e=>e.length>0));if(0===t.length)return void qt.error("No valid text lines found");const n=t.map(((e,t)=>fetch("/api/central/text-content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text_content:e,template_name:o?"".concat(o,"_").concat(t+1):void 0,language:d,categories:m,tags:x,created_by:"user"})}))),a=await Promise.allSettled(n),r=a.filter((e=>"fulfilled"===e.status)),s=a.length-r.length;for(const i of r)if("fulfilled"===i.status){const t=i.value;if(t.ok){const n=await t.json();e.push(n)}}r.length>0?qt.success("Created ".concat(r.length," text items").concat(s>0?" (".concat(s," failed)"):"")):qt.error("Failed to create text content")}if(P.length>0&&e.length>0){const t=[];for(const n of e)for(const e of P)t.push(fetch("/api/central/bundles/".concat(e,"/add-content"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text_content_id:n.id,assignment_order:0})}));await Promise.allSettled(t)}r(),U()}catch(e){console.error("Error creating text content:",e),qt.error("Failed to save text content")}finally{S(!1)}}else qt.error("Bulk text content is required");else qt.error("Text content is required")},disabled:k||"single"===w&&!i.trim()||"bulk"===w&&!y.trim(),className:"btn-primary flex items-center gap-2",children:k?(0,Qe.jsxs)(Qe.Fragment,{children:[(0,Qe.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Creating..."]}):(0,Qe.jsxs)(Qe.Fragment,{children:[(0,Qe.jsx)(Zr,{className:"w-4 h-4"}),s?"Update Text":"Create Text"]})})]})]})]})}):null},Jo=e=>{let{isOpen:t,onClose:n,selectedContentIds:r,selectedTextIds:s,onSuccess:i}=e;const[l,o]=(0,a.useState)([]),[c,d]=(0,a.useState)(new Set),[u,m]=(0,a.useState)(!0),[p,x]=(0,a.useState)(!1),[h,f]=(0,a.useState)(null);(0,a.useEffect)((()=>{t&&g()}),[t]);const g=async()=>{try{m(!0);const e=await fetch("/api/central/bundles");if(e.ok){const t=await e.json();o(t)}}catch(e){console.error("Failed to load bundles:",e),qt.error("Failed to load bundles")}finally{m(!1)}},b=()=>{d(new Set),f(null),n()};if(!t)return null;const v=r.length+s.length;return(0,Qe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Qe.jsxs)("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[(0,Qe.jsxs)("div",{className:"flex items-center justify-between p-6 border-b bg-gradient-to-r from-purple-50 to-blue-50",children:[(0,Qe.jsxs)("div",{children:[(0,Qe.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[(0,Qe.jsx)(Ve,{className:"w-7 h-7 text-purple-600"}),"Batch Assign to Bundles"]}),(0,Qe.jsxs)("p",{className:"text-gray-600 mt-1",children:["Assign ",v," selected item",1!==v?"s":""," to bundles",r.length>0&&" (".concat(r.length," content)"),s.length>0&&" (".concat(s.length," text)")]})]}),(0,Qe.jsx)("button",{onClick:b,className:"text-gray-400 hover:text-gray-600 p-2 hover:bg-gray-100 rounded-full transition-colors",children:(0,Qe.jsx)(ts,{className:"w-6 h-6"})})]}),(0,Qe.jsx)("div",{className:"flex-1 overflow-y-auto p-6",children:u?(0,Qe.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,Qe.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):h?(0,Qe.jsxs)("div",{className:"space-y-4",children:[(0,Qe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Assignment Results"}),h.map((e=>(0,Qe.jsx)("div",{className:"border rounded-lg p-4 ".concat(e.success?"border-green-200 bg-green-50":"border-red-200 bg-red-50"),children:(0,Qe.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Qe.jsx)("div",{className:"w-6 h-6 rounded-full flex items-center justify-center ".concat(e.success?"bg-green-600 text-white":"bg-red-600 text-white"),children:e.success?(0,Qe.jsx)(ns,{className:"w-4 h-4"}):(0,Qe.jsx)(ts,{className:"w-4 h-4"})}),(0,Qe.jsxs)("div",{className:"flex-1",children:[(0,Qe.jsx)("h4",{className:"font-medium text-gray-900",children:e.bundleName}),e.success?(0,Qe.jsxs)("div",{className:"text-sm text-green-700 mt-1",children:[(0,Qe.jsx)("p",{children:e.result.message}),e.result.results&&(0,Qe.jsxs)("p",{className:"text-xs mt-1",children:[e.result.results.total_success," successful, ",e.result.results.total_errors," errors"]})]}):(0,Qe.jsx)("p",{className:"text-sm text-red-700 mt-1",children:e.error})]})]})},e.bundleId)))]}):(0,Qe.jsxs)("div",{children:[(0,Qe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Qe.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Select Bundles"}),(0,Qe.jsxs)("div",{className:"flex gap-2",children:[(0,Qe.jsx)("button",{onClick:()=>{d(new Set(l.map((e=>e.id))))},className:"btn-secondary text-sm",children:"Select All"}),(0,Qe.jsx)("button",{onClick:()=>{d(new Set)},className:"btn-secondary text-sm",children:"Clear Selection"})]})]}),0===l.length?(0,Qe.jsxs)("div",{className:"text-center py-12",children:[(0,Qe.jsx)(Ve,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),(0,Qe.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Bundles Available"}),(0,Qe.jsx)("p",{className:"text-gray-500",children:"Create a bundle first to assign content to it."})]}):(0,Qe.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:l.map((e=>(0,Qe.jsx)("div",{onClick:()=>(e=>{const t=new Set(c);t.has(e)?t.delete(e):t.add(e),d(t)})(e.id),className:"border rounded-lg p-4 cursor-pointer transition-all ".concat(c.has(e.id)?"border-blue-500 bg-blue-50 ring-2 ring-blue-200":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"),children:(0,Qe.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Qe.jsx)("div",{className:"w-6 h-6 rounded border-2 flex items-center justify-center mt-1 ".concat(c.has(e.id)?"bg-blue-600 border-blue-600 text-white":"border-gray-300"),children:c.has(e.id)&&(0,Qe.jsx)(Gr,{className:"w-4 h-4"})}),(0,Qe.jsxs)("div",{className:"flex-1",children:[(0,Qe.jsx)("h4",{className:"font-medium text-gray-900",children:e.name}),e.description&&(0,Qe.jsx)("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:e.description}),(0,Qe.jsxs)("div",{className:"flex items-center gap-4 text-xs text-gray-500 mt-2",children:[(0,Qe.jsx)("span",{className:"px-2 py-1 rounded-full ".concat("mixed"===e.bundle_type?"bg-purple-100 text-purple-800":"image"===e.bundle_type?"bg-blue-100 text-blue-800":"video"===e.bundle_type?"bg-red-100 text-red-800":"bg-green-100 text-green-800"),children:e.bundle_type}),(0,Qe.jsxs)("span",{children:[e.content_count," content"]}),(0,Qe.jsxs)("span",{children:[e.text_count," text"]})]})]})]})},e.id)))})]})}),(0,Qe.jsxs)("div",{className:"flex items-center justify-between p-6 border-t bg-gray-50",children:[h?(0,Qe.jsxs)("div",{className:"text-sm text-gray-600",children:["Assignment completed for ",h.length," bundle(s)"]}):(0,Qe.jsxs)("div",{className:"text-sm text-gray-600",children:[c.size," bundle(s) selected"]}),(0,Qe.jsxs)("div",{className:"flex gap-3",children:[(0,Qe.jsx)("button",{onClick:b,className:"btn-secondary",children:h?"Close":"Cancel"}),!h&&(0,Qe.jsx)("button",{onClick:async()=>{if(0!==c.size)try{x(!0);const a=[];for(const i of Array.from(c))try{var e;const t=await fetch("/api/central/bundles/".concat(i,"/add-content/batch"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content_ids:r,text_content_ids:s,assignment_order:0})}),n=await t.json(),o=(null===(e=l.find((e=>e.id===i)))||void 0===e?void 0:e.name)||"Bundle ".concat(i);a.push({bundleId:i,bundleName:o,success:t.ok,result:n,error:t.ok?null:n.error||"Unknown error"})}catch(n){var t;const e=(null===(t=l.find((e=>e.id===i)))||void 0===t?void 0:t.name)||"Bundle ".concat(i);a.push({bundleId:i,bundleName:e,success:!1,result:null,error:n instanceof Error?n.message:"Network error"})}f(a);const o=a.filter((e=>e.success)).length,d=a.filter((e=>!e.success)).length;o>0&&0===d?qt.success("Successfully assigned content to ".concat(o," bundle(s)")):o>0&&d>0?qt.success("Assigned to ".concat(o," bundle(s), ").concat(d," failed")):qt.error("All assignments failed"),i()}catch(n){console.error("Batch assignment error:",n),qt.error("Failed to assign content to bundles")}finally{x(!1)}else qt.error("Please select at least one bundle")},disabled:p||0===c.size,className:"btn-primary flex items-center gap-2",children:p?(0,Qe.jsxs)(Qe.Fragment,{children:[(0,Qe.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Assigning..."]}):(0,Qe.jsxs)(Qe.Fragment,{children:[(0,Qe.jsx)(Ve,{className:"w-4 h-4"}),"Assign to ",c.size," Bundle(s)"]})})]})]})]})})},Qo=e=>{let{name:t,isActive:n,onClick:a}=e;return(0,Qe.jsx)("button",{onClick:a,className:"whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors ".concat(n?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:t})},Yo=e=>{let{children:t}=e;return(0,Qe.jsx)("div",{className:"flex flex-col md:flex-row items-start md:items-center mb-4",children:t})},Xo=e=>{let{htmlFor:t,label:n,description:a,required:r}=e;return(0,Qe.jsxs)("div",{className:"w-full md:w-1/3 mb-2 md:mb-0",children:[(0,Qe.jsxs)("label",{htmlFor:t,className:"font-semibold text-gray-700",children:[n,r&&(0,Qe.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),a&&(0,Qe.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:a})]})},Zo=e=>{let{id:t,type:n="text",value:a,onChange:r,placeholder:s}=e;return(0,Qe.jsx)("div",{className:"w-full md:w-2/3",children:(0,Qe.jsx)("input",{id:t,type:n,value:a,onChange:r,placeholder:s,className:"w-full p-2 border rounded-md focus:ring-blue-500 focus:border-blue-500"})})},ec=e=>{let{id:t,value:n,onChange:a,placeholder:r,rows:s=3}=e;return(0,Qe.jsx)("div",{className:"w-full md:w-2/3",children:(0,Qe.jsx)("textarea",{id:t,value:n,onChange:a,placeholder:r,rows:s,className:"w-full p-2 border rounded-md focus:ring-blue-500 focus:border-blue-500"})})},tc=e=>{let{id:t,checked:n,onChange:a}=e;return(0,Qe.jsx)("div",{className:"w-full md:w-2/3",children:(0,Qe.jsx)("label",{htmlFor:t,className:"flex items-center cursor-pointer",children:(0,Qe.jsxs)("div",{className:"relative",children:[(0,Qe.jsx)("input",{id:t,type:"checkbox",className:"sr-only",checked:n,onChange:e=>a(e.target.checked)}),(0,Qe.jsx)("div",{className:"block bg-gray-600 w-14 h-8 rounded-full"}),(0,Qe.jsx)("div",{className:"dot absolute left-1 top-1 bg-white w-6 h-6 rounded-full transition ".concat(n?"transform translate-x-full bg-blue-500":"")})]})})})},nc=e=>{let{id:t,value:n,onChange:a,children:r,className:s}=e;return(0,Qe.jsx)("div",{className:"w-full md:w-2/3 ".concat(s||""),children:(0,Qe.jsx)("select",{id:t,value:n,onChange:a,className:"w-full p-2 border rounded-md focus:ring-blue-500 focus:border-blue-500",children:r})})},ac=["children","className","variant","size"],rc=e=>{let{children:t,className:n="",variant:a="primary",size:r="md"}=e,s=ze(e,ac);const i={primary:"btn-primary",secondary:"btn-secondary"},l=i[a]?"".concat(i[a]," ").concat(n):"".concat("inline-flex items-center justify-center font-medium rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed"," ").concat({primary:"bg-indigo-600 text-white hover:bg-indigo-700 focus:ring-indigo-500",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300 focus:ring-gray-500",outline:"border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 focus:ring-indigo-500",ghost:"text-gray-700 hover:bg-gray-100 focus:ring-gray-500",destructive:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500"}[a]," ").concat({sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"}[r]," ").concat(n);return(0,Qe.jsx)("button",Le(Le({className:l},s),{},{children:t}))},sc=e=>{let{isOpen:t,onClose:n,onPoolCreate:r,availableHighlightGroups:s}=e;const[i,l]=(0,a.useState)(1),[o,c]=(0,a.useState)({name:"",description:"",uploadedFiles:[]}),[d,u]=(0,a.useState)(!1),m=(0,a.useRef)(null),p=(0,a.useCallback)((e=>{const t=e.map((e=>({temporaryId:"temp_".concat(Date.now(),"_").concat(Math.random()),file:e,preview:URL.createObjectURL(e),addToHighlights:!1,fileName:e.name,fileSize:e.size})));c((e=>Le(Le({},e),{},{uploadedFiles:[...e.uploadedFiles,...t]})))}),[]),{getRootProps:x,getInputProps:h}=Pl({onDrop:p,accept:{"image/*":[],"video/*":[]}}),f=(e,t)=>{c((n=>Le(Le({},n),{},{uploadedFiles:n.uploadedFiles.map((n=>n.temporaryId===e?Le(Le({},n),t):n))})))},g=[{id:1,name:"Basic Info"},{id:2,name:"Upload Content"},{id:3,name:"Review & Create"}];if(!t)return null;return(0,Qe.jsx)("div",{className:"fixed inset-0 bg-gray-800 bg-opacity-75 z-50 flex justify-center items-center p-4",children:(0,Qe.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col",children:[(0,Qe.jsxs)("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Create New Story Pool"}),(0,Qe.jsx)("p",{className:"text-sm text-gray-500",children:"Organize your story content into reusable collections."})]}),(0,Qe.jsx)("button",{onClick:n,className:"p-2 rounded-full hover:bg-gray-100 transition-colors",children:(0,Qe.jsx)(ts,{className:"w-6 h-6 text-gray-500"})})]}),(0,Qe.jsx)("div",{className:"p-8 overflow-y-auto",children:(()=>{switch(i){case 1:return(0,Qe.jsxs)(Qe.Fragment,{children:[(0,Qe.jsxs)(Yo,{children:[(0,Qe.jsx)(Xo,{htmlFor:"story-pool-name",label:"Pool Name",required:!0}),(0,Qe.jsx)(Zo,{id:"story-pool-name",value:o.name,onChange:e=>c(Le(Le({},o),{},{name:e.target.value})),placeholder:"e.g., Daily Snaps"})]}),(0,Qe.jsxs)(Yo,{children:[(0,Qe.jsx)(Xo,{htmlFor:"story-pool-description",label:"Description"}),(0,Qe.jsx)(ec,{id:"story-pool-description",value:o.description,onChange:e=>c(Le(Le({},o),{},{description:e.target.value})),placeholder:"A short description of the stories in this pool."})]})]});case 2:return(0,Qe.jsxs)("div",{children:[(0,Qe.jsxs)("div",Le(Le({},x()),{},{className:"relative border-2 border-dashed rounded-lg p-8 text-center transition-colors ".concat(d?"border-blue-400 bg-blue-50":"border-gray-300 hover:border-gray-400"),onDragOver:()=>u(!0),onDragLeave:()=>u(!1),onDrop:()=>u(!1),children:[(0,Qe.jsx)("input",Le(Le({},h()),{},{ref:m})),(0,Qe.jsxs)("div",{className:"space-y-4",children:[(0,Qe.jsx)("div",{className:"text-6xl",children:"\ud83d\udce4"}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:d?"Drop files here":"Upload story content"}),(0,Qe.jsxs)("p",{className:"text-gray-500 mt-1",children:["Drag and drop or"," ",(0,Qe.jsx)("button",{type:"button",onClick:()=>{var e;return null===(e=m.current)||void 0===e?void 0:e.click()},className:"text-blue-600 hover:text-blue-500 font-medium",children:"browse files"})]})]})]})]})),(0,Qe.jsx)("div",{className:"mt-8 grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:o.uploadedFiles.map((e=>(0,Qe.jsxs)("div",{className:"group relative border rounded-lg overflow-hidden",children:[(0,Qe.jsx)("img",{src:e.preview,alt:e.fileName,className:"w-full h-40 object-cover"}),(0,Qe.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:(0,Qe.jsx)("button",{onClick:()=>{return t=e.temporaryId,void c((e=>Le(Le({},e),{},{uploadedFiles:e.uploadedFiles.filter((e=>e.temporaryId!==t))})));var t},className:"text-white p-2 bg-red-500 rounded-full",children:(0,Qe.jsx)(Kr,{size:16})})}),(0,Qe.jsxs)("div",{className:"p-2 border-t",children:[(0,Qe.jsx)(tc,{id:"add-to-hl-".concat(e.temporaryId),checked:e.addToHighlights,onChange:t=>f(e.temporaryId,{addToHighlights:t})}),(0,Qe.jsx)(Xo,{htmlFor:"add-to-hl-".concat(e.temporaryId),label:"Add to Highlight"}),e.addToHighlights&&(0,Qe.jsxs)(nc,{id:"hl-group-".concat(e.temporaryId),value:String(e.targetHighlightGroup||""),onChange:t=>f(e.temporaryId,{targetHighlightGroup:Number(t.target.value)}),className:"mt-2",children:[(0,Qe.jsx)("option",{value:"",children:"Select Group..."}),s.map((e=>(0,Qe.jsx)("option",{value:e.id,children:e.name},e.id)))]})]})]},e.temporaryId)))})]});case 3:return(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Review"}),(0,Qe.jsxs)("p",{children:["You are about to create a story pool named ",(0,Qe.jsx)("span",{className:"font-bold",children:o.name})," with ",(0,Qe.jsx)("span",{className:"font-bold",children:o.uploadedFiles.length})," items."]})]});default:return null}})()}),(0,Qe.jsxs)("div",{className:"flex justify-between items-center p-6 border-t border-gray-200 bg-gray-50 rounded-b-2xl",children:[(0,Qe.jsx)("div",{className:"flex items-center space-x-2",children:g.map((e=>(0,Qe.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(e.id<=i?"bg-blue-600":"bg-gray-300")},e.id)))}),(0,Qe.jsxs)("div",{className:"flex space-x-4",children:[i>1&&(0,Qe.jsxs)(rc,{variant:"outline",onClick:()=>l(i-1),children:[(0,Qe.jsx)(cs,{className:"mr-2 h-4 w-4"})," Back"]}),i<g.length?(0,Qe.jsxs)(rc,{onClick:()=>l(i+1),children:["Next ",(0,Qe.jsx)(ds,{className:"ml-2 h-4 w-4"})]}):(0,Qe.jsxs)(rc,{onClick:async()=>{const{name:e,description:t,uploadedFiles:a}=o,s={name:e,description:t,pool_type:"story",auto_add_to_highlights:a.some((e=>e.addToHighlights)),target_highlight_groups:a.map((e=>e.targetHighlightGroup)).filter(Boolean),content_files:a.map((e=>e.file))};await r(s),n()},variant:"primary",children:[(0,Qe.jsx)(ns,{className:"mr-2 h-4 w-4"})," Create Pool"]})]})]})]})})},ic=He("ImagePlus",[["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7",key:"31hg93"}],["line",{x1:"16",x2:"22",y1:"5",y2:"5",key:"ez7e4s"}],["line",{x1:"19",x2:"19",y1:"2",y2:"8",key:"1gkr8c"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),lc=He("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]),oc=He("XSquare",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),cc=He("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);function dc(e,t){return dc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},dc(e,t)}function uc(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,dc(e,t)}function mc(){return mc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},mc.apply(null,arguments)}function pc(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var xc="function"===typeof Symbol&&Symbol.observable||"@@observable",hc=function(){return Math.random().toString(36).substring(7).split("").join(".")},fc={INIT:"@@redux/INIT"+hc(),REPLACE:"@@redux/REPLACE"+hc(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+hc()}};function gc(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function bc(e,t,n){var a;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(pc(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(pc(1));return n(bc)(e,t)}if("function"!==typeof e)throw new Error(pc(2));var r=e,s=t,i=[],l=i,o=!1;function c(){l===i&&(l=i.slice())}function d(){if(o)throw new Error(pc(3));return s}function u(e){if("function"!==typeof e)throw new Error(pc(4));if(o)throw new Error(pc(5));var t=!0;return c(),l.push(e),function(){if(t){if(o)throw new Error(pc(6));t=!1,c();var n=l.indexOf(e);l.splice(n,1),i=null}}}function m(e){if(!gc(e))throw new Error(pc(7));if("undefined"===typeof e.type)throw new Error(pc(8));if(o)throw new Error(pc(9));try{o=!0,s=r(s,e)}finally{o=!1}for(var t=i=l,n=0;n<t.length;n++){(0,t[n])()}return e}return m({type:fc.INIT}),(a={dispatch:m,subscribe:u,getState:d,replaceReducer:function(e){if("function"!==typeof e)throw new Error(pc(10));r=e,m({type:fc.REPLACE})}})[xc]=function(){var e,t=u;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(pc(11));function n(){e.next&&e.next(d())}return n(),{unsubscribe:t(n)}}})[xc]=function(){return this},e},a}function vc(e,t){return function(){return t(e.apply(this,arguments))}}function yc(e,t){if("function"===typeof e)return vc(e,t);if("object"!==typeof e||null===e)throw new Error(pc(16));var n={};for(var a in e){var r=e[a];"function"===typeof r&&(n[a]=vc(r,t))}return n}function jc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var wc=a.createContext(null);var Nc=function(e){e()},kc=function(){return Nc};var Sc={notify:function(){},get:function(){return[]}};function Cc(e,t){var n,a=Sc;function r(){i.onStateChange&&i.onStateChange()}function s(){n||(n=t?t.addNestedSub(r):e.subscribe(r),a=function(){var e=kc(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var a=!0,r=n={callback:e,next:null,prev:n};return r.prev?r.prev.next=r:t=r,function(){a&&null!==t&&(a=!1,r.next?r.next.prev=r.prev:n=r.prev,r.prev?r.prev.next=r.next:t=r.next)}}}}())}var i={addNestedSub:function(e){return s(),a.subscribe(e)},notifyNestedSubs:function(){a.notify()},handleChangeWrapper:r,isSubscribed:function(){return Boolean(n)},trySubscribe:s,tryUnsubscribe:function(){n&&(n(),n=void 0,a.clear(),a=Sc)},getListeners:function(){return a}};return i}var _c="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?a.useLayoutEffect:a.useEffect;const Ec=function(e){var t=e.store,n=e.context,r=e.children,s=(0,a.useMemo)((function(){var e=Cc(t);return{store:t,subscription:e}}),[t]),i=(0,a.useMemo)((function(){return t.getState()}),[t]);_c((function(){var e=s.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),i!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[s,i]);var l=n||wc;return a.createElement(l.Provider,{value:s},r)};var Ic=n(133),Pc=n.n(Ic),Dc=n(679),Ac=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],Oc=["reactReduxForwardedRef"],Tc=[],Rc=[null,null];function Fc(e,t){var n=e[1];return[t.payload,n+1]}function Lc(e,t,n){_c((function(){return e.apply(void 0,t)}),n)}function Mc(e,t,n,a,r,s,i){e.current=a,t.current=r,n.current=!1,s.current&&(s.current=null,i())}function zc(e,t,n,a,r,s,i,l,o,c){if(e){var d=!1,u=null,m=function(){if(!d){var e,n,m=t.getState();try{e=a(m,r.current)}catch(at){n=at,u=at}n||(u=null),e===s.current?i.current||o():(s.current=e,l.current=e,i.current=!0,c({type:"STORE_UPDATED",payload:{error:n}}))}};n.onStateChange=m,n.trySubscribe(),m();return function(){if(d=!0,n.tryUnsubscribe(),n.onStateChange=null,u)throw u}}}var Bc=function(){return[null,0]};function Uc(e,t){void 0===t&&(t={});var n=t,r=n.getDisplayName,s=void 0===r?function(e){return"ConnectAdvanced("+e+")"}:r,i=n.methodName,l=void 0===i?"connectAdvanced":i,o=n.renderCountProp,c=void 0===o?void 0:o,d=n.shouldHandleStateChanges,u=void 0===d||d,m=n.storeKey,p=void 0===m?"store":m,x=(n.withRef,n.forwardRef),h=void 0!==x&&x,f=n.context,g=void 0===f?wc:f,b=Me(n,Ac),v=g;return function(t){var n=t.displayName||t.name||"Component",r=s(n),i=mc({},b,{getDisplayName:s,methodName:l,renderCountProp:c,shouldHandleStateChanges:u,storeKey:p,displayName:r,wrappedComponentName:n,WrappedComponent:t}),o=b.pure;var d=o?a.useMemo:function(e){return e()};function m(n){var r=(0,a.useMemo)((function(){var e=n.reactReduxForwardedRef,t=Me(n,Oc);return[n.context,e,t]}),[n]),s=r[0],l=r[1],o=r[2],c=(0,a.useMemo)((function(){return s&&s.Consumer&&(0,Dc.isContextConsumer)(a.createElement(s.Consumer,null))?s:v}),[s,v]),m=(0,a.useContext)(c),p=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch);Boolean(m)&&Boolean(m.store);var x=p?n.store:m.store,h=(0,a.useMemo)((function(){return function(t){return e(t.dispatch,i)}(x)}),[x]),f=(0,a.useMemo)((function(){if(!u)return Rc;var e=Cc(x,p?null:m.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[x,p,m]),g=f[0],b=f[1],y=(0,a.useMemo)((function(){return p?m:mc({},m,{subscription:g})}),[p,m,g]),j=(0,a.useReducer)(Fc,Tc,Bc),w=j[0][0],N=j[1];if(w&&w.error)throw w.error;var k=(0,a.useRef)(),S=(0,a.useRef)(o),C=(0,a.useRef)(),_=(0,a.useRef)(!1),E=d((function(){return C.current&&o===S.current?C.current:h(x.getState(),o)}),[x,w,o]);Lc(Mc,[S,k,_,o,E,C,b]),Lc(zc,[u,x,g,h,S,k,_,C,b,N],[x,g,h]);var I=(0,a.useMemo)((function(){return a.createElement(t,mc({},E,{ref:l}))}),[l,t,E]);return(0,a.useMemo)((function(){return u?a.createElement(c.Provider,{value:y},I):I}),[c,I,y])}var x=o?a.memo(m):m;if(x.WrappedComponent=t,x.displayName=m.displayName=r,h){var f=a.forwardRef((function(e,t){return a.createElement(x,mc({},e,{reactReduxForwardedRef:t}))}));return f.displayName=r,f.WrappedComponent=t,Pc()(f,t)}return Pc()(x,t)}}function Hc(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function qc(e,t){if(Hc(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(var r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!Hc(e[n[r]],t[n[r]]))return!1;return!0}function Wc(e){return function(t,n){var a=e(t,n);function r(){return a}return r.dependsOnOwnProps=!1,r}}function Gc(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function Vc(e,t){return function(t,n){n.displayName;var a=function(e,t){return a.dependsOnOwnProps?a.mapToProps(e,t):a.mapToProps(e)};return a.dependsOnOwnProps=!0,a.mapToProps=function(t,n){a.mapToProps=e,a.dependsOnOwnProps=Gc(e);var r=a(t,n);return"function"===typeof r&&(a.mapToProps=r,a.dependsOnOwnProps=Gc(r),r=a(t,n)),r},a}}const $c=[function(e){return"function"===typeof e?Vc(e):void 0},function(e){return e?void 0:Wc((function(e){return{dispatch:e}}))},function(e){return e&&"object"===typeof e?Wc((function(t){return function(e,t){var n={},a=function(a){var r=e[a];"function"===typeof r&&(n[a]=function(){return t(r.apply(void 0,arguments))})};for(var r in e)a(r);return n}(e,t)})):void 0}];const Kc=[function(e){return"function"===typeof e?Vc(e):void 0},function(e){return e?void 0:Wc((function(){return{}}))}];function Jc(e,t,n){return mc({},n,e,t)}const Qc=[function(e){return"function"===typeof e?function(e){return function(t,n){n.displayName;var a,r=n.pure,s=n.areMergedPropsEqual,i=!1;return function(t,n,l){var o=e(t,n,l);return i?r&&s(o,a)||(a=o):(i=!0,a=o),a}}}(e):void 0},function(e){return e?void 0:function(){return Jc}}];var Yc=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function Xc(e,t,n,a){return function(r,s){return n(e(r,s),t(a,s),s)}}function Zc(e,t,n,a,r){var s,i,l,o,c,d=r.areStatesEqual,u=r.areOwnPropsEqual,m=r.areStatePropsEqual,p=!1;function x(r,p){var x=!u(p,i),h=!d(r,s,p,i);return s=r,i=p,x&&h?(l=e(s,i),t.dependsOnOwnProps&&(o=t(a,i)),c=n(l,o,i)):x?(e.dependsOnOwnProps&&(l=e(s,i)),t.dependsOnOwnProps&&(o=t(a,i)),c=n(l,o,i)):h?function(){var t=e(s,i),a=!m(t,l);return l=t,a&&(c=n(l,o,i)),c}():c}return function(r,d){return p?x(r,d):(l=e(s=r,i=d),o=t(a,i),c=n(l,o,i),p=!0,c)}}function ed(e,t){var n=t.initMapStateToProps,a=t.initMapDispatchToProps,r=t.initMergeProps,s=Me(t,Yc),i=n(e,s),l=a(e,s),o=r(e,s);return(s.pure?Zc:Xc)(i,l,o,e,s)}var td=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function nd(e,t,n){for(var a=t.length-1;a>=0;a--){var r=t[a](e);if(r)return r}return function(t,a){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+a.wrappedComponentName+".")}}function ad(e,t){return e===t}function rd(e){var t=void 0===e?{}:e,n=t.connectHOC,a=void 0===n?Uc:n,r=t.mapStateToPropsFactories,s=void 0===r?Kc:r,i=t.mapDispatchToPropsFactories,l=void 0===i?$c:i,o=t.mergePropsFactories,c=void 0===o?Qc:o,d=t.selectorFactory,u=void 0===d?ed:d;return function(e,t,n,r){void 0===r&&(r={});var i=r,o=i.pure,d=void 0===o||o,m=i.areStatesEqual,p=void 0===m?ad:m,x=i.areOwnPropsEqual,h=void 0===x?qc:x,f=i.areStatePropsEqual,g=void 0===f?qc:f,b=i.areMergedPropsEqual,v=void 0===b?qc:b,y=Me(i,td),j=nd(e,s,"mapStateToProps"),w=nd(t,l,"mapDispatchToProps"),N=nd(n,c,"mergeProps");return a(u,mc({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:j,initMapDispatchToProps:w,initMergeProps:N,pure:d,areStatesEqual:p,areOwnPropsEqual:h,areStatePropsEqual:g,areMergedPropsEqual:v},y))}}const sd=rd();var id;function ld(e,t){var n=(0,a.useState)((function(){return{inputs:t,result:e()}}))[0],r=(0,a.useRef)(!0),s=(0,a.useRef)(n),i=r.current||Boolean(t&&s.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,s.current.inputs)),l=i?s.current:{inputs:t,result:e()};return(0,a.useEffect)((function(){r.current=!1,s.current=l}),[l]),l.result}id=i.unstable_batchedUpdates,Nc=id;var od=ld,cd=function(e,t){return ld((function(){return e}),t)},dd="Invariant failed";var ud=function(e){var t=e.top,n=e.right,a=e.bottom,r=e.left;return{top:t,right:n,bottom:a,left:r,width:n-r,height:a-t,x:r,y:t,center:{x:(n+r)/2,y:(a+t)/2}}},md=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},pd=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},xd={top:0,right:0,bottom:0,left:0},hd=function(e){var t=e.borderBox,n=e.margin,a=void 0===n?xd:n,r=e.border,s=void 0===r?xd:r,i=e.padding,l=void 0===i?xd:i,o=ud(md(t,a)),c=ud(pd(t,s)),d=ud(pd(c,l));return{marginBox:o,borderBox:ud(t),paddingBox:c,contentBox:d,margin:a,border:s,padding:l}},fd=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var n=Number(t);return isNaN(n)&&function(e){if(!e)throw new Error(dd)}(!1),n},gd=function(e,t){var n,a,r=e.borderBox,s=e.border,i=e.margin,l=e.padding,o=(a=t,{top:(n=r).top+a.y,left:n.left+a.x,bottom:n.bottom+a.y,right:n.right+a.x});return hd({borderBox:o,border:s,margin:i,padding:l})},bd=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),gd(e,t)},vd=function(e,t){var n={top:fd(t.marginTop),right:fd(t.marginRight),bottom:fd(t.marginBottom),left:fd(t.marginLeft)},a={top:fd(t.paddingTop),right:fd(t.paddingRight),bottom:fd(t.paddingBottom),left:fd(t.paddingLeft)},r={top:fd(t.borderTopWidth),right:fd(t.borderRightWidth),bottom:fd(t.borderBottomWidth),left:fd(t.borderLeftWidth)};return hd({borderBox:e,margin:n,padding:a,border:r})},yd=function(e){var t=e.getBoundingClientRect(),n=window.getComputedStyle(e);return vd(t,n)},jd=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function wd(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(a=e[n],r=t[n],!(a===r||jd(a)&&jd(r)))return!1;var a,r;return!0}const Nd=function(e,t){var n;void 0===t&&(t=wd);var a,r=[],s=!1;return function(){for(var i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];return s&&n===this&&t(i,r)||(a=e.apply(this,i),s=!0,n=this,r=i),a}};const kd=function(e){var t=[],n=null,a=function(){for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];t=r,n||(n=requestAnimationFrame((function(){n=null,e.apply(void 0,t)})))};return a.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},a};function Sd(e,t){}Sd.bind(null,"warn"),Sd.bind(null,"error");function Cd(){}function _d(e,t,n){var a=t.map((function(t){var a=function(e,t){return mc({},e,{},t)}(n,t.options);return e.addEventListener(t.eventName,t.fn,a),function(){e.removeEventListener(t.eventName,t.fn,a)}}));return function(){a.forEach((function(e){e()}))}}var Ed="Invariant failed";function Id(e){this.message=e}function Pd(e,t){if(!e)throw new Id(Ed)}Id.prototype.toString=function(){return this.message};var Dd=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).callbacks=null,t.unbind=Cd,t.onWindowError=function(e){var n=t.getCallbacks();n.isDragging()&&n.tryAbort(),e.error instanceof Id&&e.preventDefault()},t.getCallbacks=function(){if(!t.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return t.callbacks},t.setCallbacks=function(e){t.callbacks=e},t}uc(t,e);var n=t.prototype;return n.componentDidMount=function(){this.unbind=_d(window,[{eventName:"error",fn:this.onWindowError}])},n.componentDidCatch=function(e){if(!(e instanceof Id))throw e;this.setState({})},n.componentWillUnmount=function(){this.unbind()},n.render=function(){return this.props.children(this.setCallbacks)},t}(a.Component),Ad=function(e){return e+1},Od=function(e,t){var n=e.droppableId===t.droppableId,a=Ad(e.index),r=Ad(t.index);return n?"\n      You have moved the item from position "+a+"\n      to position "+r+"\n    ":"\n    You have moved the item from position "+a+"\n    in list "+e.droppableId+"\n    to list "+t.droppableId+"\n    in position "+r+"\n  "},Td=function(e,t,n){return t.droppableId===n.droppableId?"\n      The item "+e+"\n      has been combined with "+n.draggableId:"\n      The item "+e+"\n      in list "+t.droppableId+"\n      has been combined with "+n.draggableId+"\n      in list "+n.droppableId+"\n    "},Rd=function(e){return"\n  The item has returned to its starting position\n  of "+Ad(e.index)+"\n"},Fd="\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n",Ld=function(e){return"\n  You have lifted an item in position "+Ad(e.source.index)+"\n"},Md=function(e){var t=e.destination;if(t)return Od(e.source,t);var n=e.combine;return n?Td(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},zd=function(e){if("CANCEL"===e.reason)return"\n      Movement cancelled.\n      "+Rd(e.source)+"\n    ";var t=e.destination,n=e.combine;return t?"\n      You have dropped the item.\n      "+Od(e.source,t)+"\n    ":n?"\n      You have dropped the item.\n      "+Td(e.draggableId,e.source,n)+"\n    ":"\n    The item has been dropped while not over a drop area.\n    "+Rd(e.source)+"\n  "},Bd={x:0,y:0},Ud=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},Hd=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},qd=function(e,t){return e.x===t.x&&e.y===t.y},Wd=function(e){return{x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}},Gd=function(e,t,n){var a;return void 0===n&&(n=0),(a={})[e]=t,a["x"===e?"y":"x"]=n,a},Vd=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},$d=function(e,t){return Math.min.apply(Math,t.map((function(t){return Vd(e,t)})))},Kd=function(e){return function(t){return{x:e(t.x),y:e(t.y)}}},Jd=function(e,t){return{top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}},Qd=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},Yd=function(e,t){return t&&t.shouldClipSubject?function(e,t){var n=ud({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n}(t.pageMarginBox,e):ud(e)},Xd=function(e){var t=e.page,n=e.withPlaceholder,a=e.axis,r=e.frame,s=function(e,t){return t?Jd(e,t.scroll.diff.displacement):e}(t.marginBox,r),i=function(e,t,n){var a;return n&&n.increasedBy?mc({},e,((a={})[t.end]=e[t.end]+n.increasedBy[t.line],a)):e}(s,a,n);return{page:t,withPlaceholder:n,active:Yd(i,r)}},Zd=function(e,t){e.frame||Pd(!1);var n=e.frame,a=Hd(t,n.scroll.initial),r=Wd(a),s=mc({},n,{scroll:{initial:n.scroll.initial,current:t,diff:{value:a,displacement:r},max:n.scroll.max}});return mc({},e,{frame:s,subject:Xd({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:s})})};function eu(e){return Object.values?Object.values(e):Object.keys(e).map((function(t){return e[t]}))}function tu(e,t){if(e.findIndex)return e.findIndex(t);for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function nu(e,t){if(e.find)return e.find(t);var n=tu(e,t);return-1!==n?e[n]:void 0}function au(e){return Array.prototype.slice.call(e)}var ru=Nd((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),su=Nd((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),iu=Nd((function(e){return eu(e)})),lu=Nd((function(e){return eu(e)})),ou=Nd((function(e,t){var n=lu(t).filter((function(t){return e===t.descriptor.droppableId})).sort((function(e,t){return e.descriptor.index-t.descriptor.index}));return n}));function cu(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function du(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}var uu=Nd((function(e,t){return t.filter((function(t){return t.descriptor.id!==e.descriptor.id}))})),mu=function(e,t){return e.descriptor.droppableId===t.descriptor.id},pu={point:Bd,value:0},xu={invisible:{},visible:{},all:[]},hu={displaced:xu,displacedBy:pu,at:null},fu=function(e,t){return function(n){return e<=n&&n<=t}},gu=function(e){var t=fu(e.top,e.bottom),n=fu(e.left,e.right);return function(a){if(t(a.top)&&t(a.bottom)&&n(a.left)&&n(a.right))return!0;var r=t(a.top)||t(a.bottom),s=n(a.left)||n(a.right);if(r&&s)return!0;var i=a.top<e.top&&a.bottom>e.bottom,l=a.left<e.left&&a.right>e.right;return!(!i||!l)||(i&&s||l&&r)}},bu=function(e){var t=fu(e.top,e.bottom),n=fu(e.left,e.right);return function(e){return t(e.top)&&t(e.bottom)&&n(e.left)&&n(e.right)}},vu={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},yu={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},ju=function(e){var t=e.target,n=e.destination,a=e.viewport,r=e.withDroppableDisplacement,s=e.isVisibleThroughFrameFn,i=r?function(e,t){var n=t.frame?t.frame.scroll.diff.displacement:Bd;return Jd(e,n)}(t,n):t;return function(e,t,n){return!!t.subject.active&&n(t.subject.active)(e)}(i,n,s)&&function(e,t,n){return n(t)(e)}(i,a,s)},wu=function(e){return ju(mc({},e,{isVisibleThroughFrameFn:gu}))},Nu=function(e){return ju(mc({},e,{isVisibleThroughFrameFn:bu}))};function ku(e){var t=e.afterDragging,n=e.destination,a=e.displacedBy,r=e.viewport,s=e.forceShouldAnimate,i=e.last;return t.reduce((function(e,t){var l=function(e,t){var n=e.page.marginBox,a={top:t.point.y,right:0,bottom:0,left:t.point.x};return ud(md(n,a))}(t,a),o=t.descriptor.id;if(e.all.push(o),!wu({target:l,destination:n,viewport:r,withDroppableDisplacement:!0}))return e.invisible[t.descriptor.id]=!0,e;var c=function(e,t,n){if("boolean"===typeof n)return n;if(!t)return!0;var a=t.invisible,r=t.visible;if(a[e])return!1;var s=r[e];return!s||s.shouldAnimate}(o,i,s),d={draggableId:o,shouldAnimate:c};return e.visible[o]=d,e}),{all:[],visible:{},invisible:{}})}function Su(e){var t=e.insideDestination,n=e.inHomeList,a=e.displacedBy,r=e.destination,s=function(e,t){if(!e.length)return 0;var n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}(t,{inHomeList:n});return{displaced:xu,displacedBy:a,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:s}}}}function Cu(e){var t=e.draggable,n=e.insideDestination,a=e.destination,r=e.viewport,s=e.displacedBy,i=e.last,l=e.index,o=e.forceShouldAnimate,c=mu(t,a);if(null==l)return Su({insideDestination:n,inHomeList:c,displacedBy:s,destination:a});var d=nu(n,(function(e){return e.descriptor.index===l}));if(!d)return Su({insideDestination:n,inHomeList:c,displacedBy:s,destination:a});var u=uu(t,n),m=n.indexOf(d);return{displaced:ku({afterDragging:u.slice(m),destination:a,displacedBy:s,last:i,viewport:r.frame,forceShouldAnimate:o}),displacedBy:s,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:l}}}}function _u(e,t){return Boolean(t.effected[e])}var Eu=function(e){var t=e.isMovingForward,n=e.isInHomeList,a=e.draggable,r=e.draggables,s=e.destination,i=e.insideDestination,l=e.previousImpact,o=e.viewport,c=e.afterCritical,d=l.at;if(d||Pd(!1),"REORDER"===d.type){var u=function(e){var t=e.isMovingForward,n=e.isInHomeList,a=e.insideDestination,r=e.location;if(!a.length)return null;var s=r.index,i=t?s+1:s-1,l=a[0].descriptor.index,o=a[a.length-1].descriptor.index;return i<l||i>(n?o:o+1)?null:i}({isMovingForward:t,isInHomeList:n,location:d.destination,insideDestination:i});return null==u?null:Cu({draggable:a,insideDestination:i,destination:s,viewport:o,last:l.displaced,displacedBy:l.displacedBy,index:u})}var m=function(e){var t=e.isMovingForward,n=e.destination,a=e.draggables,r=e.combine,s=e.afterCritical;if(!n.isCombineEnabled)return null;var i=r.draggableId,l=a[i].descriptor.index;return _u(i,s)?t?l:l-1:t?l+1:l}({isMovingForward:t,destination:s,displaced:l.displaced,draggables:r,combine:d.combine,afterCritical:c});return null==m?null:Cu({draggable:a,insideDestination:i,destination:s,viewport:o,last:l.displaced,displacedBy:l.displacedBy,index:m})},Iu=function(e){var t=e.afterCritical,n=e.impact,a=e.draggables,r=du(n);r||Pd(!1);var s=r.draggableId,i=a[s].page.borderBox.center,l=function(e){var t=e.displaced,n=e.afterCritical,a=e.combineWith,r=e.displacedBy,s=Boolean(t.visible[a]||t.invisible[a]);return _u(a,n)?s?Bd:Wd(r.point):s?r.point:Bd}({displaced:n.displaced,afterCritical:t,combineWith:s,displacedBy:n.displacedBy});return Ud(i,l)},Pu=function(e,t){return t.margin[e.start]+t.borderBox[e.size]/2},Du=function(e,t,n){return t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2},Au=function(e){var t=e.axis,n=e.moveRelativeTo,a=e.isMoving;return Gd(t.line,n.marginBox[t.end]+Pu(t,a),Du(t,n.marginBox,a))},Ou=function(e){var t=e.axis,n=e.moveRelativeTo,a=e.isMoving;return Gd(t.line,n.marginBox[t.start]-function(e,t){return t.margin[e.end]+t.borderBox[e.size]/2}(t,a),Du(t,n.marginBox,a))},Tu=function(e){var t=e.impact,n=e.draggable,a=e.draggables,r=e.droppable,s=e.afterCritical,i=ou(r.descriptor.id,a),l=n.page,o=r.axis;if(!i.length)return function(e){var t=e.axis,n=e.moveInto,a=e.isMoving;return Gd(t.line,n.contentBox[t.start]+Pu(t,a),Du(t,n.contentBox,a))}({axis:o,moveInto:r.page,isMoving:l});var c=t.displaced,d=t.displacedBy,u=c.all[0];if(u){var m=a[u];if(_u(u,s))return Ou({axis:o,moveRelativeTo:m.page,isMoving:l});var p=gd(m.page,d.point);return Ou({axis:o,moveRelativeTo:p,isMoving:l})}var x=i[i.length-1];if(x.descriptor.id===n.descriptor.id)return l.borderBox.center;if(_u(x.descriptor.id,s)){var h=gd(x.page,Wd(s.displacedBy.point));return Au({axis:o,moveRelativeTo:h,isMoving:l})}return Au({axis:o,moveRelativeTo:x.page,isMoving:l})},Ru=function(e,t){var n=e.frame;return n?Ud(t,n.scroll.diff.displacement):t},Fu=function(e){var t=function(e){var t=e.impact,n=e.draggable,a=e.droppable,r=e.draggables,s=e.afterCritical,i=n.page.borderBox.center,l=t.at;return a&&l?"REORDER"===l.type?Tu({impact:t,draggable:n,draggables:r,droppable:a,afterCritical:s}):Iu({impact:t,draggables:r,afterCritical:s}):i}(e),n=e.droppable;return n?Ru(n,t):t},Lu=function(e,t){var n=Hd(t,e.scroll.initial),a=Wd(n);return{frame:ud({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:a}}}};function Mu(e,t){return e.map((function(e){return t[e]}))}var zu=function(e){var t=e.pageBorderBoxCenter,n=e.draggable,a=function(e,t){return Ud(e.scroll.diff.displacement,t)}(e.viewport,t),r=Hd(a,n.page.borderBox.center);return Ud(n.client.borderBox.center,r)},Bu=function(e){var t=e.draggable,n=e.destination,a=e.newPageBorderBoxCenter,r=e.viewport,s=e.withDroppableDisplacement,i=e.onlyOnMainAxis,l=void 0!==i&&i,o=Hd(a,t.page.borderBox.center),c={target:Jd(t.page.borderBox,o),destination:n,withDroppableDisplacement:s,viewport:r};return l?function(e){return ju(mc({},e,{isVisibleThroughFrameFn:(t=e.destination.axis,function(e){var n=fu(e.top,e.bottom),a=fu(e.left,e.right);return function(e){return t===vu?n(e.top)&&n(e.bottom):a(e.left)&&a(e.right)}})}));var t}(c):Nu(c)},Uu=function(e){var t=e.isMovingForward,n=e.draggable,a=e.destination,r=e.draggables,s=e.previousImpact,i=e.viewport,l=e.previousPageBorderBoxCenter,o=e.previousClientSelection,c=e.afterCritical;if(!a.isEnabled)return null;var d=ou(a.descriptor.id,r),u=mu(n,a),m=function(e){var t=e.isMovingForward,n=e.draggable,a=e.destination,r=e.insideDestination,s=e.previousImpact;if(!a.isCombineEnabled)return null;if(!cu(s))return null;function i(e){var t={type:"COMBINE",combine:{draggableId:e,droppableId:a.descriptor.id}};return mc({},s,{at:t})}var l=s.displaced.all,o=l.length?l[0]:null;if(t)return o?i(o):null;var c=uu(n,r);if(!o)return c.length?i(c[c.length-1].descriptor.id):null;var d=tu(c,(function(e){return e.descriptor.id===o}));-1===d&&Pd(!1);var u=d-1;return u<0?null:i(c[u].descriptor.id)}({isMovingForward:t,draggable:n,destination:a,insideDestination:d,previousImpact:s})||Eu({isMovingForward:t,isInHomeList:u,draggable:n,draggables:r,destination:a,insideDestination:d,previousImpact:s,viewport:i,afterCritical:c});if(!m)return null;var p=Fu({impact:m,draggable:n,droppable:a,draggables:r,afterCritical:c});if(Bu({draggable:n,destination:a,newPageBorderBoxCenter:p,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:zu({pageBorderBoxCenter:p,draggable:n,viewport:i}),impact:m,scrollJumpRequest:null};var x=Hd(p,l),h=function(e){var t=e.impact,n=e.viewport,a=e.destination,r=e.draggables,s=e.maxScrollChange,i=Lu(n,Ud(n.scroll.current,s)),l=a.frame?Zd(a,Ud(a.frame.scroll.current,s)):a,o=t.displaced,c=ku({afterDragging:Mu(o.all,r),destination:a,displacedBy:t.displacedBy,viewport:i.frame,last:o,forceShouldAnimate:!1}),d=ku({afterDragging:Mu(o.all,r),destination:l,displacedBy:t.displacedBy,viewport:n.frame,last:o,forceShouldAnimate:!1}),u={},m={},p=[o,c,d];return o.all.forEach((function(e){var t=function(e,t){for(var n=0;n<t.length;n++){var a=t[n].visible[e];if(a)return a}return null}(e,p);t?m[e]=t:u[e]=!0})),mc({},t,{displaced:{all:o.all,invisible:u,visible:m}})}({impact:m,viewport:i,destination:a,draggables:r,maxScrollChange:x});return{clientSelection:o,impact:h,scrollJumpRequest:x}},Hu=function(e){var t=e.subject.active;return t||Pd(!1),t},qu=function(e,t){var n=e.page.borderBox.center;return _u(e.descriptor.id,t)?Hd(n,t.displacedBy.point):n},Wu=function(e,t){var n=e.page.borderBox;return _u(e.descriptor.id,t)?Jd(n,Wd(t.displacedBy.point)):n},Gu=Nd((function(e,t){var n=t[e.line];return{value:n,point:Gd(e.line,n)}})),Vu=function(e,t){return mc({},e,{scroll:mc({},e.scroll,{max:t})})},$u=function(e,t,n){var a=e.frame;mu(t,e)&&Pd(!1),e.subject.withPlaceholder&&Pd(!1);var r=Gu(e.axis,t.displaceBy).point,s=function(e,t,n){var a=e.axis;if("virtual"===e.descriptor.mode)return Gd(a.line,t[a.line]);var r=e.subject.page.contentBox[a.size],s=ou(e.descriptor.id,n).reduce((function(e,t){return e+t.client.marginBox[a.size]}),0)+t[a.line]-r;return s<=0?null:Gd(a.line,s)}(e,r,n),i={placeholderSize:r,increasedBy:s,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!a)return mc({},e,{subject:Xd({page:e.subject.page,withPlaceholder:i,axis:e.axis,frame:e.frame})});var l=s?Ud(a.scroll.max,s):a.scroll.max,o=Vu(a,l);return mc({},e,{subject:Xd({page:e.subject.page,withPlaceholder:i,axis:e.axis,frame:o}),frame:o})},Ku=function(e){var t=e.isMovingForward,n=e.previousPageBorderBoxCenter,a=e.draggable,r=e.isOver,s=e.draggables,i=e.droppables,l=e.viewport,o=e.afterCritical,c=function(e){var t=e.isMovingForward,n=e.pageBorderBoxCenter,a=e.source,r=e.droppables,s=e.viewport,i=a.subject.active;if(!i)return null;var l=a.axis,o=fu(i[l.start],i[l.end]),c=iu(r).filter((function(e){return e!==a})).filter((function(e){return e.isEnabled})).filter((function(e){return Boolean(e.subject.active)})).filter((function(e){return gu(s.frame)(Hu(e))})).filter((function(e){var n=Hu(e);return t?i[l.crossAxisEnd]<n[l.crossAxisEnd]:n[l.crossAxisStart]<i[l.crossAxisStart]})).filter((function(e){var t=Hu(e),n=fu(t[l.start],t[l.end]);return o(t[l.start])||o(t[l.end])||n(i[l.start])||n(i[l.end])})).sort((function(e,n){var a=Hu(e)[l.crossAxisStart],r=Hu(n)[l.crossAxisStart];return t?a-r:r-a})).filter((function(e,t,n){return Hu(e)[l.crossAxisStart]===Hu(n[0])[l.crossAxisStart]}));if(!c.length)return null;if(1===c.length)return c[0];var d=c.filter((function(e){return fu(Hu(e)[l.start],Hu(e)[l.end])(n[l.line])}));return 1===d.length?d[0]:d.length>1?d.sort((function(e,t){return Hu(e)[l.start]-Hu(t)[l.start]}))[0]:c.sort((function(e,t){var a=$d(n,Qd(Hu(e))),r=$d(n,Qd(Hu(t)));return a!==r?a-r:Hu(e)[l.start]-Hu(t)[l.start]}))[0]}({isMovingForward:t,pageBorderBoxCenter:n,source:r,droppables:i,viewport:l});if(!c)return null;var d=ou(c.descriptor.id,s),u=function(e){var t=e.pageBorderBoxCenter,n=e.viewport,a=e.destination,r=e.insideDestination,s=e.afterCritical,i=r.filter((function(e){return Nu({target:Wu(e,s),destination:a,viewport:n.frame,withDroppableDisplacement:!0})})).sort((function(e,n){var r=Vd(t,Ru(a,qu(e,s))),i=Vd(t,Ru(a,qu(n,s)));return r<i?-1:i<r?1:e.descriptor.index-n.descriptor.index}));return i[0]||null}({pageBorderBoxCenter:n,viewport:l,destination:c,insideDestination:d,afterCritical:o}),m=function(e){var t=e.previousPageBorderBoxCenter,n=e.moveRelativeTo,a=e.insideDestination,r=e.draggable,s=e.draggables,i=e.destination,l=e.viewport,o=e.afterCritical;if(!n){if(a.length)return null;var c={displaced:xu,displacedBy:pu,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:0}}},d=Fu({impact:c,draggable:r,droppable:i,draggables:s,afterCritical:o}),u=mu(r,i)?i:$u(i,r,s);return Bu({draggable:r,destination:u,newPageBorderBoxCenter:d,viewport:l.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?c:null}var m=Boolean(t[i.axis.line]<=n.page.borderBox.center[i.axis.line]),p=function(){var e=n.descriptor.index;return n.descriptor.id===r.descriptor.id||m?e:e+1}(),x=Gu(i.axis,r.displaceBy);return Cu({draggable:r,insideDestination:a,destination:i,viewport:l,displacedBy:x,last:xu,index:p})}({previousPageBorderBoxCenter:n,destination:c,draggable:a,draggables:s,moveRelativeTo:u,insideDestination:d,viewport:l,afterCritical:o});if(!m)return null;var p=Fu({impact:m,draggable:a,droppable:c,draggables:s,afterCritical:o});return{clientSelection:zu({pageBorderBoxCenter:p,draggable:a,viewport:l}),impact:m,scrollJumpRequest:null}},Ju=function(e){var t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null},Qu=function(e){var t=e.state,n=e.type,a=function(e,t){var n=Ju(e);return n?t[n]:null}(t.impact,t.dimensions.droppables),r=Boolean(a),s=t.dimensions.droppables[t.critical.droppable.id],i=a||s,l=i.axis.direction,o="vertical"===l&&("MOVE_UP"===n||"MOVE_DOWN"===n)||"horizontal"===l&&("MOVE_LEFT"===n||"MOVE_RIGHT"===n);if(o&&!r)return null;var c="MOVE_DOWN"===n||"MOVE_RIGHT"===n,d=t.dimensions.draggables[t.critical.draggable.id],u=t.current.page.borderBoxCenter,m=t.dimensions,p=m.draggables,x=m.droppables;return o?Uu({isMovingForward:c,previousPageBorderBoxCenter:u,draggable:d,destination:i,draggables:p,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):Ku({isMovingForward:c,previousPageBorderBoxCenter:u,draggable:d,isOver:i,draggables:p,droppables:x,viewport:t.viewport,afterCritical:t.afterCritical})};function Yu(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function Xu(e){var t=fu(e.top,e.bottom),n=fu(e.left,e.right);return function(e){return t(e.y)&&n(e.x)}}function Zu(e){var t=e.pageBorderBox,n=e.draggable,a=e.droppables,r=iu(a).filter((function(e){if(!e.isEnabled)return!1;var n,a,r=e.subject.active;if(!r)return!1;if(a=r,!((n=t).left<a.right&&n.right>a.left&&n.top<a.bottom&&n.bottom>a.top))return!1;if(Xu(r)(t.center))return!0;var s=e.axis,i=r.center[s.crossAxisLine],l=t[s.crossAxisStart],o=t[s.crossAxisEnd],c=fu(r[s.crossAxisStart],r[s.crossAxisEnd]),d=c(l),u=c(o);return!d&&!u||(d?l<i:o>i)}));return r.length?1===r.length?r[0].descriptor.id:function(e){var t=e.pageBorderBox,n=e.draggable,a=e.candidates,r=n.page.borderBox.center,s=a.map((function(e){var n=e.axis,a=Gd(e.axis.line,t.center[n.line],e.page.borderBox.center[n.crossAxisLine]);return{id:e.descriptor.id,distance:Vd(r,a)}})).sort((function(e,t){return t.distance-e.distance}));return s[0]?s[0].id:null}({pageBorderBox:t,draggable:n,candidates:r}):null}var em=function(e,t){return ud(Jd(e,t))};function tm(e){var t=e.displaced,n=e.id;return Boolean(t.visible[n]||t.invisible[n])}var nm=function(e){var t=e.pageOffset,n=e.draggable,a=e.draggables,r=e.droppables,s=e.previousImpact,i=e.viewport,l=e.afterCritical,o=em(n.page.borderBox,t),c=Zu({pageBorderBox:o,draggable:n,droppables:r});if(!c)return hu;var d=r[c],u=ou(d.descriptor.id,a),m=function(e,t){var n=e.frame;return n?em(t,n.scroll.diff.value):t}(d,o);return function(e){var t=e.draggable,n=e.pageBorderBoxWithDroppableScroll,a=e.previousImpact,r=e.destination,s=e.insideDestination,i=e.afterCritical;if(!r.isCombineEnabled)return null;var l=r.axis,o=Gu(r.axis,t.displaceBy),c=o.value,d=n[l.start],u=n[l.end],m=nu(uu(t,s),(function(e){var t=e.descriptor.id,n=e.page.borderBox,r=n[l.size]/4,s=_u(t,i),o=tm({displaced:a.displaced,id:t});return s?o?u>n[l.start]+r&&u<n[l.end]-r:d>n[l.start]-c+r&&d<n[l.end]-c-r:o?u>n[l.start]+c+r&&u<n[l.end]+c-r:d>n[l.start]+r&&d<n[l.end]-r}));return m?{displacedBy:o,displaced:a.displaced,at:{type:"COMBINE",combine:{draggableId:m.descriptor.id,droppableId:r.descriptor.id}}}:null}({pageBorderBoxWithDroppableScroll:m,draggable:n,previousImpact:s,destination:d,insideDestination:u,afterCritical:l})||function(e){var t=e.pageBorderBoxWithDroppableScroll,n=e.draggable,a=e.destination,r=e.insideDestination,s=e.last,i=e.viewport,l=e.afterCritical,o=a.axis,c=Gu(a.axis,n.displaceBy),d=c.value,u=t[o.start],m=t[o.end],p=function(e){var t=e.draggable,n=e.closest,a=e.inHomeList;return n?a&&n.descriptor.index>t.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}({draggable:n,closest:nu(uu(n,r),(function(e){var t=e.descriptor.id,n=e.page.borderBox.center[o.line],a=_u(t,l),r=tm({displaced:s,id:t});return a?r?m<=n:u<n-d:r?m<=n+d:u<n})),inHomeList:mu(n,a)});return Cu({draggable:n,insideDestination:r,destination:a,viewport:i,last:s,displacedBy:c,index:p})}({pageBorderBoxWithDroppableScroll:m,draggable:n,destination:d,insideDestination:u,last:s.displaced,viewport:i,afterCritical:l})},am=function(e,t){var n;return mc({},e,((n={})[t.descriptor.id]=t,n))},rm=function(e){var t=e.previousImpact,n=e.impact,a=e.droppables,r=Ju(t),s=Ju(n);if(!r)return a;if(r===s)return a;var i=a[r];if(!i.subject.withPlaceholder)return a;var l=function(e){var t=e.subject.withPlaceholder;t||Pd(!1);var n=e.frame;if(!n)return mc({},e,{subject:Xd({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null})});var a=t.oldFrameMaxScroll;a||Pd(!1);var r=Vu(n,a);return mc({},e,{subject:Xd({page:e.subject.page,axis:e.axis,frame:r,withPlaceholder:null}),frame:r})}(i);return am(a,l)},sm=function(e){var t=e.state,n=e.clientSelection,a=e.dimensions,r=e.viewport,s=e.impact,i=e.scrollJumpRequest,l=r||t.viewport,o=a||t.dimensions,c=n||t.current.client.selection,d=Hd(c,t.initial.client.selection),u={offset:d,selection:c,borderBoxCenter:Ud(t.initial.client.borderBoxCenter,d)},m={selection:Ud(u.selection,l.scroll.current),borderBoxCenter:Ud(u.borderBoxCenter,l.scroll.current),offset:Ud(u.offset,l.scroll.diff.value)},p={client:u,page:m};if("COLLECTING"===t.phase)return mc({phase:"COLLECTING"},t,{dimensions:o,viewport:l,current:p});var x=o.draggables[t.critical.draggable.id],h=s||nm({pageOffset:m.offset,draggable:x,draggables:o.draggables,droppables:o.droppables,previousImpact:t.impact,viewport:l,afterCritical:t.afterCritical}),f=function(e){var t=e.draggable,n=e.draggables,a=e.droppables,r=e.previousImpact,s=e.impact,i=rm({previousImpact:r,impact:s,droppables:a}),l=Ju(s);if(!l)return i;var o=a[l];if(mu(t,o))return i;if(o.subject.withPlaceholder)return i;var c=$u(o,t,n);return am(i,c)}({draggable:x,impact:h,previousImpact:t.impact,draggables:o.draggables,droppables:o.droppables});return mc({},t,{current:p,dimensions:{draggables:o.draggables,droppables:f},impact:h,viewport:l,scrollJumpRequest:i||null,forceShouldAnimate:!i&&null})};var im=function(e){var t=e.impact,n=e.viewport,a=e.draggables,r=e.destination,s=e.forceShouldAnimate,i=t.displaced,l=function(e,t){return e.map((function(e){return t[e]}))}(i.all,a);return mc({},t,{displaced:ku({afterDragging:l,destination:r,displacedBy:t.displacedBy,viewport:n.frame,forceShouldAnimate:s,last:i})})},lm=function(e){var t=e.impact,n=e.draggable,a=e.droppable,r=e.draggables,s=e.viewport,i=e.afterCritical,l=Fu({impact:t,draggable:n,draggables:r,droppable:a,afterCritical:i});return zu({pageBorderBoxCenter:l,draggable:n,viewport:s})},om=function(e){var t=e.state,n=e.dimensions,a=e.viewport;"SNAP"!==t.movementMode&&Pd(!1);var r=t.impact,s=a||t.viewport,i=n||t.dimensions,l=i.draggables,o=i.droppables,c=l[t.critical.draggable.id],d=Ju(r);d||Pd(!1);var u=o[d],m=im({impact:r,viewport:s,destination:u,draggables:l}),p=lm({impact:m,draggable:c,droppable:u,draggables:l,viewport:s,afterCritical:t.afterCritical});return sm({impact:m,clientSelection:p,state:t,dimensions:i,viewport:s})},cm=function(e){var t=e.draggable,n=e.home,a=e.draggables,r=e.viewport,s=Gu(n.axis,t.displaceBy),i=ou(n.descriptor.id,a),l=i.indexOf(t);-1===l&&Pd(!1);var o,c=i.slice(l+1),d=c.reduce((function(e,t){return e[t.descriptor.id]=!0,e}),{}),u={inVirtualList:"virtual"===n.descriptor.mode,displacedBy:s,effected:d};return{impact:{displaced:ku({afterDragging:c,destination:n,displacedBy:s,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:s,at:{type:"REORDER",destination:(o=t.descriptor,{index:o.index,droppableId:o.droppableId})}},afterCritical:u}},dm=function(e){0},um=function(e){0},mm=function(e){var t=e.additions,n=e.updatedDroppables,a=e.viewport,r=a.scroll.diff.value;return t.map((function(e){var t=e.descriptor.droppableId,s=function(e){var t=e.frame;return t||Pd(!1),t}(n[t]),i=s.scroll.diff.value,l=function(e){var t=e.draggable,n=e.offset,a=e.initialWindowScroll,r=gd(t.client,n),s=bd(r,a);return mc({},t,{placeholder:mc({},t.placeholder,{client:r}),client:r,page:s})}({draggable:e,offset:Ud(r,i),initialWindowScroll:a.scroll.initial});return l}))},pm=function(e){return"SNAP"===e.movementMode},xm=function(e,t,n){var a=function(e,t){return{draggables:e.draggables,droppables:am(e.droppables,t)}}(e.dimensions,t);return!pm(e)||n?sm({state:e,dimensions:a}):om({state:e,dimensions:a})};function hm(e){return e.isDragging&&"SNAP"===e.movementMode?mc({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var fm={phase:"IDLE",completed:null,shouldFlush:!1},gm=function(e,t){if(void 0===e&&(e=fm),"FLUSH"===t.type)return mc({},fm,{shouldFlush:!0});if("INITIAL_PUBLISH"===t.type){"IDLE"!==e.phase&&Pd(!1);var n=t.payload,a=n.critical,r=n.clientSelection,s=n.viewport,i=n.dimensions,l=n.movementMode,o=i.draggables[a.draggable.id],c=i.droppables[a.droppable.id],d={selection:r,borderBoxCenter:o.client.borderBox.center,offset:Bd},u={client:d,page:{selection:Ud(d.selection,s.scroll.initial),borderBoxCenter:Ud(d.selection,s.scroll.initial),offset:Ud(d.selection,s.scroll.diff.value)}},m=iu(i.droppables).every((function(e){return!e.isFixedOnPage})),p=cm({draggable:o,home:c,draggables:i.draggables,viewport:s}),x=p.impact;return{phase:"DRAGGING",isDragging:!0,critical:a,movementMode:l,dimensions:i,initial:u,current:u,isWindowScrollAllowed:m,impact:x,afterCritical:p.afterCritical,onLiftImpact:x,viewport:s,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type)return"COLLECTING"===e.phase||"DROP_PENDING"===e.phase?e:("DRAGGING"!==e.phase&&Pd(!1),mc({phase:"COLLECTING"},e,{phase:"COLLECTING"}));if("PUBLISH_WHILE_DRAGGING"===t.type)return"COLLECTING"!==e.phase&&"DROP_PENDING"!==e.phase&&Pd(!1),function(e){var t=e.state,n=e.published;dm();var a=n.modified.map((function(e){var n=t.dimensions.droppables[e.droppableId];return Zd(n,e.scroll)})),r=mc({},t.dimensions.droppables,{},ru(a)),s=su(mm({additions:n.additions,updatedDroppables:r,viewport:t.viewport})),i=mc({},t.dimensions.draggables,{},s);n.removals.forEach((function(e){delete i[e]}));var l={droppables:r,draggables:i},o=Ju(t.impact),c=o?l.droppables[o]:null,d=l.draggables[t.critical.draggable.id],u=l.droppables[t.critical.droppable.id],m=cm({draggable:d,home:u,draggables:i,viewport:t.viewport}),p=m.impact,x=m.afterCritical,h=c&&c.isCombineEnabled?t.impact:p,f=nm({pageOffset:t.current.page.offset,draggable:l.draggables[t.critical.draggable.id],draggables:l.draggables,droppables:l.droppables,previousImpact:h,viewport:t.viewport,afterCritical:x});um();var g=mc({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:f,onLiftImpact:p,dimensions:l,afterCritical:x,forceShouldAnimate:!1});return"COLLECTING"===t.phase?g:mc({phase:"DROP_PENDING"},g,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1})}({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;Yu(e)||Pd(!1);var h=t.payload.client;return qd(h,e.current.client.selection)?e:sm({state:e,clientSelection:h,impact:pm(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return hm(e);if("COLLECTING"===e.phase)return hm(e);Yu(e)||Pd(!1);var f=t.payload,g=f.id,b=f.newScroll,v=e.dimensions.droppables[g];if(!v)return e;var y=Zd(v,b);return xm(e,y,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;Yu(e)||Pd(!1);var j=t.payload,w=j.id,N=j.isEnabled,k=e.dimensions.droppables[w];k||Pd(!1),k.isEnabled===N&&Pd(!1);var S=mc({},k,{isEnabled:N});return xm(e,S,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;Yu(e)||Pd(!1);var C=t.payload,_=C.id,E=C.isCombineEnabled,I=e.dimensions.droppables[_];I||Pd(!1),I.isCombineEnabled===E&&Pd(!1);var P=mc({},I,{isCombineEnabled:E});return xm(e,P,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;Yu(e)||Pd(!1),e.isWindowScrollAllowed||Pd(!1);var D=t.payload.newScroll;if(qd(e.viewport.scroll.current,D))return hm(e);var A=Lu(e.viewport,D);return pm(e)?om({state:e,viewport:A}):sm({state:e,viewport:A})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!Yu(e))return e;var O=t.payload.maxScroll;if(qd(O,e.viewport.scroll.max))return e;var T=mc({},e.viewport,{scroll:mc({},e.viewport.scroll,{max:O})});return mc({phase:"DRAGGING"},e,{viewport:T})}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&Pd(!1);var R=Qu({state:e,type:t.type});return R?sm({state:e,impact:R.impact,clientSelection:R.clientSelection,scrollJumpRequest:R.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){var F=t.payload.reason;return"COLLECTING"!==e.phase&&Pd(!1),mc({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:F})}if("DROP_ANIMATE"===t.type){var L=t.payload,M=L.completed,z=L.dropDuration,B=L.newHomeClientOffset;return"DRAGGING"!==e.phase&&"DROP_PENDING"!==e.phase&&Pd(!1),{phase:"DROP_ANIMATING",completed:M,dropDuration:z,newHomeClientOffset:B,dimensions:e.dimensions}}return"DROP_COMPLETE"===t.type?{phase:"IDLE",completed:t.payload.completed,shouldFlush:!1}:e},bm=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},vm=function(){return{type:"COLLECTION_STARTING",payload:null}},ym=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},jm=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},wm=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},Nm=function(e){return{type:"MOVE",payload:e}},km=function(){return{type:"MOVE_UP",payload:null}},Sm=function(){return{type:"MOVE_DOWN",payload:null}},Cm=function(){return{type:"MOVE_RIGHT",payload:null}},_m=function(){return{type:"MOVE_LEFT",payload:null}},Em=function(e){return{type:"DROP_COMPLETE",payload:e}},Im=function(e){return{type:"DROP",payload:e}},Pm=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}};var Dm="cubic-bezier(.2,1,.1,1)",Am={drop:0,combining:.7},Om={drop:.75},Tm=.2+"s "+"cubic-bezier(0.2, 0, 0, 1)",Rm={fluid:"opacity "+Tm,snap:"transform "+Tm+", opacity "+Tm,drop:function(e){var t=e+"s "+Dm;return"transform "+t+", opacity "+t},outOfTheWay:"transform "+Tm,placeholder:"height "+Tm+", width "+Tm+", margin "+Tm},Fm=function(e){return qd(e,Bd)?null:"translate("+e.x+"px, "+e.y+"px)"},Lm=Fm,Mm=function(e,t){var n=Fm(e);return n?t?n+" scale("+Om.drop+")":n:null},zm=.33,Bm=.55,Um=Bm-zm,Hm=function(e){var t=e.getState,n=e.dispatch;return function(e){return function(a){if("DROP"===a.type){var r=t(),s=a.payload.reason;if("COLLECTING"!==r.phase){if("IDLE"!==r.phase){"DROP_PENDING"===r.phase&&r.isWaiting&&Pd(!1),"DRAGGING"!==r.phase&&"DROP_PENDING"!==r.phase&&Pd(!1);var i=r.critical,l=r.dimensions,o=l.draggables[r.critical.draggable.id],c=function(e){var t=e.draggables,n=e.reason,a=e.lastImpact,r=e.home,s=e.viewport,i=e.onLiftImpact;return a.at&&"DROP"===n?"REORDER"===a.at.type?{impact:a,didDropInsideDroppable:!0}:{impact:mc({},a,{displaced:xu}),didDropInsideDroppable:!0}:{impact:im({draggables:t,impact:i,destination:r,viewport:s,forceShouldAnimate:!0}),didDropInsideDroppable:!1}}({reason:s,lastImpact:r.impact,afterCritical:r.afterCritical,onLiftImpact:r.onLiftImpact,home:r.dimensions.droppables[r.critical.droppable.id],viewport:r.viewport,draggables:r.dimensions.draggables}),d=c.impact,u=c.didDropInsideDroppable,m=u?cu(d):null,p=u?du(d):null,x={index:i.draggable.index,droppableId:i.droppable.id},h={draggableId:o.descriptor.id,type:o.descriptor.type,source:x,reason:s,mode:r.movementMode,destination:m,combine:p},f=function(e){var t=e.impact,n=e.draggable,a=e.dimensions,r=e.viewport,s=e.afterCritical,i=a.draggables,l=a.droppables,o=Ju(t),c=o?l[o]:null,d=l[n.descriptor.droppableId],u=lm({impact:t,draggable:n,draggables:i,afterCritical:s,droppable:c||d,viewport:r});return Hd(u,n.client.borderBox.center)}({impact:d,draggable:o,dimensions:l,viewport:r.viewport,afterCritical:r.afterCritical}),g={critical:r.critical,afterCritical:r.afterCritical,result:h,impact:d};if(!qd(r.current.client.offset,f)||Boolean(h.combine)){var b=function(e){var t=e.current,n=e.destination,a=e.reason,r=Vd(t,n);if(r<=0)return zm;if(r>=1500)return Bm;var s=zm+Um*(r/1500);return Number(("CANCEL"===a?.6*s:s).toFixed(2))}({current:r.current.client.offset,destination:f,reason:s});n(function(e){return{type:"DROP_ANIMATE",payload:e}}({newHomeClientOffset:f,dropDuration:b,completed:g}))}else n(Em({completed:g}))}}else n(function(e){return{type:"DROP_PENDING",payload:e}}({reason:s}))}else e(a)}}},qm=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function Wm(e){var t=e.onWindowScroll;var n=kd((function(){t(qm())})),a=function(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(t){t.target!==window&&t.target!==window.document||e()}}}(n),r=Cd;function s(){return r!==Cd}return{start:function(){s()&&Pd(!1),r=_d(window,[a])},stop:function(){s()||Pd(!1),n.cancel(),r(),r=Cd},isActive:s}}var Gm=function(e){var t=Wm({onWindowScroll:function(t){e.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:t}})}});return function(e){return function(n){t.isActive()||"INITIAL_PUBLISH"!==n.type||t.start(),t.isActive()&&function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(n)&&t.stop(),e(n)}}},Vm=function(){var e=[];return{add:function(t){var n=setTimeout((function(){return function(t){var n=tu(e,(function(e){return e.timerId===t}));-1===n&&Pd(!1),e.splice(n,1)[0].callback()}(n)})),a={timerId:n,callback:t};e.push(a)},flush:function(){if(e.length){var t=[].concat(e);e.length=0,t.forEach((function(e){clearTimeout(e.timerId),e.callback()}))}}}},$m=function(e,t){dm(),t(),um()},Km=function(e,t){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t}},Jm=function(e,t,n,a){if(e){var r=function(e){var t=!1,n=!1,a=setTimeout((function(){n=!0})),r=function(r){t||n||(t=!0,e(r),clearTimeout(a))};return r.wasCalled=function(){return t},r}(n);e(t,{announce:r}),r.wasCalled()||n(a(t))}else n(a(t))},Qm=function(e,t){var n=function(e,t){var n=Vm(),a=null,r=function(n){a||Pd(!1),a=null,$m(0,(function(){return Jm(e().onDragEnd,n,t,zd)}))};return{beforeCapture:function(t,n){a&&Pd(!1),$m(0,(function(){var a=e().onBeforeCapture;a&&a({draggableId:t,mode:n})}))},beforeStart:function(t,n){a&&Pd(!1),$m(0,(function(){var a=e().onBeforeDragStart;a&&a(Km(t,n))}))},start:function(r,s){a&&Pd(!1);var i=Km(r,s);a={mode:s,lastCritical:r,lastLocation:i.source,lastCombine:null},n.add((function(){$m(0,(function(){return Jm(e().onDragStart,i,t,Ld)}))}))},update:function(r,s){var i=cu(s),l=du(s);a||Pd(!1);var o=!function(e,t){if(e===t)return!0;var n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,a=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&a}(r,a.lastCritical);o&&(a.lastCritical=r);var c,d,u=(d=i,!(null==(c=a.lastLocation)&&null==d||null!=c&&null!=d&&c.droppableId===d.droppableId&&c.index===d.index));u&&(a.lastLocation=i);var m=!function(e,t){return null==e&&null==t||null!=e&&null!=t&&e.draggableId===t.draggableId&&e.droppableId===t.droppableId}(a.lastCombine,l);if(m&&(a.lastCombine=l),o||u||m){var p=mc({},Km(r,a.mode),{combine:l,destination:i});n.add((function(){$m(0,(function(){return Jm(e().onDragUpdate,p,t,Md)}))}))}},flush:function(){a||Pd(!1),n.flush()},drop:r,abort:function(){if(a){var e=mc({},Km(a.lastCritical,a.mode),{combine:null,destination:null,reason:"CANCEL"});r(e)}}}}(e,t);return function(e){return function(t){return function(a){if("BEFORE_INITIAL_CAPTURE"!==a.type){if("INITIAL_PUBLISH"===a.type){var r=a.payload.critical;return n.beforeStart(r,a.payload.movementMode),t(a),void n.start(r,a.payload.movementMode)}if("DROP_COMPLETE"===a.type){var s=a.payload.completed.result;return n.flush(),t(a),void n.drop(s)}if(t(a),"FLUSH"!==a.type){var i=e.getState();"DRAGGING"===i.phase&&n.update(i.critical,i.impact)}else n.abort()}else n.beforeCapture(a.payload.draggableId,a.payload.movementMode)}}}},Ym=function(e){return function(t){return function(n){if("DROP_ANIMATION_FINISHED"===n.type){var a=e.getState();"DROP_ANIMATING"!==a.phase&&Pd(!1),e.dispatch(Em({completed:a.completed}))}else t(n)}}},Xm=function(e){var t=null,n=null;return function(a){return function(r){if("FLUSH"!==r.type&&"DROP_COMPLETE"!==r.type&&"DROP_ANIMATION_FINISHED"!==r.type||(n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)),a(r),"DROP_ANIMATE"===r.type){var s={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};n=requestAnimationFrame((function(){n=null,t=_d(window,[s])}))}}}},Zm=function(e){return function(t){return function(n){if(t(n),"PUBLISH_WHILE_DRAGGING"===n.type){var a=e.getState();"DROP_PENDING"===a.phase&&(a.isWaiting||e.dispatch(Im({reason:a.reason})))}}}},ep=jc,tp=function(e){var t,n=e.dimensionMarshal,a=e.focusMarshal,r=e.styleMarshal,s=e.getResponders,i=e.announce,l=e.autoScroller;return bc(gm,ep(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),a=function(){throw new Error(pc(15))},r={getState:n.getState,dispatch:function(){return a.apply(void 0,arguments)}},s=t.map((function(e){return e(r)}));return a=jc.apply(void 0,s)(n.dispatch),Le(Le({},n),{},{dispatch:a})}}}((t=r,function(){return function(e){return function(n){"INITIAL_PUBLISH"===n.type&&t.dragging(),"DROP_ANIMATE"===n.type&&t.dropping(n.payload.completed.result.reason),"FLUSH"!==n.type&&"DROP_COMPLETE"!==n.type||t.resting(),e(n)}}}),function(e){return function(){return function(t){return function(n){"DROP_COMPLETE"!==n.type&&"FLUSH"!==n.type&&"DROP_ANIMATE"!==n.type||e.stopPublishing(),t(n)}}}}(n),function(e){return function(t){var n=t.getState,a=t.dispatch;return function(t){return function(r){if("LIFT"===r.type){var s=r.payload,i=s.id,l=s.clientSelection,o=s.movementMode,c=n();"DROP_ANIMATING"===c.phase&&a(Em({completed:c.completed})),"IDLE"!==n().phase&&Pd(!1),a({type:"FLUSH",payload:null}),a({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:i,movementMode:o}});var d={draggableId:i,scrollOptions:{shouldPublishImmediately:"SNAP"===o}},u=e.startPublishing(d),m=u.critical,p=u.dimensions,x=u.viewport;a({type:"INITIAL_PUBLISH",payload:{critical:m,dimensions:p,clientSelection:l,movementMode:o,viewport:x}})}else t(r)}}}}(n),Hm,Ym,Xm,Zm,function(e){return function(t){return function(n){return function(a){if(function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(a))return e.stop(),void n(a);if("INITIAL_PUBLISH"===a.type){n(a);var r=t.getState();return"DRAGGING"!==r.phase&&Pd(!1),void e.start(r)}n(a),e.scroll(t.getState())}}}}(l),Gm,function(e){var t=!1;return function(){return function(n){return function(a){if("INITIAL_PUBLISH"===a.type)return t=!0,e.tryRecordFocus(a.payload.critical.draggable.id),n(a),void e.tryRestoreFocusRecorded();if(n(a),t){if("FLUSH"===a.type)return t=!1,void e.tryRestoreFocusRecorded();if("DROP_COMPLETE"===a.type){t=!1;var r=a.payload.completed.result;r.combine&&e.tryShiftRecord(r.draggableId,r.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}}(a),Qm(s,i))))};var np=function(e){var t=e.scrollHeight,n=e.scrollWidth,a=e.height,r=e.width,s=Hd({x:n,y:t},{x:r,y:a});return{x:Math.max(0,s.x),y:Math.max(0,s.y)}},ap=function(){var e=document.documentElement;return e||Pd(!1),e},rp=function(){var e=ap();return np({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},sp=function(e){var t=e.critical,n=e.scrollOptions,a=e.registry;dm();var r=function(){var e=qm(),t=rp(),n=e.y,a=e.x,r=ap(),s=r.clientWidth,i=r.clientHeight;return{frame:ud({top:n,left:a,right:a+s,bottom:n+i}),scroll:{initial:e,current:e,max:t,diff:{value:Bd,displacement:Bd}}}}(),s=r.scroll.current,i=t.droppable,l=a.droppable.getAllByType(i.type).map((function(e){return e.callbacks.getDimensionAndWatchScroll(s,n)})),o=a.draggable.getAllByType(t.draggable.type).map((function(e){return e.getDimension(s)})),c={draggables:su(o),droppables:ru(l)};return um(),{dimensions:c,critical:t,viewport:r}};function ip(e,t,n){return n.descriptor.id!==t.id&&(n.descriptor.type===t.type&&"virtual"===e.droppable.getById(n.descriptor.droppableId).descriptor.mode)}var lp=function(e,t){var n=null,a=function(e){var t=e.registry,n=e.callbacks,a={additions:{},removals:{},modified:{}},r=null,s=function(){r||(n.collectionStarting(),r=requestAnimationFrame((function(){r=null,dm();var e=a,s=e.additions,i=e.removals,l=e.modified,o=Object.keys(s).map((function(e){return t.draggable.getById(e).getDimension(Bd)})).sort((function(e,t){return e.descriptor.index-t.descriptor.index})),c=Object.keys(l).map((function(e){return{droppableId:e,scroll:t.droppable.getById(e).callbacks.getScrollWhileDragging()}})),d={additions:o,removals:Object.keys(i),modified:c};a={additions:{},removals:{},modified:{}},um(),n.publish(d)})))};return{add:function(e){var t=e.descriptor.id;a.additions[t]=e,a.modified[e.descriptor.droppableId]=!0,a.removals[t]&&delete a.removals[t],s()},remove:function(e){var t=e.descriptor;a.removals[t.id]=!0,a.modified[t.droppableId]=!0,a.additions[t.id]&&delete a.additions[t.id],s()},stop:function(){r&&(cancelAnimationFrame(r),r=null,a={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),r=function(t){n||Pd(!1);var r=n.critical.draggable;"ADDITION"===t.type&&ip(e,r,t.value)&&a.add(t.value),"REMOVAL"===t.type&&ip(e,r,t.value)&&a.remove(t.value)},s={updateDroppableIsEnabled:function(a,r){e.droppable.exists(a)||Pd(!1),n&&t.updateDroppableIsEnabled({id:a,isEnabled:r})},updateDroppableIsCombineEnabled:function(a,r){n&&(e.droppable.exists(a)||Pd(!1),t.updateDroppableIsCombineEnabled({id:a,isCombineEnabled:r}))},scrollDroppable:function(t,a){n&&e.droppable.getById(t).callbacks.scroll(a)},updateDroppableScroll:function(a,r){n&&(e.droppable.exists(a)||Pd(!1),t.updateDroppableScroll({id:a,newScroll:r}))},startPublishing:function(t){n&&Pd(!1);var a=e.draggable.getById(t.draggableId),s=e.droppable.getById(a.descriptor.droppableId),i={draggable:a.descriptor,droppable:s.descriptor},l=e.subscribe(r);return n={critical:i,unsubscribe:l},sp({critical:i,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:function(){if(n){a.stop();var t=n.critical.droppable;e.droppable.getAllByType(t.type).forEach((function(e){return e.callbacks.dragStopped()})),n.unsubscribe(),n=null}}};return s},op=function(e,t){return"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&(e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason)},cp=function(e){window.scrollBy(e.x,e.y)},dp=Nd((function(e){return iu(e).filter((function(e){return!!e.isEnabled&&!!e.frame}))})),up=function(e){var t=e.center,n=e.destination,a=e.droppables;if(n){var r=a[n];return r.frame?r:null}var s=function(e,t){var n=nu(dp(t),(function(t){return t.frame||Pd(!1),Xu(t.frame.pageMarginBox)(e)}));return n}(t,a);return s},mp=.25,pp=.05,xp=28,hp=function(e){return Math.pow(e,2)},fp={stopDampeningAt:1200,accelerateAt:360},gp=function(e){var t=e.startOfRange,n=e.endOfRange,a=e.current,r=n-t;return 0===r?0:(a-t)/r},bp=fp.accelerateAt,vp=fp.stopDampeningAt,yp=function(e){var t=e.distanceToEdge,n=e.thresholds,a=e.dragStartTime,r=e.shouldUseTimeDampening,s=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return xp;if(e===t.startScrollingFrom)return 1;var n=gp({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),a=xp*hp(1-n);return Math.ceil(a)}(t,n);return 0===s?0:r?Math.max(function(e,t){var n=t,a=vp,r=Date.now()-n;if(r>=vp)return e;if(r<bp)return 1;var s=gp({startOfRange:bp,endOfRange:a,current:r}),i=e*hp(s);return Math.ceil(i)}(s,a),1):s},jp=function(e){var t=e.container,n=e.distanceToEdges,a=e.dragStartTime,r=e.axis,s=e.shouldUseTimeDampening,i=function(e,t){return{startScrollingFrom:e[t.size]*mp,maxScrollValueAt:e[t.size]*pp}}(t,r);return n[r.end]<n[r.start]?yp({distanceToEdge:n[r.end],thresholds:i,dragStartTime:a,shouldUseTimeDampening:s}):-1*yp({distanceToEdge:n[r.start],thresholds:i,dragStartTime:a,shouldUseTimeDampening:s})},wp=Kd((function(e){return 0===e?0:e})),Np=function(e){var t=e.dragStartTime,n=e.container,a=e.subject,r=e.center,s=e.shouldUseTimeDampening,i={top:r.y-n.top,right:n.right-r.x,bottom:n.bottom-r.y,left:r.x-n.left},l=jp({container:n,distanceToEdges:i,dragStartTime:t,axis:vu,shouldUseTimeDampening:s}),o=jp({container:n,distanceToEdges:i,dragStartTime:t,axis:yu,shouldUseTimeDampening:s}),c=wp({x:o,y:l});if(qd(c,Bd))return null;var d=function(e){var t=e.container,n=e.subject,a=e.proposedScroll,r=n.height>t.height,s=n.width>t.width;return s||r?s&&r?null:{x:s?0:a.x,y:r?0:a.y}:a}({container:n,subject:a,proposedScroll:c});return d?qd(d,Bd)?null:d:null},kp=Kd((function(e){return 0===e?0:e>0?1:-1})),Sp=function(){var e=function(e,t){return e<0?e:e>t?e-t:0};return function(t){var n=t.current,a=t.max,r=t.change,s=Ud(n,r),i={x:e(s.x,a.x),y:e(s.y,a.y)};return qd(i,Bd)?null:i}}(),Cp=function(e){var t=e.max,n=e.current,a=e.change,r={x:Math.max(n.x,t.x),y:Math.max(n.y,t.y)},s=kp(a),i=Sp({max:r,current:n,change:s});return!i||(0!==s.x&&0===i.x||0!==s.y&&0===i.y)},_p=function(e,t){return Cp({current:e.scroll.current,max:e.scroll.max,change:t})},Ep=function(e,t){var n=e.frame;return!!n&&Cp({current:n.scroll.current,max:n.scroll.max,change:t})},Ip=function(e){var t=e.state,n=e.dragStartTime,a=e.shouldUseTimeDampening,r=e.scrollWindow,s=e.scrollDroppable,i=t.current.page.borderBoxCenter,l=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){var o=function(e){var t=e.viewport,n=e.subject,a=e.center,r=e.dragStartTime,s=e.shouldUseTimeDampening,i=Np({dragStartTime:r,container:t.frame,subject:n,center:a,shouldUseTimeDampening:s});return i&&_p(t,i)?i:null}({dragStartTime:n,viewport:t.viewport,subject:l,center:i,shouldUseTimeDampening:a});if(o)return void r(o)}var c=up({center:i,destination:Ju(t.impact),droppables:t.dimensions.droppables});if(c){var d=function(e){var t=e.droppable,n=e.subject,a=e.center,r=e.dragStartTime,s=e.shouldUseTimeDampening,i=t.frame;if(!i)return null;var l=Np({dragStartTime:r,container:i.pageMarginBox,subject:n,center:a,shouldUseTimeDampening:s});return l&&Ep(t,l)?l:null}({dragStartTime:n,droppable:c,subject:l,center:i,shouldUseTimeDampening:a});d&&s(c.descriptor.id,d)}},Pp=function(e){var t=e.move,n=e.scrollDroppable,a=e.scrollWindow,r=function(e,t){if(!Ep(e,t))return t;var a=function(e,t){var n=e.frame;return n&&Ep(e,t)?Sp({current:n.scroll.current,max:n.scroll.max,change:t}):null}(e,t);if(!a)return n(e.descriptor.id,t),null;var r=Hd(t,a);return n(e.descriptor.id,r),Hd(t,r)},s=function(e,t,n){if(!e)return n;if(!_p(t,n))return n;var r=function(e,t){if(!_p(e,t))return null;var n=e.scroll.max,a=e.scroll.current;return Sp({current:a,max:n,change:t})}(t,n);if(!r)return a(n),null;var s=Hd(n,r);return a(s),Hd(n,s)};return function(e){var n=e.scrollJumpRequest;if(n){var a=Ju(e.impact);a||Pd(!1);var i=r(e.dimensions.droppables[a],n);if(i){var l=e.viewport,o=s(e.isWindowScrollAllowed,l,i);o&&function(e,n){var a=Ud(e.current.client.selection,n);t({client:a})}(e,o)}}}},Dp=function(e){var t=e.scrollDroppable,n=e.scrollWindow,a=e.move,r=function(e){var t=e.scrollWindow,n=e.scrollDroppable,a=kd(t),r=kd(n),s=null,i=function(e){s||Pd(!1);var t=s,n=t.shouldUseTimeDampening,i=t.dragStartTime;Ip({state:e,scrollWindow:a,scrollDroppable:r,dragStartTime:i,shouldUseTimeDampening:n})};return{start:function(e){dm(),s&&Pd(!1);var t=Date.now(),n=!1,a=function(){n=!0};Ip({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:a,scrollDroppable:a}),s={dragStartTime:t,shouldUseTimeDampening:n},um(),n&&i(e)},stop:function(){s&&(a.cancel(),r.cancel(),s=null)},scroll:i}}({scrollWindow:n,scrollDroppable:t}),s=Pp({move:a,scrollWindow:n,scrollDroppable:t});return{scroll:function(e){"DRAGGING"===e.phase&&("FLUID"!==e.movementMode?e.scrollJumpRequest&&s(e):r.scroll(e))},start:r.start,stop:r.stop}},Ap="data-rbd",Op=function(){var e=Ap+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),Tp=function(){var e=Ap+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),Rp=function(){var e=Ap+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),Fp={contextId:Ap+"-scroll-container-context-id"},Lp=function(e,t){return e.map((function(e){var n=e.styles[t];return n?e.selector+" { "+n+" }":""})).join(" ")},Mp="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?a.useLayoutEffect:a.useEffect,zp=function(){var e=document.querySelector("head");return e||Pd(!1),e},Bp=function(e){var t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function Up(e,t){var n=od((function(){return function(e){var t,n=(t=e,function(e){return"["+e+'="'+t+'"]'}),a=function(){var e="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ";return{selector:n(Op.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:e,dragging:"pointer-events: none;",dropAnimating:e}}}(),r=[function(){var e="\n      transition: "+Rm.outOfTheWay+";\n    ";return{selector:n(Tp.contextId),styles:{dragging:e,dropAnimating:e,userCancel:e}}}(),a,{selector:n(Rp.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:Lp(r,"always"),resting:Lp(r,"resting"),dragging:Lp(r,"dragging"),dropAnimating:Lp(r,"dropAnimating"),userCancel:Lp(r,"userCancel")}}(e)}),[e]),r=(0,a.useRef)(null),s=(0,a.useRef)(null),i=cd(Nd((function(e){var t=s.current;t||Pd(!1),t.textContent=e})),[]),l=cd((function(e){var t=r.current;t||Pd(!1),t.textContent=e}),[]);Mp((function(){(r.current||s.current)&&Pd(!1);var a=Bp(t),o=Bp(t);return r.current=a,s.current=o,a.setAttribute(Ap+"-always",e),o.setAttribute(Ap+"-dynamic",e),zp().appendChild(a),zp().appendChild(o),l(n.always),i(n.resting),function(){var e=function(e){var t=e.current;t||Pd(!1),zp().removeChild(t),e.current=null};e(r),e(s)}}),[t,l,i,n.always,n.resting,e]);var o=cd((function(){return i(n.dragging)}),[i,n.dragging]),c=cd((function(e){i("DROP"!==e?n.userCancel:n.dropAnimating)}),[i,n.dropAnimating,n.userCancel]),d=cd((function(){s.current&&i(n.resting)}),[i,n.resting]);return od((function(){return{dragging:o,dropping:c,resting:d}}),[o,c,d])}var Hp=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function qp(e){return e instanceof Hp(e).HTMLElement}function Wp(e,t){var n="["+Op.contextId+'="'+e+'"]',a=au(document.querySelectorAll(n));if(!a.length)return null;var r=nu(a,(function(e){return e.getAttribute(Op.draggableId)===t}));return r&&qp(r)?r:null}function Gp(){var e={draggables:{},droppables:{}},t=[];function n(e){t.length&&t.forEach((function(t){return t(e)}))}function a(t){return e.draggables[t]||null}function r(t){return e.droppables[t]||null}return{draggable:{register:function(t){e.draggables[t.descriptor.id]=t,n({type:"ADDITION",value:t})},update:function(t,n){var a=e.draggables[n.descriptor.id];a&&a.uniqueId===t.uniqueId&&(delete e.draggables[n.descriptor.id],e.draggables[t.descriptor.id]=t)},unregister:function(t){var r=t.descriptor.id,s=a(r);s&&t.uniqueId===s.uniqueId&&(delete e.draggables[r],n({type:"REMOVAL",value:t}))},getById:function(e){var t=a(e);return t||Pd(!1),t},findById:a,exists:function(e){return Boolean(a(e))},getAllByType:function(t){return eu(e.draggables).filter((function(e){return e.descriptor.type===t}))}},droppable:{register:function(t){e.droppables[t.descriptor.id]=t},unregister:function(t){var n=r(t.descriptor.id);n&&t.uniqueId===n.uniqueId&&delete e.droppables[t.descriptor.id]},getById:function(e){var t=r(e);return t||Pd(!1),t},findById:r,exists:function(e){return Boolean(r(e))},getAllByType:function(t){return eu(e.droppables).filter((function(e){return e.descriptor.type===t}))}},subscribe:function(e){return t.push(e),function(){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},clean:function(){e.draggables={},e.droppables={},t.length=0}}}var Vp=a.createContext(null),$p=function(){var e=document.body;return e||Pd(!1),e},Kp={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"};var Jp=0,Qp={separator:"::"};function Yp(e,t){return void 0===t&&(t=Qp),od((function(){return""+e+t.separator+Jp++}),[t.separator,e])}var Xp=a.createContext(null);function Zp(e){0}function ex(e,t){Zp()}function tx(){ex()}function nx(e){var t=(0,a.useRef)(e);return(0,a.useEffect)((function(){t.current=e})),t}var ax,rx=((ax={})[13]=!0,ax[9]=!0,ax),sx=function(e){rx[e.keyCode]&&e.preventDefault()},ix=function(){var e="visibilitychange";return"undefined"===typeof document?e:nu([e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],(function(e){return"on"+e in document}))||e}();var lx,ox={type:"IDLE"};function cx(e){var t=e.cancel,n=e.completed,a=e.getPhase,r=e.setPhase;return[{eventName:"mousemove",fn:function(e){var t=e.button,n=e.clientX,s=e.clientY;if(0===t){var i={x:n,y:s},l=a();if("DRAGGING"===l.type)return e.preventDefault(),void l.actions.move(i);"PENDING"!==l.type&&Pd(!1);var o=l.point;if(c=o,d=i,Math.abs(d.x-c.x)>=5||Math.abs(d.y-c.y)>=5){var c,d;e.preventDefault();var u=l.actions.fluidLift(i);r({type:"DRAGGING",actions:u})}}}},{eventName:"mouseup",fn:function(e){var r=a();"DRAGGING"===r.type?(e.preventDefault(),r.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"mousedown",fn:function(e){"DRAGGING"===a().type&&e.preventDefault(),t()}},{eventName:"keydown",fn:function(e){if("PENDING"!==a().type)return 27===e.keyCode?(e.preventDefault(),void t()):void sx(e);t()}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){"PENDING"===a().type&&t()}},{eventName:"webkitmouseforcedown",fn:function(e){var n=a();"IDLE"===n.type&&Pd(!1),n.actions.shouldRespectForcePress()?t():e.preventDefault()}},{eventName:ix,fn:t}]}function dx(){}var ux=((lx={})[34]=!0,lx[33]=!0,lx[36]=!0,lx[35]=!0,lx);function mx(e,t){function n(){t(),e.cancel()}return[{eventName:"keydown",fn:function(a){return 27===a.keyCode?(a.preventDefault(),void n()):32===a.keyCode?(a.preventDefault(),t(),void e.drop()):40===a.keyCode?(a.preventDefault(),void e.moveDown()):38===a.keyCode?(a.preventDefault(),void e.moveUp()):39===a.keyCode?(a.preventDefault(),void e.moveRight()):37===a.keyCode?(a.preventDefault(),void e.moveLeft()):void(ux[a.keyCode]?a.preventDefault():sx(a))}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:ix,fn:n}]}var px={type:"IDLE"};var xx={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function hx(e,t){if(null==t)return!1;if(Boolean(xx[t.tagName.toLowerCase()]))return!0;var n=t.getAttribute("contenteditable");return"true"===n||""===n||t!==e&&hx(e,t.parentElement)}function fx(e,t){var n=t.target;return!!qp(n)&&hx(e,n)}var gx=function(e){return ud(e.getBoundingClientRect()).center};var bx=function(){var e="matches";return"undefined"===typeof document?e:nu([e,"msMatchesSelector","webkitMatchesSelector"],(function(e){return e in Element.prototype}))||e}();function vx(e,t){return null==e?null:e[bx](t)?e:vx(e.parentElement,t)}function yx(e,t){return e.closest?e.closest(t):vx(e,t)}function jx(e,t){var n,a=t.target;if(!((n=a)instanceof Hp(n).Element))return null;var r=function(e){return"["+Op.contextId+'="'+e+'"]'}(e),s=yx(a,r);return s&&qp(s)?s:null}function wx(e){e.preventDefault()}function Nx(e){var t=e.expected,n=e.phase,a=e.isLockActive;e.shouldWarn;return!!a()&&t===n}function kx(e){var t=e.lockAPI,n=e.store,a=e.registry,r=e.draggableId;if(t.isClaimed())return!1;var s=a.draggable.findById(r);return!!s&&(!!s.options.isEnabled&&!!op(n.getState(),r))}function Sx(e){var t=e.lockAPI,n=e.contextId,a=e.store,r=e.registry,s=e.draggableId,i=e.forceSensorStop,l=e.sourceEvent;if(!kx({lockAPI:t,store:a,registry:r,draggableId:s}))return null;var o=r.draggable.getById(s),c=function(e,t){var n="["+Tp.contextId+'="'+e+'"]',a=nu(au(document.querySelectorAll(n)),(function(e){return e.getAttribute(Tp.id)===t}));return a&&qp(a)?a:null}(n,o.descriptor.id);if(!c)return null;if(l&&!o.options.canDragInteractiveElements&&fx(c,l))return null;var d=t.claim(i||Cd),u="PRE_DRAG";function m(){return o.options.shouldRespectForcePress}function p(){return t.isActive(d)}var x=function(e,t){Nx({expected:e,phase:u,isLockActive:p,shouldWarn:!0})&&a.dispatch(t())}.bind(null,"DRAGGING");function h(e){function n(){t.release(),u="COMPLETED"}function r(t,r){if(void 0===r&&(r={shouldBlockNextClick:!1}),e.cleanup(),r.shouldBlockNextClick){var s=_d(window,[{eventName:"click",fn:wx,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(s)}n(),a.dispatch(Im({reason:t}))}return"PRE_DRAG"!==u&&(n(),"PRE_DRAG"!==u&&Pd(!1)),a.dispatch(function(e){return{type:"LIFT",payload:e}}(e.liftActionArgs)),u="DRAGGING",mc({isActive:function(){return Nx({expected:"DRAGGING",phase:u,isLockActive:p,shouldWarn:!1})},shouldRespectForcePress:m,drop:function(e){return r("DROP",e)},cancel:function(e){return r("CANCEL",e)}},e.actions)}var f={isActive:function(){return Nx({expected:"PRE_DRAG",phase:u,isLockActive:p,shouldWarn:!1})},shouldRespectForcePress:m,fluidLift:function(e){var t=kd((function(e){x((function(){return Nm({client:e})}))}));return mc({},h({liftActionArgs:{id:s,clientSelection:e,movementMode:"FLUID"},cleanup:function(){return t.cancel()},actions:{move:t}}),{move:t})},snapLift:function(){var e={moveUp:function(){return x(km)},moveRight:function(){return x(Cm)},moveDown:function(){return x(Sm)},moveLeft:function(){return x(_m)}};return h({liftActionArgs:{id:s,clientSelection:gx(c),movementMode:"SNAP"},cleanup:Cd,actions:e})},abort:function(){Nx({expected:"PRE_DRAG",phase:u,isLockActive:p,shouldWarn:!0})&&t.release()}};return f}var Cx=[function(e){var t=(0,a.useRef)(ox),n=(0,a.useRef)(Cd),r=od((function(){return{eventName:"mousedown",fn:function(t){if(!t.defaultPrevented&&0===t.button&&!(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)){var a=e.findClosestDraggableId(t);if(a){var r=e.tryGetLock(a,l,{sourceEvent:t});if(r){t.preventDefault();var s={x:t.clientX,y:t.clientY};n.current(),d(r,s)}}}}}}),[e]),s=od((function(){return{eventName:"webkitmouseforcewillbegin",fn:function(t){if(!t.defaultPrevented){var n=e.findClosestDraggableId(t);if(n){var a=e.findOptionsForDraggable(n);a&&(a.shouldRespectForcePress||e.canGetLock(n)&&t.preventDefault())}}}}}),[e]),i=cd((function(){n.current=_d(window,[s,r],{passive:!1,capture:!0})}),[s,r]),l=cd((function(){"IDLE"!==t.current.type&&(t.current=ox,n.current(),i())}),[i]),o=cd((function(){var e=t.current;l(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[l]),c=cd((function(){var e=cx({cancel:o,completed:l,getPhase:function(){return t.current},setPhase:function(e){t.current=e}});n.current=_d(window,e,{capture:!0,passive:!1})}),[o,l]),d=cd((function(e,n){"IDLE"!==t.current.type&&Pd(!1),t.current={type:"PENDING",point:n,actions:e},c()}),[c]);Mp((function(){return i(),function(){n.current()}}),[i])},function(e){var t=(0,a.useRef)(dx),n=od((function(){return{eventName:"keydown",fn:function(n){if(!n.defaultPrevented&&32===n.keyCode){var a=e.findClosestDraggableId(n);if(a){var s=e.tryGetLock(a,o,{sourceEvent:n});if(s){n.preventDefault();var i=!0,l=s.snapLift();t.current(),t.current=_d(window,mx(l,o),{capture:!0,passive:!1})}}}function o(){i||Pd(!1),i=!1,t.current(),r()}}}}),[e]),r=cd((function(){t.current=_d(window,[n],{passive:!1,capture:!0})}),[n]);Mp((function(){return r(),function(){t.current()}}),[r])},function(e){var t=(0,a.useRef)(px),n=(0,a.useRef)(Cd),r=cd((function(){return t.current}),[]),s=cd((function(e){t.current=e}),[]),i=od((function(){return{eventName:"touchstart",fn:function(t){if(!t.defaultPrevented){var a=e.findClosestDraggableId(t);if(a){var r=e.tryGetLock(a,o,{sourceEvent:t});if(r){var s=t.touches[0],i={x:s.clientX,y:s.clientY};n.current(),m(r,i)}}}}}}),[e]),l=cd((function(){n.current=_d(window,[i],{capture:!0,passive:!1})}),[i]),o=cd((function(){var e=t.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),s(px),n.current(),l())}),[l,s]),c=cd((function(){var e=t.current;o(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[o]),d=cd((function(){var e={capture:!0,passive:!1},t={cancel:c,completed:o,getPhase:r},a=_d(window,function(e){var t=e.cancel,n=e.completed,a=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(e){var n=a();if("DRAGGING"===n.type){n.hasMoved=!0;var r=e.touches[0],s={x:r.clientX,y:r.clientY};e.preventDefault(),n.actions.move(s)}else t()}},{eventName:"touchend",fn:function(e){var r=a();"DRAGGING"===r.type?(e.preventDefault(),r.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"touchcancel",fn:function(e){"DRAGGING"===a().type?(e.preventDefault(),t()):t()}},{eventName:"touchforcechange",fn:function(e){var n=a();"IDLE"===n.type&&Pd(!1);var r=e.touches[0];if(r&&r.force>=.15){var s=n.actions.shouldRespectForcePress();if("PENDING"!==n.type)return s?n.hasMoved?void e.preventDefault():void t():void e.preventDefault();s&&t()}}},{eventName:ix,fn:t}]}(t),e),s=_d(window,function(e){var t=e.cancel,n=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(e){e.preventDefault()}},{eventName:"keydown",fn:function(e){"DRAGGING"===n().type?(27===e.keyCode&&e.preventDefault(),t()):t()}},{eventName:ix,fn:t}]}(t),e);n.current=function(){a(),s()}}),[c,r,o]),u=cd((function(){var e=r();"PENDING"!==e.type&&Pd(!1);var t=e.actions.fluidLift(e.point);s({type:"DRAGGING",actions:t,hasMoved:!1})}),[r,s]),m=cd((function(e,t){"IDLE"!==r().type&&Pd(!1);var n=setTimeout(u,120);s({type:"PENDING",point:t,actions:e,longPressTimerId:n}),d()}),[d,r,s,u]);Mp((function(){return l(),function(){n.current();var e=r();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),s(px))}}),[r,l,s]),Mp((function(){return _d(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}])}),[])}];function _x(e){var t=e.contextId,n=e.store,r=e.registry,s=e.customSensors,i=e.enableDefaultSensors,l=[].concat(i?Cx:[],s||[]),o=(0,a.useState)((function(){return function(){var e=null;function t(){e||Pd(!1),e=null}return{isClaimed:function(){return Boolean(e)},isActive:function(t){return t===e},claim:function(t){e&&Pd(!1);var n={abandon:t};return e=n,n},release:t,tryAbandon:function(){e&&(e.abandon(),t())}}}()}))[0],c=cd((function(e,t){e.isDragging&&!t.isDragging&&o.tryAbandon()}),[o]);Mp((function(){var e=n.getState();return n.subscribe((function(){var t=n.getState();c(e,t),e=t}))}),[o,n,c]),Mp((function(){return o.tryAbandon}),[o.tryAbandon]);var d=cd((function(e){return kx({lockAPI:o,registry:r,store:n,draggableId:e})}),[o,r,n]),u=cd((function(e,a,s){return Sx({lockAPI:o,registry:r,contextId:t,store:n,draggableId:e,forceSensorStop:a,sourceEvent:s&&s.sourceEvent?s.sourceEvent:null})}),[t,o,r,n]),m=cd((function(e){return function(e,t){var n=jx(e,t);return n?n.getAttribute(Op.draggableId):null}(t,e)}),[t]),p=cd((function(e){var t=r.draggable.findById(e);return t?t.options:null}),[r.draggable]),x=cd((function(){o.isClaimed()&&(o.tryAbandon(),"IDLE"!==n.getState().phase&&n.dispatch({type:"FLUSH",payload:null}))}),[o,n]),h=cd(o.isClaimed,[o]),f=od((function(){return{canGetLock:d,tryGetLock:u,findClosestDraggableId:m,findOptionsForDraggable:p,tryReleaseLock:x,isLockClaimed:h}}),[d,u,m,p,x,h]);Zp();for(var g=0;g<l.length;g++)l[g](f)}function Ex(e){return e.current||Pd(!1),e.current}function Ix(e){var t=e.contextId,n=e.setCallbacks,r=e.sensors,s=e.nonce,i=e.dragHandleUsageInstructions,l=(0,a.useRef)(null);tx();var o=nx(e),c=cd((function(){return function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}}(o.current)}),[o]),d=function(e){var t=od((function(){return function(e){return"rbd-announcement-"+e}(e)}),[e]),n=(0,a.useRef)(null);return(0,a.useEffect)((function(){var e=document.createElement("div");return n.current=e,e.id=t,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),mc(e.style,Kp),$p().appendChild(e),function(){setTimeout((function(){var t=$p();t.contains(e)&&t.removeChild(e),e===n.current&&(n.current=null)}))}}),[t]),cd((function(e){var t=n.current;t&&(t.textContent=e)}),[])}(t),u=function(e){var t=e.contextId,n=e.text,r=Yp("hidden-text",{separator:"-"}),s=od((function(){return"rbd-hidden-text-"+(e={contextId:t,uniqueId:r}).contextId+"-"+e.uniqueId;var e}),[r,t]);return(0,a.useEffect)((function(){var e=document.createElement("div");return e.id=s,e.textContent=n,e.style.display="none",$p().appendChild(e),function(){var t=$p();t.contains(e)&&t.removeChild(e)}}),[s,n]),s}({contextId:t,text:i}),m=Up(t,s),p=cd((function(e){Ex(l).dispatch(e)}),[]),x=od((function(){return yc({publishWhileDragging:bm,updateDroppableScroll:ym,updateDroppableIsEnabled:jm,updateDroppableIsCombineEnabled:wm,collectionStarting:vm},p)}),[p]),h=function(){var e=od(Gp,[]);return(0,a.useEffect)((function(){return function(){requestAnimationFrame(e.clean)}}),[e]),e}(),f=od((function(){return lp(h,x)}),[h,x]),g=od((function(){return Dp(mc({scrollWindow:cp,scrollDroppable:f.scrollDroppable},yc({move:Nm},p)))}),[f.scrollDroppable,p]),b=function(e){var t=(0,a.useRef)({}),n=(0,a.useRef)(null),r=(0,a.useRef)(null),s=(0,a.useRef)(!1),i=cd((function(e,n){var a={id:e,focus:n};return t.current[e]=a,function(){var n=t.current;n[e]!==a&&delete n[e]}}),[]),l=cd((function(t){var n=Wp(e,t);n&&n!==document.activeElement&&n.focus()}),[e]),o=cd((function(e,t){n.current===e&&(n.current=t)}),[]),c=cd((function(){r.current||s.current&&(r.current=requestAnimationFrame((function(){r.current=null;var e=n.current;e&&l(e)})))}),[l]),d=cd((function(e){n.current=null;var t=document.activeElement;t&&t.getAttribute(Op.draggableId)===e&&(n.current=e)}),[]);return Mp((function(){return s.current=!0,function(){s.current=!1;var e=r.current;e&&cancelAnimationFrame(e)}}),[]),od((function(){return{register:i,tryRecordFocus:d,tryRestoreFocusRecorded:c,tryShiftRecord:o}}),[i,d,c,o])}(t),v=od((function(){return tp({announce:d,autoScroller:g,dimensionMarshal:f,focusMarshal:b,getResponders:c,styleMarshal:m})}),[d,g,f,b,c,m]);l.current=v;var y=cd((function(){var e=Ex(l);"IDLE"!==e.getState().phase&&e.dispatch({type:"FLUSH",payload:null})}),[]),j=cd((function(){var e=Ex(l).getState();return e.isDragging||"DROP_ANIMATING"===e.phase}),[]);n(od((function(){return{isDragging:j,tryAbort:y}}),[j,y]));var w=cd((function(e){return op(Ex(l).getState(),e)}),[]),N=cd((function(){return Yu(Ex(l).getState())}),[]),k=od((function(){return{marshal:f,focus:b,contextId:t,canLift:w,isMovementAllowed:N,dragHandleUsageInstructionsId:u,registry:h}}),[t,f,u,b,w,N,h]);return _x({contextId:t,store:v,registry:h,customSensors:r,enableDefaultSensors:!1!==e.enableDefaultSensors}),(0,a.useEffect)((function(){return y}),[y]),a.createElement(Xp.Provider,{value:k},a.createElement(Ec,{context:Vp,store:v},e.children))}var Px=0;function Dx(e){var t=od((function(){return""+Px++}),[]),n=e.dragHandleUsageInstructions||Fd;return a.createElement(Dd,null,(function(r){return a.createElement(Ix,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)}))}var Ax=function(e){return function(t){return e===t}},Ox=Ax("scroll"),Tx=Ax("auto"),Rx=(Ax("visible"),function(e,t){return t(e.overflowX)||t(e.overflowY)}),Fx=function e(t){return null==t||t===document.body||t===document.documentElement?null:function(e){var t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return Rx(n,Ox)||Rx(n,Tx)}(t)?t:e(t.parentElement)},Lx=function(e){return{x:e.scrollLeft,y:e.scrollTop}},Mx=function e(t){return!!t&&("fixed"===window.getComputedStyle(t).position||e(t.parentElement))},zx=function(e){return{closestScrollable:Fx(e),isFixedOnPage:Mx(e)}},Bx=function(e){var t=e.ref,n=e.descriptor,a=e.env,r=e.windowScroll,s=e.direction,i=e.isDropDisabled,l=e.isCombineEnabled,o=e.shouldClipSubject,c=a.closestScrollable,d=function(e,t){var n=yd(e);if(!t)return n;if(e!==t)return n;var a=n.paddingBox.top-t.scrollTop,r=n.paddingBox.left-t.scrollLeft,s=a+t.scrollHeight,i=r+t.scrollWidth,l=md({top:a,right:i,bottom:s,left:r},n.border);return hd({borderBox:l,margin:n.margin,border:n.border,padding:n.padding})}(t,c),u=bd(d,r),m=function(){if(!c)return null;var e=yd(c),t={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:e,page:bd(e,r),scroll:Lx(c),scrollSize:t,shouldClipSubject:o}}(),p=function(e){var t=e.descriptor,n=e.isEnabled,a=e.isCombineEnabled,r=e.isFixedOnPage,s=e.direction,i=e.client,l=e.page,o=e.closest,c=function(){if(!o)return null;var e=o.scrollSize,t=o.client,n=np({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:o.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:o.shouldClipSubject,scroll:{initial:o.scroll,current:o.scroll,max:n,diff:{value:Bd,displacement:Bd}}}}(),d="vertical"===s?vu:yu;return{descriptor:t,isCombineEnabled:a,isFixedOnPage:r,axis:d,isEnabled:n,client:i,page:l,frame:c,subject:Xd({page:l,withPlaceholder:null,axis:d,frame:c})}}({descriptor:n,isEnabled:!i,isCombineEnabled:l,isFixedOnPage:a.isFixedOnPage,direction:s,client:d,page:u,closest:m});return p},Ux={passive:!1},Hx={passive:!0},qx=function(e){return e.shouldPublishImmediately?Ux:Hx};function Wx(e){var t=(0,a.useContext)(e);return t||Pd(!1),t}var Gx=function(e){return e&&e.env.closestScrollable||null};function Vx(){}var $x={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},Kx=function(e){var t=e.isAnimatingOpenOnMount,n=e.placeholder,a=e.animate,r=function(e){var t=e.isAnimatingOpenOnMount,n=e.placeholder,a=e.animate;return t||"close"===a?$x:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}}({isAnimatingOpenOnMount:t,placeholder:n,animate:a});return{display:n.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==a?Rm.placeholder:null}};var Jx=a.memo((function(e){var t=(0,a.useRef)(null),n=cd((function(){t.current&&(clearTimeout(t.current),t.current=null)}),[]),r=e.animate,s=e.onTransitionEnd,i=e.onClose,l=e.contextId,o=(0,a.useState)("open"===e.animate),c=o[0],d=o[1];(0,a.useEffect)((function(){return c?"open"!==r?(n(),d(!1),Vx):t.current?Vx:(t.current=setTimeout((function(){t.current=null,d(!1)})),n):Vx}),[r,c,n]);var u=cd((function(e){"height"===e.propertyName&&(s(),"close"===r&&i())}),[r,i,s]),m=Kx({isAnimatingOpenOnMount:c,animate:e.animate,placeholder:e.placeholder});return a.createElement(e.placeholder.tagName,{style:m,"data-rbd-placeholder-context-id":l,onTransitionEnd:u,ref:e.innerRef})})),Qx=a.createContext(null);var Yx=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).state={isVisible:Boolean(t.props.on),data:t.props.on,animate:t.props.shouldAnimate&&t.props.on?"open":"none"},t.onClose=function(){"close"===t.state.animate&&t.setState({isVisible:!1})},t}return uc(t,e),t.getDerivedStateFromProps=function(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}},t.prototype.render=function(){if(!this.state.isVisible)return null;var e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)},t}(a.PureComponent),Xx=5e3,Zx=4500,eh=function(e,t){return t?Rm.drop(t.duration):e?Rm.snap:Rm.fluid},th=function(e,t){return e?t?Am.drop:Am.combining:null};function nh(e){return"DRAGGING"===e.type?function(e){var t=e.dimension.client,n=e.offset,a=e.combineWith,r=e.dropping,s=Boolean(a),i=function(e){return null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode}(e),l=Boolean(r),o=l?Mm(n,s):Lm(n);return{position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:eh(i,r),transform:o,opacity:th(s,l),zIndex:l?Zx:Xx,pointerEvents:"none"}}(e):{transform:Lm((t=e).offset),transition:t.shouldAnimateDisplacement?null:"none"};var t}function ah(e){var t=Yp("draggable"),n=e.descriptor,r=e.registry,s=e.getDraggableRef,i=e.canDragInteractiveElements,l=e.shouldRespectForcePress,o=e.isEnabled,c=od((function(){return{canDragInteractiveElements:i,shouldRespectForcePress:l,isEnabled:o}}),[i,o,l]),d=cd((function(e){var t=s();return t||Pd(!1),function(e,t,n){void 0===n&&(n=Bd);var a=window.getComputedStyle(t),r=t.getBoundingClientRect(),s=vd(r,a),i=bd(s,n);return{descriptor:e,placeholder:{client:s,tagName:t.tagName.toLowerCase(),display:a.display},displaceBy:{x:s.marginBox.width,y:s.marginBox.height},client:s,page:i}}(n,t,e)}),[n,s]),u=od((function(){return{uniqueId:t,descriptor:n,options:c,getDimension:d}}),[n,d,c,t]),m=(0,a.useRef)(u),p=(0,a.useRef)(!0);Mp((function(){return r.draggable.register(m.current),function(){return r.draggable.unregister(m.current)}}),[r.draggable]),Mp((function(){if(p.current)p.current=!1;else{var e=m.current;m.current=u,r.draggable.update(u,e)}}),[u,r.draggable])}function rh(e,t,n){ex()}function sh(e){e.preventDefault()}var ih=function(e,t){return e===t},lh=function(e){var t=e.combine,n=e.destination;return n?n.droppableId:t?t.droppableId:null};function oh(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var ch={mapped:{type:"SECONDARY",offset:Bd,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:oh(null)}};var dh=sd((function(){var e=function(){var e=Nd((function(e,t){return{x:e,y:t}})),t=Nd((function(e,t,n,a,r){return{isDragging:!0,isClone:t,isDropAnimating:Boolean(r),dropAnimation:r,mode:e,draggingOver:n,combineWith:a,combineTargetFor:null}})),n=Nd((function(e,n,a,r,s,i,l){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:s,combineWith:i,mode:n,offset:e,dimension:a,forceShouldAnimate:l,snapshot:t(n,r,s,i,null)}}}));return function(a,r){if(a.isDragging){if(a.critical.draggable.id!==r.draggableId)return null;var s=a.current.client.offset,i=a.dimensions.draggables[r.draggableId],l=Ju(a.impact),o=(d=a.impact).at&&"COMBINE"===d.at.type?d.at.combine.draggableId:null,c=a.forceShouldAnimate;return n(e(s.x,s.y),a.movementMode,i,r.isClone,l,o,c)}var d;if("DROP_ANIMATING"===a.phase){var u=a.completed;if(u.result.draggableId!==r.draggableId)return null;var m=r.isClone,p=a.dimensions.draggables[r.draggableId],x=u.result,h=x.mode,f=lh(x),g=function(e){return e.combine?e.combine.draggableId:null}(x),b={duration:a.dropDuration,curve:Dm,moveTo:a.newHomeClientOffset,opacity:g?Am.drop:null,scale:g?Om.drop:null};return{mapped:{type:"DRAGGING",offset:a.newHomeClientOffset,dimension:p,dropping:b,draggingOver:f,combineWith:g,mode:h,forceShouldAnimate:null,snapshot:t(h,m,f,g,b)}}}return null}}(),t=function(){var e=Nd((function(e,t){return{x:e,y:t}})),t=Nd(oh),n=Nd((function(e,n,a){return void 0===n&&(n=null),{mapped:{type:"SECONDARY",offset:e,combineTargetFor:n,shouldAnimateDisplacement:a,snapshot:t(n)}}})),a=function(e){return e?n(Bd,e,!0):null},r=function(t,r,s,i){var l=s.displaced.visible[t],o=Boolean(i.inVirtualList&&i.effected[t]),c=du(s),d=c&&c.draggableId===t?r:null;if(!l){if(!o)return a(d);if(s.displaced.invisible[t])return null;var u=Wd(i.displacedBy.point),m=e(u.x,u.y);return n(m,d,!0)}if(o)return a(d);var p=s.displacedBy.point,x=e(p.x,p.y);return n(x,d,l.shouldAnimate)};return function(e,t){if(e.isDragging)return e.critical.draggable.id===t.draggableId?null:r(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){var n=e.completed;return n.result.draggableId===t.draggableId?null:r(t.draggableId,n.result.draggableId,n.impact,n.afterCritical)}return null}}();return function(n,a){return e(n,a)||t(n,a)||ch}}),{dropAnimationFinished:Pm},null,{context:Vp,pure:!0,areStatePropsEqual:ih})((function(e){var t=(0,a.useRef)(null),n=cd((function(e){t.current=e}),[]),r=cd((function(){return t.current}),[]),s=Wx(Xp),i=s.contextId,l=s.dragHandleUsageInstructionsId,o=s.registry,c=Wx(Qx),d=c.type,u=c.droppableId,m=od((function(){return{id:e.draggableId,index:e.index,type:d,droppableId:u}}),[e.draggableId,e.index,d,u]),p=e.children,x=e.draggableId,h=e.isEnabled,f=e.shouldRespectForcePress,g=e.canDragInteractiveElements,b=e.isClone,v=e.mapped,y=e.dropAnimationFinished;rh(),Zp(),b||ah(od((function(){return{descriptor:m,registry:o,getDraggableRef:r,canDragInteractiveElements:g,shouldRespectForcePress:f,isEnabled:h}}),[m,o,r,g,f,h]));var j=od((function(){return h?{tabIndex:0,role:"button","aria-describedby":l,"data-rbd-drag-handle-draggable-id":x,"data-rbd-drag-handle-context-id":i,draggable:!1,onDragStart:sh}:null}),[i,l,x,h]),w=cd((function(e){"DRAGGING"===v.type&&v.dropping&&"transform"===e.propertyName&&y()}),[y,v]),N=od((function(){var e=nh(v),t="DRAGGING"===v.type&&v.dropping?w:null;return{innerRef:n,draggableProps:{"data-rbd-draggable-context-id":i,"data-rbd-draggable-id":x,style:e,onTransitionEnd:t},dragHandleProps:j}}),[i,j,x,v,w,n]),k=od((function(){return{draggableId:m.id,type:m.type,source:{index:m.index,droppableId:m.droppableId}}}),[m.droppableId,m.id,m.index,m.type]);return p(N,v.snapshot,k)}));function uh(e){return Wx(Qx).isUsingCloneFor!==e.draggableId||e.isClone?a.createElement(dh,e):null}function mh(e){var t="boolean"!==typeof e.isDragDisabled||!e.isDragDisabled,n=Boolean(e.disableInteractiveElementBlocking),r=Boolean(e.shouldRespectForcePress);return a.createElement(uh,mc({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}var ph=function(e,t){return e===t.droppable.type},xh=function(e,t){return t.draggables[e.draggable.id]};var hh={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||Pd(!1),document.body}},fh=sd((function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t=mc({},e,{shouldAnimatePlaceholder:!1}),n=Nd((function(e){return{draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}}})),a=Nd((function(a,r,s,i,l,o){var c=l.descriptor.id;if(l.descriptor.droppableId===a){var d=o?{render:o,dragging:n(l.descriptor)}:null,u={isDraggingOver:s,draggingOverWith:s?c:null,draggingFromThisWith:c,isUsingPlaceholder:!0};return{placeholder:l.placeholder,shouldAnimatePlaceholder:!1,snapshot:u,useClone:d}}if(!r)return t;if(!i)return e;var m={isDraggingOver:s,draggingOverWith:c,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:l.placeholder,shouldAnimatePlaceholder:!0,snapshot:m,useClone:null}}));return function(n,r){var s=r.droppableId,i=r.type,l=!r.isDropDisabled,o=r.renderClone;if(n.isDragging){var c=n.critical;if(!ph(i,c))return t;var d=xh(c,n.dimensions),u=Ju(n.impact)===s;return a(s,l,u,u,d,o)}if("DROP_ANIMATING"===n.phase){var m=n.completed;if(!ph(i,m.critical))return t;var p=xh(m.critical,n.dimensions);return a(s,l,lh(m.result)===s,Ju(m.impact)===s,p,o)}if("IDLE"===n.phase&&n.completed&&!n.shouldFlush){var x=n.completed;if(!ph(i,x.critical))return t;var h=Ju(x.impact)===s,f=Boolean(x.impact.at&&"COMBINE"===x.impact.at.type),g=x.critical.droppable.id===s;return h?f?e:t:g?e:t}return t}}),{updateViewportMaxScroll:function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}}},null,{context:Vp,pure:!0,areStatePropsEqual:ih})((function(e){var t=(0,a.useContext)(Xp);t||Pd(!1);var n=t.contextId,r=t.isMovementAllowed,s=(0,a.useRef)(null),l=(0,a.useRef)(null),o=e.children,c=e.droppableId,d=e.type,u=e.mode,m=e.direction,p=e.ignoreContainerClipping,x=e.isDropDisabled,h=e.isCombineEnabled,f=e.snapshot,g=e.useClone,b=e.updateViewportMaxScroll,v=e.getContainerForClone,y=cd((function(){return s.current}),[]),j=cd((function(e){s.current=e}),[]),w=(cd((function(){return l.current}),[]),cd((function(e){l.current=e}),[]));ex();var N=cd((function(){r()&&b({maxScroll:rp()})}),[r,b]);!function(e){var t=(0,a.useRef)(null),n=Wx(Xp),r=Yp("droppable"),s=n.registry,i=n.marshal,l=nx(e),o=od((function(){return{id:e.droppableId,type:e.type,mode:e.mode}}),[e.droppableId,e.mode,e.type]),c=(0,a.useRef)(o),d=od((function(){return Nd((function(e,n){t.current||Pd(!1);var a={x:e,y:n};i.updateDroppableScroll(o.id,a)}))}),[o.id,i]),u=cd((function(){var e=t.current;return e&&e.env.closestScrollable?Lx(e.env.closestScrollable):Bd}),[]),m=cd((function(){var e=u();d(e.x,e.y)}),[u,d]),p=od((function(){return kd(m)}),[m]),x=cd((function(){var e=t.current,n=Gx(e);e&&n||Pd(!1),e.scrollOptions.shouldPublishImmediately?m():p()}),[p,m]),h=cd((function(e,a){t.current&&Pd(!1);var r=l.current,s=r.getDroppableRef();s||Pd(!1);var i=zx(s),c={ref:s,descriptor:o,env:i,scrollOptions:a};t.current=c;var d=Bx({ref:s,descriptor:o,env:i,windowScroll:e,direction:r.direction,isDropDisabled:r.isDropDisabled,isCombineEnabled:r.isCombineEnabled,shouldClipSubject:!r.ignoreContainerClipping}),u=i.closestScrollable;return u&&(u.setAttribute(Fp.contextId,n.contextId),u.addEventListener("scroll",x,qx(c.scrollOptions))),d}),[n.contextId,o,x,l]),f=cd((function(){var e=t.current,n=Gx(e);return e&&n||Pd(!1),Lx(n)}),[]),g=cd((function(){var e=t.current;e||Pd(!1);var n=Gx(e);t.current=null,n&&(p.cancel(),n.removeAttribute(Fp.contextId),n.removeEventListener("scroll",x,qx(e.scrollOptions)))}),[x,p]),b=cd((function(e){var n=t.current;n||Pd(!1);var a=Gx(n);a||Pd(!1),a.scrollTop+=e.y,a.scrollLeft+=e.x}),[]),v=od((function(){return{getDimensionAndWatchScroll:h,getScrollWhileDragging:f,dragStopped:g,scroll:b}}),[g,h,f,b]),y=od((function(){return{uniqueId:r,descriptor:o,callbacks:v}}),[v,o,r]);Mp((function(){return c.current=y.descriptor,s.droppable.register(y),function(){t.current&&g(),s.droppable.unregister(y)}}),[v,o,g,y,i,s.droppable]),Mp((function(){t.current&&i.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)}),[e.isDropDisabled,i]),Mp((function(){t.current&&i.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)}),[e.isCombineEnabled,i])}({droppableId:c,type:d,mode:u,direction:m,isDropDisabled:x,isCombineEnabled:h,ignoreContainerClipping:p,getDroppableRef:y});var k=a.createElement(Yx,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},(function(e){var t=e.onClose,r=e.data,s=e.animate;return a.createElement(Jx,{placeholder:r,onClose:t,innerRef:w,animate:s,contextId:n,onTransitionEnd:N})})),S=od((function(){return{innerRef:j,placeholder:k,droppableProps:{"data-rbd-droppable-id":c,"data-rbd-droppable-context-id":n}}}),[n,c,k,j]),C=g?g.dragging.draggableId:null,_=od((function(){return{droppableId:c,type:d,isUsingCloneFor:C}}),[c,C,d]);return a.createElement(Qx.Provider,{value:_},o(S,f),function(){if(!g)return null;var e=g.dragging,t=g.render,n=a.createElement(uh,{draggableId:e.draggableId,index:e.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(function(n,a){return t(n,a,e)}));return i.createPortal(n,v())}())}));fh.defaultProps=hh;const gh=e=>{let{isOpen:t,onClose:n,onPoolCreate:r,availableHighlightGroups:s}=e;const[i,l]=(0,a.useState)(1),[o,c]=(0,a.useState)({name:"",description:"",contentFormat:"multi",files:[]}),[d,u]=(0,a.useState)([]),m=(0,a.useRef)(null),p=(0,a.useCallback)((e=>{const t=e.map((e=>({id:"".concat(e.name,"-").concat(e.lastModified,"-").concat(Math.random()),file:e,preview:URL.createObjectURL(e),caption:"",addToHighlights:!1})));c((e=>Le(Le({},e),{},{files:[...e.files,...t].slice(0,20)})))}),[]),{getRootProps:x,getInputProps:h,isDragActive:f}=Pl({onDrop:p,accept:{"image/*":[".jpeg",".png",".gif",".webp"]},maxSize:52428800}),g=(e,t)=>{c((n=>Le(Le({},n),{},{files:o.files.map((n=>n.id===e?Le(Le({},n),t):n))})))},b=(0,a.useMemo)((()=>{const e={},t=[];return o.files.forEach((n=>{n.groupId?(e[n.groupId]||(e[n.groupId]=[]),e[n.groupId].push(n)):t.push(n)})),{grouped:e,ungrouped:t}}),[o.files]),v=[{id:1,title:"Basic Information"},{id:2,title:"Upload & Organize Content"}];return t?(0,Qe.jsx)("div",{className:"fixed inset-0 bg-gray-800 bg-opacity-75 z-50 flex justify-center items-center p-4",children:(0,Qe.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-6xl max-h-[95vh] flex flex-col",children:[(0,Qe.jsxs)("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Create New Post Pool"}),(0,Qe.jsx)("p",{className:"text-sm text-gray-500",children:"Organize your post content into reusable collections."})]}),(0,Qe.jsx)("button",{onClick:n,className:"p-2 rounded-full hover:bg-gray-100",children:(0,Qe.jsx)(ts,{className:"w-6 h-6 text-gray-500"})})]}),(0,Qe.jsx)(Dx,{onDragEnd:e=>{if(!e.destination)return;const t=Array.from(o.files),[n]=t.splice(e.source.index,1);t.splice(e.destination.index,0,n),c((e=>Le(Le({},e),{},{files:t})))},children:(0,Qe.jsxs)("div",{className:"p-8 overflow-y-auto",children:[1===i&&(0,Qe.jsxs)(Qe.Fragment,{children:[(0,Qe.jsxs)(Yo,{children:[(0,Qe.jsx)(Xo,{htmlFor:"post-pool-name",label:"Pool Name",required:!0}),(0,Qe.jsx)(Zo,{id:"post-pool-name",value:o.name,onChange:e=>c(Le(Le({},o),{},{name:e.target.value})),placeholder:"e.g., Summer Highlights"})]}),(0,Qe.jsxs)(Yo,{children:[(0,Qe.jsx)(Xo,{htmlFor:"post-pool-description",label:"Description"}),(0,Qe.jsx)(ec,{id:"post-pool-description",value:o.description,onChange:e=>c(Le(Le({},o),{},{description:e.target.value})),placeholder:"A short description of the posts in this pool."})]}),(0,Qe.jsxs)(Yo,{children:[(0,Qe.jsx)(Xo,{htmlFor:"content-format",label:"Content Format"}),(0,Qe.jsxs)(nc,{id:"content-format",value:o.contentFormat,onChange:e=>c(Le(Le({},o),{},{contentFormat:e.target.value})),children:[(0,Qe.jsx)("option",{value:"multi",children:"Multi-Image Posts (Carousel)"}),(0,Qe.jsx)("option",{value:"single",children:"Single-Image Posts"})]})]})]}),2===i&&(0,Qe.jsxs)("div",{children:[(0,Qe.jsxs)("div",Le(Le({},x()),{},{className:"relative border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-colors ".concat(f?"border-blue-600 bg-blue-50":"border-gray-300 hover:border-blue-500"),children:[(0,Qe.jsx)("input",Le(Le({},h()),{},{ref:m})),(0,Qe.jsxs)("div",{className:"space-y-4",children:[(0,Qe.jsx)("div",{className:"text-6xl",children:"\ud83d\udce4"}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("h3",{className:"text-lg font-medium",children:"Drop images here or click to upload"}),(0,Qe.jsx)("p",{className:"text-sm text-gray-500",children:"Max 20 images. Drag to reorder."})]})]})]})),d.length>1&&"multi"===o.contentFormat&&(0,Qe.jsxs)("div",{className:"my-4 p-3 bg-blue-50 border border-blue-200 rounded-lg flex items-center justify-between",children:[(0,Qe.jsxs)("span",{children:[d.length," items selected."]}),(0,Qe.jsxs)(rc,{onClick:()=>{if(d.length<=1)return;const e="group-".concat(Date.now());c((t=>Le(Le({},t),{},{files:t.files.map((t=>d.includes(t.id)?Le(Le({},t),{},{groupId:e}):t))}))),u([])},children:[(0,Qe.jsx)(ic,{className:"mr-2 h-4 w-4"})," Group as Carousel"]})]}),(0,Qe.jsx)(fh,{droppableId:"postFiles",children:e=>(0,Qe.jsxs)("div",Le(Le({},e.droppableProps),{},{ref:e.innerRef,className:"mt-4 grid grid-cols-1 gap-6",children:[Object.entries(b.grouped).map((e=>{let[t,n]=e;return(0,Qe.jsxs)("div",{className:"p-4 border-2 border-blue-400 rounded-lg bg-blue-50",children:[(0,Qe.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,Qe.jsxs)("div",{className:"flex items-center",children:[(0,Qe.jsx)(lc,{className:"h-5 w-5 text-blue-600 mr-2"}),(0,Qe.jsxs)("h4",{className:"font-semibold text-blue-800",children:["Carousel Group (",n.length," items)"]})]}),(0,Qe.jsxs)(rc,{variant:"ghost",size:"sm",onClick:()=>(e=>{c((t=>Le(Le({},t),{},{files:t.files.map((t=>t.groupId===e?Le(Le({},t),{},{groupId:void 0}):t))})))})(t),children:[(0,Qe.jsx)(oc,{className:"h-4 w-4 mr-1"})," Ungroup"]})]}),(0,Qe.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:n.map(((e,t)=>(0,Qe.jsx)(mh,{draggableId:e.id,index:o.files.findIndex((t=>t.id===e.id)),children:(t,n)=>(0,Qe.jsx)("div",Le(Le(Le({ref:t.innerRef},t.draggableProps),t.dragHandleProps),{},{className:"bg-white rounded-lg shadow-md overflow-hidden border-2 ".concat(n.isDragging?"border-blue-600":"border-transparent"," ").concat(d.includes(e.id)?"border-green-500":""),children:(0,Qe.jsx)("img",{src:e.preview,alt:e.file.name,className:"w-full h-32 object-cover"})}))},e.id)))})]},t)})),(0,Qe.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:b.ungrouped.map(((e,t)=>(0,Qe.jsx)(mh,{draggableId:e.id,index:o.files.findIndex((t=>t.id===e.id)),children:(t,n)=>(0,Qe.jsxs)("div",Le(Le({ref:t.innerRef},t.draggableProps),{},{className:"bg-white rounded-lg shadow-md overflow-hidden border-2 ".concat(n.isDragging?"border-blue-500":"border-transparent"," ").concat(d.includes(e.id)?"border-green-500":""),children:[(0,Qe.jsxs)("div",{className:"relative",children:[(0,Qe.jsx)("img",{src:e.preview,alt:e.file.name,className:"w-full h-40 object-cover cursor-pointer",onClick:()=>{const t=d.includes(e.id)?d.filter((t=>t!==e.id)):[...d,e.id];u(t)}}),(0,Qe.jsx)("div",Le(Le({},t.dragHandleProps),{},{className:"absolute top-1 left-1 bg-black bg-opacity-50 text-white p-1 rounded-full cursor-grab",children:(0,Qe.jsx)(cc,{size:16})})),(0,Qe.jsx)("button",{type:"button",onClick:()=>{return t=e.id,void c((e=>Le(Le({},e),{},{files:e.files.filter((e=>e.id!==t))})));var t},className:"absolute top-1 right-1 bg-black bg-opacity-50 text-white p-1 rounded-full hover:bg-red-600",children:(0,Qe.jsx)(Kr,{size:16})})]}),(0,Qe.jsxs)("div",{className:"p-3",children:[(0,Qe.jsx)(ec,{id:"caption-".concat(e.id),value:e.caption,onChange:t=>g(e.id,{caption:t.target.value}),placeholder:"Enter caption...",rows:2}),(0,Qe.jsxs)("div",{className:"mt-2",children:[(0,Qe.jsx)(Xo,{htmlFor:"highlight-".concat(e.id),label:"Add to Highlight"}),(0,Qe.jsx)(tc,{id:"highlight-".concat(e.id),checked:e.addToHighlights,onChange:t=>g(e.id,{addToHighlights:t})})]}),e.addToHighlights&&(0,Qe.jsxs)(nc,{id:"highlight-group-".concat(e.id),value:String(e.targetHighlightGroupId||""),onChange:t=>g(e.id,{targetHighlightGroupId:Number(t.target.value)}),children:[(0,Qe.jsx)("option",{value:"",children:"Select group..."}),s.map((e=>(0,Qe.jsx)("option",{value:e.id,children:e.name},e.id)))]})]})]}))},e.id)))}),e.placeholder]}))})]})]})}),(0,Qe.jsxs)("div",{className:"flex justify-between items-center p-6 border-t border-gray-200 bg-gray-50 rounded-b-2xl",children:[(0,Qe.jsx)("div",{className:"flex items-center space-x-2",children:v.map((e=>(0,Qe.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(e.id<=i?"bg-blue-600":"bg-gray-300")},e.id)))}),(0,Qe.jsxs)("div",{className:"flex space-x-4",children:[i>1&&(0,Qe.jsxs)(rc,{variant:"outline",onClick:()=>l(i-1),children:[(0,Qe.jsx)(cs,{className:"mr-2 h-4 w-4"})," Back"]}),i<v.length?(0,Qe.jsxs)(rc,{onClick:()=>l(i+1),children:["Next ",(0,Qe.jsx)(ds,{className:"ml-2 h-4 w-4"})]}):(0,Qe.jsxs)(rc,{onClick:async()=>{const{name:e,description:t,contentFormat:a,files:s}=o,i={name:e,description:t,pool_type:"post",content_format:a,content_files:s.map((e=>e.file)),captions:s.map((e=>e.caption)),post_groups:s.map((e=>e.groupId||null)),target_highlight_groups:s.map((e=>e.targetHighlightGroupId)).filter(Boolean),auto_add_to_highlights:s.some((e=>e.addToHighlights))};await r(i),n()},variant:"primary",children:[(0,Qe.jsx)(ns,{className:"mr-2 h-4 w-4"})," Create Pool"]})]})]})]})}):null},bh=He("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),vh=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],yh=e=>{let{selectedMonths:t,onChange:n}=e;return(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Available Months"}),(0,Qe.jsx)("div",{className:"grid grid-cols-6 gap-2",children:vh.map(((e,a)=>{const r=a+1,s=t.includes(r);return(0,Qe.jsx)("button",{type:"button",onClick:()=>(e=>{const a=e+1,r=t.includes(a)?t.filter((e=>e!==a)):[...t,a];n(r.sort(((e,t)=>e-t)))})(a),className:"px-3 py-2 text-sm font-medium text-center rounded-md transition-colors ".concat(s?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-200 text-gray-800 hover:bg-gray-300"),children:e},e)}))}),(0,Qe.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Select the months this content will be available for posting. Leave empty for all year."})]})},jh=e=>{let{isOpen:t,onClose:n,onGroupCreate:r,existingGroups:s}=e;const[i,l]=(0,a.useState)({name:"",description:"",category:"",content_files:[],seasonal_batches:[],maintenance_frequency_weeks:3,content_per_maintenance:2,seasonal_months:[1,2,3,4,5,6,7,8,9,10,11,12],blocks_sprint_types:[],blocks_highlight_groups:[],starting_position:1,auto_reorder:!0}),[o,c]=(0,a.useState)(1),[d,u]=(0,a.useState)(!1),[m,p]=(0,a.useState)(null),x=[{id:1,title:"Basic Information",description:"Set up group name, category, and description",completed:!1,valid:!1,errors:[]},{id:2,title:"Content Pool",description:"Upload content and organize seasonal batches",completed:!1,valid:!1,errors:[]},{id:3,title:"Maintenance Schedule",description:"Configure automated maintenance timing",completed:!1,valid:!1,errors:[]},{id:4,title:"Blocking Rules",description:"Set up conflict prevention rules",completed:!1,valid:!1,errors:[]},{id:5,title:"Position Settings",description:"Configure highlight positioning",completed:!1,valid:!1,errors:[]}],h=(0,a.useCallback)((()=>{const e=[];return i.name.trim()||e.push("Group name is required"),i.name.length<3&&e.push("Group name must be at least 3 characters"),s.some((e=>e.name.toLowerCase()===i.name.toLowerCase()))&&e.push("A group with this name already exists"),i.category||e.push("Category is required"),e}),[i.name,i.category,s]),f=(0,a.useCallback)((()=>{const e=[];return 0===i.content_files.length&&e.push("At least one content file is required"),i.content_files.length>100&&e.push("Maximum 100 content items allowed"),e}),[i.content_files]),g=(0,a.useCallback)((()=>{const e=[];return(i.maintenance_frequency_weeks<1||i.maintenance_frequency_weeks>12)&&e.push("Maintenance frequency must be between 1-12 weeks"),(i.content_per_maintenance<1||i.content_per_maintenance>5)&&e.push("Content per maintenance must be between 1-5 items"),0===i.seasonal_months.length&&e.push("At least one month must be selected"),e}),[i.maintenance_frequency_weeks,i.content_per_maintenance,i.seasonal_months]),b=(0,a.useCallback)((()=>[]),[]),v=(0,a.useCallback)((()=>{const e=[];return(i.starting_position<1||i.starting_position>20)&&e.push("Starting position must be between 1-20"),e}),[i.starting_position]),y=(0,a.useCallback)((e=>{switch(e){case 1:return h();case 2:return f();case 3:return g();case 4:return b();case 5:return v();default:return[]}}),[h,f,g,b,v]),j=(0,a.useCallback)((e=>{S(e)}),[]),{getRootProps:w,getInputProps:N,isDragActive:k}=Pl({onDrop:j,accept:{"image/*":[".jpeg",".png",".gif",".webp"],"video/*":[".mp4",".mov",".avi"]},maxSize:52428800}),S=e=>{if(!e)return;const t=Array.from(e).filter((e=>{const t=e.type.startsWith("image/")||e.type.startsWith("video/"),n=e.size<=52428800;return t&&n}));l((e=>Le(Le({},e),{},{content_files:[...e.content_files,...t].slice(0,100)})))},C=(e,t)=>{l((n=>Le(Le({},n),{},{seasonal_batches:n.seasonal_batches.map(((n,a)=>a===e?Le(Le({},n),t):n))})))},_=o<5&&0===y(o).length,E=o>1;return(0,a.useEffect)((()=>{t||(l({name:"",description:"",category:"",content_files:[],seasonal_batches:[],maintenance_frequency_weeks:3,content_per_maintenance:2,seasonal_months:[1,2,3,4,5,6,7,8,9,10,11,12],blocks_sprint_types:[],blocks_highlight_groups:[],starting_position:1,auto_reorder:!0}),c(1),p(null))}),[t]),t?(0,Qe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Qe.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[(0,Qe.jsxs)("div",{className:"flex items-center justify-between p-6 border-b",children:[(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Create Highlight Group"}),(0,Qe.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["Step ",o," of ",x.length,": ",x[o-1].title]})]}),(0,Qe.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:(0,Qe.jsx)(ts,{size:24})})]}),(0,Qe.jsx)("div",{className:"px-6 py-4 border-b bg-gray-50",children:(0,Qe.jsx)("div",{className:"flex items-center justify-between",children:x.map(((e,t)=>(0,Qe.jsxs)("div",{className:"flex items-center",children:[(0,Qe.jsx)("div",{className:"flex items-center justify-center w-8 h-8 rounded-full border-2 ".concat(o>e.id?"bg-green-500 border-green-500 text-white":o===e.id?"bg-blue-500 border-blue-500 text-white":"bg-white border-gray-300 text-gray-400"),children:o>e.id?(0,Qe.jsx)(ns,{size:16}):(0,Qe.jsx)("span",{className:"text-sm font-medium",children:e.id})}),(0,Qe.jsx)("div",{className:"ml-3 hidden sm:block",children:(0,Qe.jsx)("div",{className:"text-sm font-medium ".concat(o>=e.id?"text-gray-900":"text-gray-400"),children:e.title})}),t<x.length-1&&(0,Qe.jsx)("div",{className:"mx-4 h-0.5 w-12 bg-gray-300"})]},e.id)))})}),(0,Qe.jsxs)("div",{className:"p-6 overflow-y-auto",style:{maxHeight:"calc(90vh - 200px)"},children:[1===o&&(0,Qe.jsxs)("div",{className:"space-y-6",children:[(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Group Name *"}),(0,Qe.jsx)("input",{type:"text",value:i.name,onChange:e=>l((t=>Le(Le({},t),{},{name:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Travel Adventures, Fitness Journey"})]}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),(0,Qe.jsxs)("select",{value:i.category,onChange:e=>l((t=>Le(Le({},t),{},{category:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,Qe.jsx)("option",{value:"",children:"Select a category"}),(0,Qe.jsx)("option",{value:"travel",children:"Travel"}),(0,Qe.jsx)("option",{value:"fitness",children:"Fitness"}),(0,Qe.jsx)("option",{value:"lifestyle",children:"Lifestyle"}),(0,Qe.jsx)("option",{value:"professional",children:"Professional"}),(0,Qe.jsx)("option",{value:"food",children:"Food"}),(0,Qe.jsx)("option",{value:"fashion",children:"Fashion"}),(0,Qe.jsx)("option",{value:"home",children:"Home & Decor"}),(0,Qe.jsx)("option",{value:"pets",children:"Pets"}),(0,Qe.jsx)("option",{value:"other",children:"Other"})]})]}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),(0,Qe.jsx)("textarea",{value:i.description,onChange:e=>l((t=>Le(Le({},t),{},{description:e.target.value}))),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Brief description of this highlight group..."})]}),h().length>0&&(0,Qe.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,Qe.jsxs)("div",{className:"flex items-start",children:[(0,Qe.jsx)(ks,{className:"h-5 w-5 text-red-500 mt-0.5"}),(0,Qe.jsxs)("div",{className:"ml-3",children:[(0,Qe.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Please fix the following errors:"}),(0,Qe.jsx)("ul",{className:"mt-2 text-sm text-red-700 list-disc list-inside",children:h().map(((e,t)=>(0,Qe.jsx)("li",{children:e},t)))})]})]})})]}),2===o&&(0,Qe.jsxs)("div",{className:"space-y-6",children:[(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content Upload *"}),(0,Qe.jsxs)("div",{className:"mt-4",children:[(0,Qe.jsxs)("h4",{className:"text-lg font-semibold text-gray-800 mb-2",children:["Content Files (",i.content_files.length,"/100)"]}),(0,Qe.jsxs)("div",Le(Le({},w()),{},{className:"border-2 border-dashed rounded-lg p-6 text-center cursor-pointer transition-colors ".concat(k?"border-blue-600 bg-blue-50":"border-gray-300 hover:border-blue-500"),children:[(0,Qe.jsx)("input",Le({},N())),(0,Qe.jsx)(Jr,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,Qe.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Drag & drop files here, or click to select files"}),(0,Qe.jsx)("p",{className:"text-xs text-gray-500",children:"Images and videos supported, up to 50MB each."})]})),(0,Qe.jsx)(Dx,{onDragEnd:e=>{if(!e.destination)return;const t=Array.from(i.content_files),[n]=t.splice(e.source.index,1);t.splice(e.destination.index,0,n),l((e=>Le(Le({},e),{},{content_files:t})))},children:(0,Qe.jsx)(fh,{droppableId:"contentFiles",children:e=>(0,Qe.jsxs)("div",Le(Le({},e.droppableProps),{},{ref:e.innerRef,className:"mt-4 space-y-2 max-h-60 overflow-y-auto pr-2",children:[i.content_files.map(((e,t)=>(0,Qe.jsx)(mh,{draggableId:e.name+t,index:t,children:n=>(0,Qe.jsxs)("div",Le(Le(Le({ref:n.innerRef},n.draggableProps),n.dragHandleProps),{},{className:"flex items-center justify-between bg-gray-50 p-2 rounded-md border",children:[(0,Qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Qe.jsx)(cc,{className:"h-5 w-5 text-gray-400"}),(0,Qe.jsx)("span",{className:"text-sm font-medium text-gray-700 truncate w-60",children:e.name})]}),(0,Qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Qe.jsxs)("span",{className:"text-sm text-gray-500",children:[Math.round(e.size/1024)," KB"]}),(0,Qe.jsx)("button",{type:"button",onClick:()=>(e=>{l((t=>Le(Le({},t),{},{content_files:t.content_files.filter(((t,n)=>n!==e))})))})(t),className:"p-1 text-gray-500 hover:text-red-600 rounded-full hover:bg-red-100",children:(0,Qe.jsx)(Kr,{className:"h-4 w-4"})})]})]}))},e.name+t))),e.placeholder]}))})})]})]}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Qe.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Seasonal Batches"}),(0,Qe.jsxs)("button",{onClick:()=>{const e={id:Date.now().toString(),name:"",months:[],content_count:0,description:""};l((t=>Le(Le({},t),{},{seasonal_batches:[...t.seasonal_batches,e]})))},className:"text-blue-600 hover:text-blue-800 text-sm flex items-center",children:[(0,Qe.jsx)(Xe,{size:14,className:"mr-1"}),"Add Batch"]})]}),(0,Qe.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Organize content into seasonal batches for targeted posting"}),i.seasonal_batches.map(((e,t)=>(0,Qe.jsxs)("div",{className:"border rounded-lg p-4 mb-4",children:[(0,Qe.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Qe.jsx)("input",{type:"text",value:e.name,onChange:e=>C(t,{name:e.target.value}),placeholder:"Batch name (e.g., Summer 2024)",className:"flex-1 px-3 py-1 border border-gray-300 rounded text-sm"}),(0,Qe.jsx)("button",{onClick:()=>(e=>{l((t=>Le(Le({},t),{},{seasonal_batches:t.seasonal_batches.filter(((t,n)=>n!==e))})))})(t),className:"ml-2 text-red-500 hover:text-red-700",children:(0,Qe.jsx)(Kr,{size:14})})]}),(0,Qe.jsx)("div",{className:"grid grid-cols-3 gap-2",children:[1,2,3,4,5,6,7,8,9,10,11,12].map((n=>(0,Qe.jsxs)("label",{className:"flex items-center text-sm",children:[(0,Qe.jsx)("input",{type:"checkbox",checked:e.months.includes(n),onChange:a=>{const r=a.target.checked?[...e.months,n]:e.months.filter((e=>e!==n));C(t,{months:r})},className:"mr-2 rounded"}),new Date(2024,n-1).toLocaleDateString("en",{month:"short"})]},n)))})]},e.id)))]}),f().length>0&&(0,Qe.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,Qe.jsxs)("div",{className:"flex items-start",children:[(0,Qe.jsx)(ks,{className:"h-5 w-5 text-red-500 mt-0.5"}),(0,Qe.jsxs)("div",{className:"ml-3",children:[(0,Qe.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Please fix the following errors:"}),(0,Qe.jsx)("ul",{className:"mt-2 text-sm text-red-700 list-disc list-inside",children:f().map(((e,t)=>(0,Qe.jsx)("li",{children:e},t)))})]})]})})]}),3===o&&(0,Qe.jsxs)("div",{className:"space-y-6",children:[(0,Qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Maintenance Frequency *"}),(0,Qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Qe.jsx)("input",{type:"number",min:"1",max:"12",value:i.maintenance_frequency_weeks,onChange:e=>l((t=>Le(Le({},t),{},{maintenance_frequency_weeks:parseInt(e.target.value)||1}))),className:"w-20 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,Qe.jsx)("span",{className:"text-sm text-gray-600",children:"weeks"})]}),(0,Qe.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Recommended: 2-4 weeks"})]}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content Per Maintenance *"}),(0,Qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Qe.jsx)("input",{type:"number",min:"1",max:"5",value:i.content_per_maintenance,onChange:e=>l((t=>Le(Le({},t),{},{content_per_maintenance:parseInt(e.target.value)||1}))),className:"w-20 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,Qe.jsx)("span",{className:"text-sm text-gray-600",children:"items"})]}),(0,Qe.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"How many items to refresh each time"})]})]}),(0,Qe.jsxs)("div",{className:"space-y-2",children:[(0,Qe.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:["Seasonal Availability",(0,Qe.jsx)("span",{title:"Select the months this group can post content. Leave empty for all year.",children:(0,Qe.jsx)(bh,{size:14,className:"inline ml-1 text-gray-400 cursor-pointer"})})]}),(0,Qe.jsx)(yh,{selectedMonths:i.seasonal_months,onChange:e=>l((t=>Le(Le({},t),{},{seasonal_months:e})))})]}),g().length>0&&(0,Qe.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,Qe.jsxs)("div",{className:"flex items-start",children:[(0,Qe.jsx)(ks,{className:"h-5 w-5 text-red-500 mt-0.5"}),(0,Qe.jsxs)("div",{className:"ml-3",children:[(0,Qe.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Please fix the following errors:"}),(0,Qe.jsx)("ul",{className:"mt-2 text-sm text-red-700 list-disc list-inside",children:g().map(((e,t)=>(0,Qe.jsx)("li",{children:e},t)))})]})]})})]}),4===o&&(0,Qe.jsxs)("div",{className:"space-y-6",children:[(0,Qe.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,Qe.jsxs)("div",{className:"flex items-start",children:[(0,Qe.jsx)(bh,{className:"h-5 w-5 text-blue-500 mt-0.5"}),(0,Qe.jsxs)("div",{className:"ml-3",children:[(0,Qe.jsx)("h3",{className:"text-sm font-medium text-blue-800",children:"About Blocking Rules"}),(0,Qe.jsx)("p",{className:"mt-1 text-sm text-blue-700",children:"Blocking rules prevent conflicts between this highlight group and other content sprints or highlight groups. This ensures your content strategy remains coherent and avoids contradictory messaging."})]})]})}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Block Sprint Types"}),(0,Qe.jsx)("p",{className:"text-sm text-gray-500 mb-3",children:"Select sprint types that should not run while this highlight group is active"}),(0,Qe.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:["vacation","university","home","work","fitness","travel","lifestyle","professional"].map((e=>(0,Qe.jsxs)("label",{className:"flex items-center text-sm",children:[(0,Qe.jsx)("input",{type:"checkbox",checked:i.blocks_sprint_types.includes(e),onChange:t=>{const n=t.target.checked?[...i.blocks_sprint_types,e]:i.blocks_sprint_types.filter((t=>t!==e));l((e=>Le(Le({},e),{},{blocks_sprint_types:n})))},className:"mr-2 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.charAt(0).toUpperCase()+e.slice(1)]},e)))})]}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Block Other Highlight Groups"}),(0,Qe.jsx)("p",{className:"text-sm text-gray-500 mb-3",children:"Select other highlight groups that should not be active at the same time"}),s.length>0?(0,Qe.jsx)("div",{className:"space-y-2 max-h-40 overflow-y-auto border rounded-lg p-3",children:s.map((e=>(0,Qe.jsxs)("label",{className:"flex items-center text-sm",children:[(0,Qe.jsx)("input",{type:"checkbox",checked:i.blocks_highlight_groups.includes(e.id),onChange:t=>{const n=t.target.checked?[...i.blocks_highlight_groups,e.id]:i.blocks_highlight_groups.filter((t=>t!==e.id));l((e=>Le(Le({},e),{},{blocks_highlight_groups:n})))},className:"mr-2 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,Qe.jsx)("span",{className:"font-medium",children:e.name}),(0,Qe.jsxs)("span",{className:"ml-2 text-gray-500",children:["(",e.category,")"]})]},e.id)))}):(0,Qe.jsx)("p",{className:"text-sm text-gray-500 italic",children:"No other highlight groups exist yet"})]})]}),5===o&&(0,Qe.jsxs)("div",{className:"space-y-6",children:[(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Starting Position *"}),(0,Qe.jsx)("p",{className:"text-sm text-gray-500 mb-3",children:"Choose the initial position for this highlight group (1 = first, most visible)"}),(0,Qe.jsx)("input",{type:"number",min:"1",max:"20",value:i.starting_position,onChange:e=>l((t=>Le(Le({},t),{},{starting_position:parseInt(e.target.value)||1}))),className:"w-24 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsxs)("label",{className:"flex items-center text-sm",children:[(0,Qe.jsx)("input",{type:"checkbox",checked:i.auto_reorder,onChange:e=>l((t=>Le(Le({},t),{},{auto_reorder:e.target.checked}))),className:"mr-2 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,Qe.jsx)("span",{className:"font-medium",children:"Enable automatic reordering"})]}),(0,Qe.jsx)("p",{className:"text-sm text-gray-500 ml-6 mt-1",children:"When enabled, newer highlight groups will automatically move to position 1, and this group's position will adjust accordingly."})]}),(0,Qe.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,Qe.jsxs)("div",{className:"flex items-start",children:[(0,Qe.jsx)(bh,{className:"h-5 w-5 text-yellow-500 mt-0.5"}),(0,Qe.jsxs)("div",{className:"ml-3",children:[(0,Qe.jsx)("h3",{className:"text-sm font-medium text-yellow-800",children:"Position Management"}),(0,Qe.jsx)("p",{className:"mt-1 text-sm text-yellow-700",children:"You can manually adjust positions later using the Position Manager. The system will detect and resolve any position conflicts automatically."})]})]})}),v().length>0&&(0,Qe.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,Qe.jsxs)("div",{className:"flex items-start",children:[(0,Qe.jsx)(ks,{className:"h-5 w-5 text-red-500 mt-0.5"}),(0,Qe.jsxs)("div",{className:"ml-3",children:[(0,Qe.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Please fix the following errors:"}),(0,Qe.jsx)("ul",{className:"mt-2 text-sm text-red-700 list-disc list-inside",children:v().map(((e,t)=>(0,Qe.jsx)("li",{children:e},t)))})]})]})})]})]}),(0,Qe.jsxs)("div",{className:"px-6 py-4 border-t bg-gray-50 flex items-center justify-between",children:[(0,Qe.jsxs)("button",{onClick:()=>{E&&c((e=>e-1))},disabled:!E,className:"flex items-center space-x-2 px-4 py-2 rounded-lg ".concat(E?"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50":"text-gray-400 bg-gray-100 border border-gray-200 cursor-not-allowed"),children:[(0,Qe.jsx)(cs,{size:16}),(0,Qe.jsx)("span",{children:"Previous"})]}),(0,Qe.jsxs)("div",{className:"text-sm text-gray-500",children:["Step ",o," of ",x.length]}),o<5?(0,Qe.jsxs)("button",{onClick:()=>{_&&c((e=>e+1))},disabled:!_,className:"flex items-center space-x-2 px-4 py-2 rounded-lg ".concat(_?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:[(0,Qe.jsx)("span",{children:"Next"}),(0,Qe.jsx)(ds,{size:16})]}):(0,Qe.jsx)("button",{onClick:async()=>{if(x.map(((e,t)=>y(t+1))).flat().length>0)p("Please fix all validation errors before submitting");else try{u(!0),p(null);const e={name:i.name,description:i.description||void 0,category:i.category,maintenance_frequency_weeks:i.maintenance_frequency_weeks,content_per_maintenance:i.content_per_maintenance,seasonal_months:i.seasonal_months,blocks_sprint_types:i.blocks_sprint_types,blocks_highlight_groups:i.blocks_highlight_groups,starting_position:i.starting_position};await r(e),n()}catch(e){p(e instanceof Error?e.message:"Failed to create highlight group")}finally{u(!1)}},disabled:d||!_,className:"flex items-center space-x-2 px-6 py-2 rounded-lg ".concat(d||!_?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"),children:d?(0,Qe.jsxs)(Qe.Fragment,{children:[(0,Qe.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,Qe.jsx)("span",{children:"Creating..."})]}):(0,Qe.jsxs)(Qe.Fragment,{children:[(0,Qe.jsx)(ns,{size:16}),(0,Qe.jsx)("span",{children:"Create Group"})]})})]}),m&&(0,Qe.jsx)("div",{className:"px-6 py-3 bg-red-50 border-t border-red-200",children:(0,Qe.jsxs)("div",{className:"flex items-center",children:[(0,Qe.jsx)(ks,{className:"h-4 w-4 text-red-500"}),(0,Qe.jsx)("span",{className:"ml-2 text-sm text-red-700",children:m})]})})]})}):null},wh=He("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Nh=He("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),kh=He("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Sh=[{value:"vacation",label:"Vacation",description:"Travel and vacation content to showcase destinations",icon:"\ud83c\udfd6\ufe0f",color:"bg-emerald-50 border-emerald-200 hover:bg-emerald-100",features:["Travel posts","Location tags","Lifestyle content"]},{value:"university",label:"University",description:"Student life and academic content",icon:"\ud83c\udf93",color:"bg-blue-50 border-blue-200 hover:bg-blue-100",features:["Campus life","Study content","Social activities"]},{value:"lifestyle",label:"Lifestyle",description:"Daily life and personal brand content",icon:"\u2728",color:"bg-purple-50 border-purple-200 hover:bg-purple-100",features:["Daily activities","Personal brand","Hobbies"]},{value:"work",label:"Work",description:"Professional and career-related content",icon:"\ud83d\udcbc",color:"bg-gray-50 border-gray-200 hover:bg-gray-100",features:["Professional posts","Career updates","Networking"]},{value:"fitness",label:"Fitness",description:"Health, fitness, and wellness content",icon:"\ud83d\udcaa",color:"bg-red-50 border-red-200 hover:bg-red-100",features:["Workout posts","Healthy lifestyle","Progress updates"]}],Ch=e=>{let{data:t,onChange:n,errors:r,onStepComplete:s,isActive:i}=e;const[l,o]=(0,a.useState)(t.sprint_type||""),[c,d]=(0,a.useState)(Sh),[u,m]=(0,a.useState)(!1),[p,x]=(0,a.useState)(""),[h,f]=(0,a.useState)(!1);(0,a.useEffect)((()=>{(async()=>{try{f(!0);const e=await Wr.getSprintTypes(),t=[...e.predefined.map((e=>Le(Le({},e),{},{color:g(e.value),features:e.features||[]}))),...e.custom.map((e=>Le(Le({},e),{},{color:"bg-gray-50 border-gray-200 hover:bg-gray-100",features:[],isCustom:!0})))];d(t)}catch(e){console.error("Failed to load sprint types:",e),d(Sh)}finally{f(!1)}})()}),[]);const g=e=>({vacation:"bg-emerald-50 border-emerald-200 hover:bg-emerald-100",university:"bg-blue-50 border-blue-200 hover:bg-blue-100",home:"bg-purple-50 border-purple-200 hover:bg-purple-100",work:"bg-gray-50 border-gray-200 hover:bg-gray-100",fitness:"bg-red-50 border-red-200 hover:bg-red-100"}[e]||"bg-gray-50 border-gray-200 hover:bg-gray-100"),b=e=>{o(e),n({sprint_type:e})};return(0,Qe.jsxs)("div",{className:"p-8 space-y-8",children:[(0,Qe.jsxs)("div",{className:"space-y-3",children:[(0,Qe.jsxs)("label",{className:"text-lg font-semibold text-gray-900 block",children:["Sprint Name",(0,Qe.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,Qe.jsxs)("div",{className:"relative",children:[(0,Qe.jsx)("input",{type:"text",value:t.name||"",onChange:e=>{n({name:e.target.value})},placeholder:"Enter a descriptive name for your sprint",className:"\n              w-full px-4 py-3 text-lg border rounded-xl transition-all duration-200\n              focus:ring-2 focus:ring-primary-500 focus:border-primary-500\n              ".concat(r.name?"border-red-300 bg-red-50":"border-gray-300 hover:border-gray-400","\n            ")}),r.name&&(0,Qe.jsxs)("div",{className:"mt-2 text-sm text-red-600 flex items-center",children:[(0,Qe.jsx)(bh,{className:"w-4 h-4 mr-1"}),r.name]})]}),(0,Qe.jsx)("p",{className:"text-sm text-gray-600",children:"Choose a name that clearly identifies the purpose and content of this sprint"})]}),(0,Qe.jsxs)("div",{className:"space-y-4",children:[(0,Qe.jsxs)("label",{className:"text-lg font-semibold text-gray-900 block",children:["Sprint Type",(0,Qe.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,Qe.jsx)("p",{className:"text-sm text-gray-600",children:"Select the type that best describes your sprint content"}),(0,Qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[c.map((e=>(0,Qe.jsxs)("button",{onClick:()=>b(e.value),className:"\n                relative p-6 text-left border-2 rounded-xl transition-all duration-200 group\n                ".concat(l===e.value?"border-primary-500 bg-primary-50 shadow-lg scale-105":e.color,"\n              "),children:[l===e.value&&(0,Qe.jsx)("div",{className:"absolute top-3 right-3",children:(0,Qe.jsx)("div",{className:"w-6 h-6 bg-primary-500 rounded-full flex items-center justify-center",children:(0,Qe.jsx)("div",{className:"w-2 h-2 bg-white rounded-full"})})}),(0,Qe.jsx)("div",{className:"text-3xl mb-3",children:e.icon}),(0,Qe.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:e.label}),(0,Qe.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:e.description}),e.features&&e.features.length>0&&(0,Qe.jsx)("div",{className:"space-y-1",children:e.features.map(((e,t)=>(0,Qe.jsxs)("div",{className:"flex items-center text-xs text-gray-500",children:[(0,Qe.jsx)(Nh,{className:"w-3 h-3 mr-1"}),e]},t)))}),e.isCustom&&(0,Qe.jsxs)("div",{className:"flex items-center text-xs text-blue-600 mt-2",children:[(0,Qe.jsx)(wo,{className:"w-3 h-3 mr-1"}),"Custom Type",e.usageCount&&(0,Qe.jsxs)("span",{className:"ml-1 text-gray-500",children:["(",e.usageCount," uses)"]})]})]},e.value))),(0,Qe.jsx)("button",{onClick:()=>m(!0),className:"relative p-6 text-left border-2 border-dashed border-gray-300 rounded-xl transition-all duration-200 hover:border-primary-400 hover:bg-primary-50 group",children:(0,Qe.jsxs)("div",{className:"text-center",children:[(0,Qe.jsx)(Xe,{className:"w-8 h-8 text-gray-400 mx-auto mb-3 group-hover:text-primary-500"}),(0,Qe.jsx)("h3",{className:"font-semibold text-gray-600 group-hover:text-primary-700",children:"Create Custom Type"}),(0,Qe.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Define your own sprint category"})]})})]}),u&&(0,Qe.jsxs)("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-xl",children:[(0,Qe.jsx)("h4",{className:"font-semibold text-blue-900 mb-3",children:"Create Custom Sprint Type"}),(0,Qe.jsxs)("div",{className:"space-y-3",children:[(0,Qe.jsx)("input",{type:"text",value:p,onChange:e=>x(e.target.value),placeholder:"Enter custom type name (e.g., 'photography', 'gaming')",className:"w-full px-3 py-2 border border-blue-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",autoFocus:!0}),(0,Qe.jsxs)("div",{className:"flex space-x-2",children:[(0,Qe.jsx)("button",{onClick:()=>{p.trim()&&(b(p.trim().toLowerCase()),m(!1),x(""))},disabled:!p.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Create & Select"}),(0,Qe.jsx)("button",{onClick:()=>{m(!1),x("")},className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400",children:"Cancel"})]})]})]}),r.sprint_type&&(0,Qe.jsxs)("div",{className:"text-sm text-red-600 flex items-center",children:[(0,Qe.jsx)(bh,{className:"w-4 h-4 mr-1"}),r.sprint_type]})]}),(0,Qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Qe.jsxs)("div",{className:"space-y-3",children:[(0,Qe.jsxs)("label",{className:"text-lg font-semibold text-gray-900 block",children:["Target Duration",(0,Qe.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,Qe.jsxs)("div",{className:"relative",children:[(0,Qe.jsx)(Wl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,Qe.jsx)("input",{type:"number",value:t.target_duration_hours||"",onChange:e=>{const t=parseInt(e.target.value)||0;n({target_duration_hours:t})},placeholder:"24",min:"1",max:"720",className:"\n                w-full pl-12 pr-4 py-3 text-lg border rounded-xl transition-all duration-200\n                focus:ring-2 focus:ring-primary-500 focus:border-primary-500\n                ".concat(r.target_duration_hours?"border-red-300 bg-red-50":"border-gray-300 hover:border-gray-400","\n              ")}),(0,Qe.jsx)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"hours"})]}),r.target_duration_hours&&(0,Qe.jsxs)("div",{className:"text-sm text-red-600 flex items-center",children:[(0,Qe.jsx)(bh,{className:"w-4 h-4 mr-1"}),r.target_duration_hours]}),(0,Qe.jsx)("p",{className:"text-sm text-gray-600",children:"How long should this sprint run? (1-720 hours)"})]}),(0,Qe.jsxs)("div",{className:"space-y-3",children:[(0,Qe.jsxs)("label",{className:"text-lg font-semibold text-gray-900 block",children:["Location",(0,Qe.jsx)("span",{className:"text-gray-400 text-sm font-normal ml-2",children:"(Optional)"})]}),(0,Qe.jsxs)("div",{className:"relative",children:[(0,Qe.jsx)(kh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,Qe.jsx)("input",{type:"text",value:t.location||"",onChange:e=>{n({location:e.target.value})},placeholder:"e.g., Miami, FL",className:"\r w-full pl-12 pr-4 py-3 text-lg border border-gray-300 rounded-xl\r hover:border-gray-400 focus:ring-2 focus:ring-primary-500 focus:border-primary-500\r transition-all duration-200\r "})]}),(0,Qe.jsx)("p",{className:"text-sm text-gray-600",children:"Specify a location for geo-targeted content"})]})]}),(0,Qe.jsxs)("div",{className:"space-y-3",children:[(0,Qe.jsxs)("label",{className:"text-lg font-semibold text-gray-900 block",children:["Description",(0,Qe.jsx)("span",{className:"text-gray-400 text-sm font-normal ml-2",children:"(Optional)"})]}),(0,Qe.jsx)("textarea",{value:t.description||"",onChange:e=>{n({description:e.target.value})},placeholder:"Describe the purpose and goals of this sprint...",rows:4,className:"\r w-full px-4 py-3 text-lg border border-gray-300 rounded-xl resize-none\r hover:border-gray-400 focus:ring-2 focus:ring-primary-500 focus:border-primary-500\r transition-all duration-200\r "}),(0,Qe.jsx)("p",{className:"text-sm text-gray-600",children:"Provide additional context about what this sprint aims to achieve"})]}),(0,Qe.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:(0,Qe.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Qe.jsx)(bh,{className:"w-5 h-5 text-blue-600 mt-0.5"}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("h4",{className:"font-semibold text-blue-900 mb-2",children:"Sprint Setup Tips"}),(0,Qe.jsxs)("ul",{className:"text-sm text-blue-800 space-y-1",children:[(0,Qe.jsx)("li",{children:"\u2022 Choose a descriptive name that identifies the sprint's purpose"}),(0,Qe.jsx)("li",{children:"\u2022 Select the type that best matches your content strategy"}),(0,Qe.jsx)("li",{children:"\u2022 Set a realistic duration based on your content volume"}),(0,Qe.jsx)("li",{children:"\u2022 Add location for geo-targeted campaigns"})]})]})]})})]})},_h=e=>{let{data:t,onChange:n,errors:r,onStepComplete:s,isActive:i}=e;const[l,o]=(0,a.useState)(!1),[c,d]=(0,a.useState)({}),[u,m]=(0,a.useState)([]),[p,x]=(0,a.useState)(!1),h=(0,a.useRef)(null),f=t.content_items||[],g=(0,a.useCallback)((async e=>{const a=[];for(const t of e){if(!t.type.startsWith("image/")&&!t.type.startsWith("video/"))continue;const e="temp_".concat(Date.now(),"_").concat(Math.random()),n=URL.createObjectURL(t),r={temporaryId:e,content_type:"story",file_path:n,fileName:t.name,fileSize:t.size,delay_after_hours:24,description:"",position:f.length+a.length,preview:n};a.push(r),d((t=>Le(Le({},t),{},{[e]:{fileId:e,progress:0,status:"uploading"}})));for(let t=0;t<=100;t+=20)setTimeout((()=>{d((n=>Le(Le({},n),{},{[e]:{fileId:e,progress:t,status:100===t?"completed":"uploading"}})))}),10*t)}n(Le(Le({},t),{},{content_items:[...f,...a]}))}),[t,n,f]),b=(0,a.useCallback)((e=>{e.preventDefault(),o(!0)}),[]),v=(0,a.useCallback)((e=>{e.preventDefault(),o(!1)}),[]),y=(0,a.useCallback)((e=>{e.preventDefault(),o(!1);const t=Array.from(e.dataTransfer.files);g(t)}),[g]),j=(0,a.useCallback)(((e,a)=>{const r=[...f];r[e]=Le(Le({},r[e]),a),n(Le(Le({},t),{},{content_items:r}))}),[f,t,n]),w=(0,a.useCallback)((e=>{const a=f.filter(((t,n)=>n!==e)),r=a.map(((e,t)=>Le(Le({},e),{},{position:t})));n(Le(Le({},t),{},{content_items:r}))}),[f,t,n]),N=((0,a.useCallback)(((e,a)=>{const r=[...f],[s]=r.splice(e,1);r.splice(a,0,s);const i=r.map(((e,t)=>Le(Le({},e),{},{position:t})));n(Le(Le({},t),{},{content_items:i}))}),[f,t,n]),(0,a.useCallback)((e=>{const a=f.map(((t,n)=>u.includes(t.temporaryId||String(n))?Le(Le({},t),e):t));n(Le(Le({},t),{},{content_items:a})),m([]),x(!1)}),[f,u,t,n])),k=(0,a.useCallback)((()=>{const e=f.filter(((e,t)=>!u.includes(e.temporaryId||String(t))));n(Le(Le({},t),{},{content_items:e.map(((e,t)=>Le(Le({},e),{},{position:t})))})),m([])}),[f,u,t,n]),S=((0,a.useCallback)((e=>{const t=e.toLowerCase();return t.includes("story")?"story":t.includes("post")?"post":t.includes("highlight")?"highlight":t.includes("reel")||t.includes("video")?"post":"story"}),[]),f.length>0);return(0,Qe.jsxs)("div",{className:"space-y-8",children:[(0,Qe.jsxs)("div",{className:"text-center",children:[(0,Qe.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Upload Content"}),(0,Qe.jsx)("p",{className:"text-gray-600",children:"Upload images and videos for your content sprint. Drag to reorder and configure each item."})]}),(0,Qe.jsxs)("div",{className:"relative border-2 border-dashed rounded-lg p-8 text-center transition-colors ".concat(l?"border-blue-400 bg-blue-50":"border-gray-300 hover:border-gray-400"),onDragOver:b,onDragLeave:v,onDrop:y,children:[(0,Qe.jsx)("input",{ref:h,type:"file",multiple:!0,accept:"image/*,video/*",onChange:e=>e.target.files&&g(Array.from(e.target.files)),className:"hidden"}),(0,Qe.jsxs)("div",{className:"space-y-4",children:[(0,Qe.jsx)("div",{className:"text-6xl",children:l?"\ud83d\udce4":"\ud83d\udcf1"}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:l?"Drop files here":"Upload content files"}),(0,Qe.jsxs)("p",{className:"text-gray-500 mt-1",children:["Drag and drop images/videos or"," ",(0,Qe.jsx)("button",{type:"button",onClick:()=>{var e;return null===(e=h.current)||void 0===e?void 0:e.click()},className:"text-blue-600 hover:text-blue-500 font-medium",children:"browse files"})]})]}),(0,Qe.jsxs)("div",{className:"flex justify-center space-x-6 text-sm text-gray-500",children:[(0,Qe.jsxs)("div",{className:"flex items-center",children:[(0,Qe.jsx)("span",{className:"w-2 h-2 bg-green-400 rounded-full mr-2"}),"Images: JPG, PNG, WebP"]}),(0,Qe.jsxs)("div",{className:"flex items-center",children:[(0,Qe.jsx)("span",{className:"w-2 h-2 bg-blue-400 rounded-full mr-2"}),"Videos: MP4, MOV, AVI"]})]})]})]}),u.length>0&&(0,Qe.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 flex items-center justify-between",children:[(0,Qe.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Qe.jsxs)("span",{className:"text-sm font-medium text-blue-900",children:[u.length," item",u.length>1?"s":""," selected"]}),(0,Qe.jsx)("button",{onClick:()=>x(!0),className:"text-sm text-blue-600 hover:text-blue-500 font-medium",children:"Edit Selected"}),(0,Qe.jsx)("button",{onClick:k,className:"text-sm text-red-600 hover:text-red-500 font-medium",children:"Delete Selected"})]}),(0,Qe.jsx)("button",{onClick:()=>m([]),className:"text-sm text-gray-500 hover:text-gray-400",children:"Clear Selection"})]}),f.length>0&&(0,Qe.jsxs)("div",{className:"space-y-6",children:[(0,Qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qe.jsxs)("h3",{className:"text-lg font-medium text-gray-900",children:["Content Items (",f.length,")"]}),(0,Qe.jsxs)("div",{className:"flex space-x-2",children:[(0,Qe.jsx)("button",{onClick:()=>m(f.map(((e,t)=>e.temporaryId||String(t)))),className:"text-sm text-blue-600 hover:text-blue-500",children:"Select All"}),(0,Qe.jsx)("button",{onClick:()=>m([]),className:"text-sm text-gray-500 hover:text-gray-400",children:"Deselect All"})]})]}),(0,Qe.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(((e,t)=>{const n=e.temporaryId||String(t),a=u.includes(n),r=c[n];return(0,Qe.jsxs)("div",{className:"bg-white rounded-lg border shadow-sm transition-all ".concat(a?"border-blue-400 ring-2 ring-blue-100":"border-gray-200 hover:border-gray-300"),children:[(0,Qe.jsx)("div",{className:"p-3 border-b border-gray-200",children:(0,Qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qe.jsxs)("label",{className:"flex items-center",children:[(0,Qe.jsx)("input",{type:"checkbox",checked:a,onChange:e=>{e.target.checked?m([...u,n]):m(u.filter((e=>e!==n)))},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,Qe.jsx)("span",{className:"ml-2 text-sm text-gray-600",children:"Select"})]}),(0,Qe.jsx)("button",{onClick:()=>w(t),className:"text-red-400 hover:text-red-600 p-1",title:"Remove item",children:(0,Qe.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Qe.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})}),(0,Qe.jsxs)("div",{className:"relative",children:[(0,Qe.jsx)("img",{src:e.preview||e.file_path,alt:e.fileName||"Content ".concat(t+1),className:"w-full h-40 object-cover"}),r&&"uploading"===r.status&&(0,Qe.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:(0,Qe.jsxs)("div",{className:"bg-white rounded-lg p-4 text-center",children:[(0,Qe.jsx)("div",{className:"w-8 h-8 border-2 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-2"}),(0,Qe.jsxs)("p",{className:"text-sm text-gray-600",children:[r.progress,"%"]})]})}),(0,Qe.jsx)("div",{className:"absolute top-2 left-2",children:(0,Qe.jsxs)("select",{value:e.content_type,onChange:e=>j(t,{content_type:e.target.value}),className:"text-xs bg-white bg-opacity-90 border border-gray-300 rounded px-2 py-1 font-medium",children:[(0,Qe.jsx)("option",{value:"story",children:"\ud83d\udcf1 Story"}),(0,Qe.jsx)("option",{value:"post",children:"\ud83d\udcf8 Post"}),(0,Qe.jsx)("option",{value:"highlight",children:"\u2b50 Highlight"})]})}),(0,Qe.jsxs)("div",{className:"absolute top-2 right-2 bg-gray-900 bg-opacity-75 text-white text-xs px-2 py-1 rounded",children:["#",t+1]})]}),(0,Qe.jsxs)("div",{className:"p-4 space-y-3",children:[(0,Qe.jsxs)("div",{className:"text-xs text-gray-500",children:[e.fileName&&(0,Qe.jsx)("div",{className:"truncate",children:e.fileName}),e.fileSize&&(0,Qe.jsxs)("div",{children:[(e.fileSize/1024/1024).toFixed(2)," MB"]})]}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Caption"}),(0,Qe.jsx)("textarea",{value:e.description||"",onChange:e=>j(t,{description:e.target.value}),placeholder:"Add a caption...",className:"w-full text-sm border border-gray-300 rounded px-3 py-2 resize-none",rows:2})]}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Delay After (hours)"}),(0,Qe.jsx)("input",{type:"number",value:e.delay_after_hours,onChange:e=>j(t,{delay_after_hours:parseInt(e.target.value)||24}),min:"1",max:"168",className:"w-full text-sm border border-gray-300 rounded px-3 py-2"})]})]})]},n)}))})]}),!S&&0===f.length&&(0,Qe.jsxs)("div",{className:"text-center py-8",children:[(0,Qe.jsx)("div",{className:"text-gray-400 text-lg mb-2",children:"\ud83d\udcf1"}),(0,Qe.jsx)("p",{className:"text-gray-500",children:"Upload at least one content item to continue"})]}),p&&(0,Qe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Qe.jsxs)("div",{className:"bg-white rounded-lg p-6 w-96 max-w-full mx-4",children:[(0,Qe.jsxs)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:["Edit ",u.length," Items"]}),(0,Qe.jsxs)("div",{className:"space-y-4",children:[(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Content Type"}),(0,Qe.jsxs)("select",{className:"w-full border border-gray-300 rounded px-3 py-2",children:[(0,Qe.jsx)("option",{value:"",children:"Keep current values"}),(0,Qe.jsx)("option",{value:"story",children:"\ud83d\udcf1 Story"}),(0,Qe.jsx)("option",{value:"post",children:"\ud83d\udcf8 Post"}),(0,Qe.jsx)("option",{value:"highlight",children:"\u2b50 Highlight"})]})]}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Delay After (hours)"}),(0,Qe.jsx)("input",{type:"number",placeholder:"Keep current values",className:"w-full border border-gray-300 rounded px-3 py-2"})]})]}),(0,Qe.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,Qe.jsx)("button",{onClick:()=>x(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),(0,Qe.jsx)("button",{onClick:()=>N({}),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Apply Changes"})]})]})})]})},Eh=e=>{let{data:t,onChange:n,errors:r,onStepComplete:s,isActive:i}=e;const[l,o]=(0,a.useState)(!1),[c,d]=(0,a.useState)("days"),u=t.content_items||[],m=(0,a.useMemo)((()=>{let e=0;return{items:u.map(((t,n)=>{const a=e,r=t.delay_after_hours||24;return e+=r,{id:t.temporaryId||String(n),item:t,startTime:a,endTime:e,duration:r,position:n}})),totalDuration:e,totalDays:Math.ceil(e/24)}}),[u]),p=(0,a.useCallback)(((e,a)=>{const r=[...u];r[e]=Le(Le({},r[e]),a),n(Le(Le({},t),{},{content_items:r}))}),[u,t,n]),x=(0,a.useCallback)((e=>{const a=u.map((t=>Le(Le({},t),{},{delay_after_hours:e})));n(Le(Le({},t),{},{content_items:a}))}),[u,t,n]),h=(0,a.useCallback)((()=>{const e=[];m.totalDuration<24&&e.push({type:"duration",title:"Short Sprint Detected",description:"Consider increasing delays between posts for more realistic timing",severity:"warning"}),m.totalDuration>336&&e.push({type:"duration",title:"Very Long Sprint",description:"Consider splitting into multiple shorter sprints",severity:"info"});return u.every((e=>{var t;return e.delay_after_hours===(null===(t=u[0])||void 0===t?void 0:t.delay_after_hours)}))&&u.length>3&&e.push({type:"variety",title:"Uniform Timing",description:"Vary posting delays for more natural patterns",severity:"info"}),e}),[m,u]),f=h(),g=u.length>0&&u.every((e=>e.delay_after_hours&&e.delay_after_hours>=1&&e.delay_after_hours<=168));return(0,Qe.jsxs)("div",{className:"space-y-8",children:[(0,Qe.jsxs)("div",{className:"text-center",children:[(0,Qe.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Configure Scheduling"}),(0,Qe.jsx)("p",{className:"text-gray-600",children:"Set realistic posting delays and review your content timeline"})]}),(0,Qe.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,Qe.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Seasonal Availability"}),(0,Qe.jsx)(yh,{selectedMonths:t.available_months||[],onChange:e=>n(Le(Le({},t),{},{available_months:e}))})]}),(0,Qe.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-6",children:(0,Qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Qe.jsxs)("div",{className:"text-center",children:[(0,Qe.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:u.length}),(0,Qe.jsx)("div",{className:"text-sm text-gray-600",children:"Content Items"})]}),(0,Qe.jsxs)("div",{className:"text-center",children:[(0,Qe.jsx)("div",{className:"text-2xl font-bold text-indigo-600",children:m.totalDays}),(0,Qe.jsx)("div",{className:"text-sm text-gray-600",children:"Days Duration"})]}),(0,Qe.jsxs)("div",{className:"text-center",children:[(0,Qe.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:Math.round(m.totalDuration)}),(0,Qe.jsx)("div",{className:"text-sm text-gray-600",children:"Total Hours"})]}),(0,Qe.jsxs)("div",{className:"text-center",children:[(0,Qe.jsx)("div",{className:"text-2xl font-bold text-pink-600",children:u.length>0?Math.round(m.totalDuration/u.length):0}),(0,Qe.jsx)("div",{className:"text-sm text-gray-600",children:"Avg. Delay"})]})]})}),(0,Qe.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,Qe.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Quick Scheduling"}),(0,Qe.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[{label:"12 Hours",value:12,desc:"Frequent posting"},{label:"24 Hours",value:24,desc:"Daily posts"},{label:"48 Hours",value:48,desc:"Every 2 days"},{label:"72 Hours",value:72,desc:"Every 3 days"}].map((e=>(0,Qe.jsxs)("button",{onClick:()=>x(e.value),className:"p-3 text-center border border-gray-300 rounded-lg hover:border-blue-400 hover:bg-blue-50 transition-colors",children:[(0,Qe.jsx)("div",{className:"font-medium text-gray-900",children:e.label}),(0,Qe.jsx)("div",{className:"text-xs text-gray-500",children:e.desc})]},e.value)))})]}),(0,Qe.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,Qe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Qe.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Content Timeline"}),(0,Qe.jsxs)("div",{className:"flex space-x-2",children:[(0,Qe.jsx)("button",{onClick:()=>d("hours"),className:"px-3 py-1 text-sm rounded ".concat("hours"===c?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-800"),children:"Hours"}),(0,Qe.jsx)("button",{onClick:()=>d("days"),className:"px-3 py-1 text-sm rounded ".concat("days"===c?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-800"),children:"Days"})]})]}),m.items.length>0?(0,Qe.jsx)("div",{className:"space-y-3",children:m.items.map(((e,t)=>{const n=e.item,a="days"===c?(e.startTime/24).toFixed(1):e.startTime,r="days"===c?(e.duration/24).toFixed(1):e.duration,s="days"===c?"days":"hours";return(0,Qe.jsxs)("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg",children:[(0,Qe.jsx)("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:t+1}),(0,Qe.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Qe.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:["story"===n.content_type?"\ud83d\udcf1":"post"===n.content_type?"\ud83d\udcf8":"\u2b50",n.fileName||"Content ".concat(t+1)]}),n.description&&(0,Qe.jsx)("span",{className:"text-xs text-gray-500 truncate",children:n.description})]}),(0,Qe.jsxs)("div",{className:"text-xs text-gray-500",children:["Starts at ",a," ",s]})]}),(0,Qe.jsxs)("div",{className:"flex-shrink-0",children:[(0,Qe.jsxs)("label",{className:"block text-xs text-gray-600 mb-1",children:["Delay (",n.delay_after_hours,"h)"]}),(0,Qe.jsx)("input",{type:"range",min:"1",max:"168",value:n.delay_after_hours,onChange:e=>p(t,{delay_after_hours:parseInt(e.target.value)}),className:"w-20"})]}),(0,Qe.jsxs)("div",{className:"flex-shrink-0 w-32",children:[(0,Qe.jsx)("div",{className:"bg-gray-200 rounded-full h-2 relative",children:(0,Qe.jsx)("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:"".concat(Math.min(100,e.duration/Math.max(72,m.totalDuration/m.items.length)*100),"%")}})}),(0,Qe.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[r," ",s]})]})]},e.id)}))}):(0,Qe.jsxs)("div",{className:"text-center py-8",children:[(0,Qe.jsx)("div",{className:"text-gray-400 text-lg mb-2",children:"\u23f0"}),(0,Qe.jsx)("p",{className:"text-gray-500",children:"Add content items to see timeline"})]})]}),(0,Qe.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg",children:[(0,Qe.jsxs)("button",{onClick:()=>o(!l),className:"w-full px-6 py-4 flex items-center justify-between text-left hover:bg-gray-50",children:[(0,Qe.jsx)("span",{className:"text-lg font-medium text-gray-900",children:"Advanced Scheduling"}),(0,Qe.jsx)("svg",{className:"w-5 h-5 text-gray-400 transition-transform ".concat(l?"rotate-180":""),fill:"currentColor",viewBox:"0 0 20 20",children:(0,Qe.jsx)("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),l&&(0,Qe.jsxs)("div",{className:"px-6 pb-6 space-y-6 border-t border-gray-200",children:[(0,Qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pt-6",children:[(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Target Sprint Duration"}),(0,Qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Qe.jsx)("input",{type:"number",value:t.target_duration_hours||m.totalDuration,onChange:e=>n(Le(Le({},t),{},{target_duration_hours:parseInt(e.target.value)||m.totalDuration})),className:"flex-1 border border-gray-300 rounded px-3 py-2",placeholder:"Hours"}),(0,Qe.jsx)("span",{className:"text-sm text-gray-500",children:"hours"})]}),(0,Qe.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Current: ",Math.round(m.totalDuration)," hours (",m.totalDays," days)"]})]}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Posting Pattern"}),(0,Qe.jsxs)("select",{className:"w-full border border-gray-300 rounded px-3 py-2",children:[(0,Qe.jsx)("option",{value:"regular",children:"Regular intervals"}),(0,Qe.jsx)("option",{value:"random",children:"Random variation (\xb125%)"}),(0,Qe.jsx)("option",{value:"business",children:"Business hours only"}),(0,Qe.jsx)("option",{value:"weekend",children:"Weekend heavy"})]})]})]}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Time Constraints"}),(0,Qe.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,Qe.jsxs)("label",{className:"flex items-center",children:[(0,Qe.jsx)("input",{type:"checkbox",className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,Qe.jsx)("span",{className:"ml-2 text-sm text-gray-600",children:"Business hours only"})]}),(0,Qe.jsxs)("label",{className:"flex items-center",children:[(0,Qe.jsx)("input",{type:"checkbox",className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,Qe.jsx)("span",{className:"ml-2 text-sm text-gray-600",children:"Avoid weekends"})]}),(0,Qe.jsxs)("label",{className:"flex items-center",children:[(0,Qe.jsx)("input",{type:"checkbox",className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,Qe.jsx)("span",{className:"ml-2 text-sm text-gray-600",children:"No night posting"})]}),(0,Qe.jsxs)("label",{className:"flex items-center",children:[(0,Qe.jsx)("input",{type:"checkbox",className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,Qe.jsx)("span",{className:"ml-2 text-sm text-gray-600",children:"Seasonal timing"})]})]})]})]})]}),f.length>0&&(0,Qe.jsxs)("div",{className:"space-y-3",children:[(0,Qe.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Suggestions"}),f.map(((e,t)=>(0,Qe.jsx)("div",{className:"p-4 rounded-lg border ".concat("warning"===e.severity?"bg-yellow-50 border-yellow-200":"bg-blue-50 border-blue-200"),children:(0,Qe.jsxs)("div",{className:"flex items-start",children:[(0,Qe.jsx)("div",{className:"flex-shrink-0",children:(0,Qe.jsx)("div",{className:"w-6 h-6 rounded-full flex items-center justify-center ".concat("warning"===e.severity?"bg-yellow-400":"bg-blue-400"),children:(0,Qe.jsx)("span",{className:"text-white text-xs",children:"warning"===e.severity?"\u26a0\ufe0f":"\u2139\ufe0f"})})}),(0,Qe.jsxs)("div",{className:"ml-3",children:[(0,Qe.jsx)("h4",{className:"text-sm font-medium ".concat("warning"===e.severity?"text-yellow-800":"text-blue-800"),children:e.title}),(0,Qe.jsx)("p",{className:"text-sm ".concat("warning"===e.severity?"text-yellow-700":"text-blue-700"),children:e.description})]})]})},t)))]}),!g&&(0,Qe.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,Qe.jsxs)("div",{className:"flex",children:[(0,Qe.jsx)("div",{className:"flex-shrink-0",children:(0,Qe.jsx)("svg",{className:"h-5 w-5 text-red-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Qe.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,Qe.jsxs)("div",{className:"ml-3",children:[(0,Qe.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Scheduling Issues Detected"}),(0,Qe.jsx)("div",{className:"mt-2 text-sm text-red-700",children:(0,Qe.jsxs)("ul",{className:"list-disc pl-5 space-y-1",children:[0===u.length&&(0,Qe.jsx)("li",{children:"Add content items to configure scheduling"}),u.some((e=>!e.delay_after_hours||e.delay_after_hours<1))&&(0,Qe.jsx)("li",{children:"All items must have delay times of at least 1 hour"}),u.some((e=>e.delay_after_hours>168))&&(0,Qe.jsx)("li",{children:"Delay times cannot exceed 168 hours (1 week)"})]})})]})]})})]})},Ih=e=>{let{data:t,onChange:n,errors:r,onStepComplete:s,isActive:i}=e;const[l,o]=(0,a.useState)([]),[c,d]=(0,a.useState)(!1),[u,m]=(0,a.useState)(""),p=[{id:1,name:"Jamaica Vacation",sprint_type:"vacation",location:"jamaica",is_highlight_group:!1,description:"Vacation content from Jamaica",target_duration_hours:168},{id:2,name:"Germany University",sprint_type:"university",location:"germany",is_highlight_group:!1,description:"University life in Germany",target_duration_hours:720},{id:3,name:"Home Lifestyle",sprint_type:"lifestyle",location:"home",is_highlight_group:!1,description:"Daily lifestyle content",target_duration_hours:240},{id:4,name:"Work Content",sprint_type:"work",location:"office",is_highlight_group:!1,description:"Professional work content",target_duration_hours:120},{id:5,name:"Travel Highlights",sprint_type:"travel",location:void 0,is_highlight_group:!0,description:"Travel highlight collection",target_duration_hours:0},{id:6,name:"Fitness Journey",sprint_type:"fitness",location:"gym",is_highlight_group:!0,description:"Fitness journey highlights",target_duration_hours:0}],x=t.blocking_rules||[],h=(0,a.useCallback)((()=>{const e=[],n=t.sprint_type,a=t.location;return p.forEach((t=>{a&&t.location&&a!==t.location&&e.push(t),"vacation"===n&&"work"===t.sprint_type&&e.push(t),"work"===n&&"vacation"===t.sprint_type&&e.push(t),"university"===n&&"work"===t.sprint_type&&e.push(t)})),e.filter(((e,t,n)=>n.findIndex((t=>t.id===e.id))===t))}),[t.sprint_type,t.location,p]),f=h(),g=(0,a.useCallback)((()=>{const e=[],n=(t.sprint_type,t.location);return x.forEach(((a,r)=>{const s=p.find((e=>e.id===a.blocked_sprint_id));if(!s)return;const i=x.find((e=>e.blocked_sprint_id===t.id&&s.id===t.id));i&&e.push({id:"circular_".concat(a.id||r),severity:"error",type:"blocking_rule",title:"Circular Blocking Detected",description:"".concat(t.name," and ").concat(s.name," block each other"),suggestedResolution:"Remove one of the blocking rules to prevent deadlock"}),n&&s.location&&n!==s.location&&e.push({id:"redundant_".concat(a.id||r),severity:"warning",type:"blocking_rule",title:"Redundant Location Rule",description:"".concat(s.name," is already blocked by location (").concat(s.location," vs ").concat(n,")"),suggestedResolution:"This rule may be unnecessary due to location conflict"})})),e}),[x,t,p]),b=g(),v=(0,a.useCallback)((function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"during";const r=p.find((t=>t.id===e));if(!r)return;const s={blocked_sprint_id:e,rule_type:a,description:"Blocks ".concat(r.name," ").concat("during"===a?"while active":a),blocked_sprint:r},i=[...x,s];n(Le(Le({},t),{},{blocking_rules:i}))}),[x,t,n,p]),y=(0,a.useCallback)((e=>{const a=x.filter((t=>t.blocked_sprint_id!==e));n(Le(Le({},t),{},{blocking_rules:a}))}),[x,t,n]),j=(0,a.useCallback)((()=>{const e=[...x];f.forEach((t=>{x.find((e=>e.blocked_sprint_id===t.id))||e.push({blocked_sprint_id:t.id,rule_type:"during",description:"Auto-suggested: Blocks ".concat(t.name," due to conflict"),blocked_sprint:t})})),n(Le(Le({},t),{},{blocking_rules:e}))}),[f,x,t,n]),w=(0,a.useCallback)(((e,n)=>{const a=t.name||"This sprint";switch(n){case"during":return"".concat(a," cannot run while ").concat(e.name," is active");case"before":return"".concat(a," cannot run before ").concat(e.name," starts");case"after":return"".concat(a," cannot run after ").concat(e.name," ends");case"not_during":return"".concat(a," can only run while ").concat(e.name," is NOT active");default:return"".concat(a," blocks ").concat(e.name)}}),[t.name]);return(0,Qe.jsxs)("div",{className:"space-y-8",children:[(0,Qe.jsxs)("div",{className:"text-center",children:[(0,Qe.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Configure Blocking Rules"}),(0,Qe.jsx)("p",{className:"text-gray-600",children:"Prevent conflicts by defining which sprints cannot run simultaneously"})]}),f.length>0&&(0,Qe.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[(0,Qe.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("h3",{className:"text-lg font-medium text-blue-900",children:"Smart Suggestions"}),(0,Qe.jsx)("p",{className:"text-sm text-blue-700 mt-1",children:"We detected potential conflicts based on your sprint configuration"})]}),(0,Qe.jsx)("button",{onClick:j,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm font-medium",children:"Apply All"})]}),(0,Qe.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:f.map((e=>(0,Qe.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white rounded border border-blue-200",children:[(0,Qe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Qe.jsx)("div",{className:"text-lg",children:e.is_highlight_group?"\u2b50":"vacation"===e.sprint_type?"\ud83c\udfd6\ufe0f":"work"===e.sprint_type?"\ud83d\udcbc":"university"===e.sprint_type?"\ud83c\udf93":"\ud83d\udcf1"}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("div",{className:"font-medium text-gray-900",children:e.name}),(0,Qe.jsxs)("div",{className:"text-xs text-gray-500",children:[e.location&&"Location: ".concat(e.location),e.sprint_type&&" \u2022 Type: ".concat(e.sprint_type)]})]})]}),(0,Qe.jsx)("button",{onClick:()=>v(e.id),className:"px-3 py-1 text-xs bg-blue-100 text-blue-700 rounded hover:bg-blue-200",children:"Block"})]},e.id)))})]}),(0,Qe.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,Qe.jsxs)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:["Active Blocking Rules (",x.length,")"]}),x.length>0?(0,Qe.jsx)("div",{className:"space-y-3",children:x.map(((e,a)=>{const r=e.blocked_sprint||p.find((t=>t.id===e.blocked_sprint_id));return r?(0,Qe.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border",children:[(0,Qe.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Qe.jsx)("div",{className:"text-lg",children:"is_highlight_group"in r&&r.is_highlight_group?"\u2b50":"\ud83d\udcf1"}),(0,Qe.jsxs)("div",{className:"flex-1",children:[(0,Qe.jsx)("div",{className:"font-medium text-gray-900",children:r.name}),(0,Qe.jsx)("div",{className:"text-sm text-gray-600",children:e.description}),(0,Qe.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Rule: ",e.rule_type," \u2022",r.location&&" Location: ".concat(r.location," \u2022"),"Type: ",r.sprint_type]})]})]}),(0,Qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Qe.jsxs)("select",{value:e.rule_type,onChange:s=>{const i=[...x];i[a]=Le(Le({},e),{},{rule_type:s.target.value,description:"is_highlight_group"in r?w(r,s.target.value):"Rule updated for ".concat(r.name)}),n(Le(Le({},t),{},{blocking_rules:i}))},className:"text-xs border border-gray-300 rounded px-2 py-1",children:[(0,Qe.jsx)("option",{value:"during",children:"During"}),(0,Qe.jsx)("option",{value:"before",children:"Before"}),(0,Qe.jsx)("option",{value:"after",children:"After"}),(0,Qe.jsx)("option",{value:"not_during",children:"Not During"})]}),(0,Qe.jsx)("button",{onClick:()=>y(e.blocked_sprint_id),className:"p-1 text-red-400 hover:text-red-600",title:"Remove rule",children:(0,Qe.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Qe.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})]},"".concat(e.blocked_sprint_id,"_").concat(a)):null}))}):(0,Qe.jsxs)("div",{className:"text-center py-8",children:[(0,Qe.jsx)("div",{className:"text-gray-400 text-lg mb-2",children:"\ud83d\udeab"}),(0,Qe.jsx)("p",{className:"text-gray-500 mb-4",children:"No blocking rules configured"}),(0,Qe.jsx)("p",{className:"text-xs text-gray-400",children:"Blocking rules are optional but help prevent conflicting content"})]})]}),(0,Qe.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,Qe.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Available Sprints & Highlights"}),(0,Qe.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:p.map((e=>{const t=x.some((t=>t.blocked_sprint_id===e.id)),n=f.some((t=>t.id===e.id));return(0,Qe.jsxs)("div",{className:"relative p-4 border rounded-lg transition-all cursor-pointer ".concat(t?"border-red-300 bg-red-50":n?"border-blue-300 bg-blue-50 hover:border-blue-400":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"),onClick:()=>t?y(e.id):v(e.id),children:[(0,Qe.jsx)("div",{className:"absolute top-2 right-2",children:t?(0,Qe.jsx)("div",{className:"w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center text-xs",children:"\u2717"}):n?(0,Qe.jsx)("div",{className:"w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-xs",children:"!"}):(0,Qe.jsx)("div",{className:"w-6 h-6 bg-gray-300 text-gray-600 rounded-full flex items-center justify-center text-xs",children:"+"})}),(0,Qe.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Qe.jsx)("div",{className:"text-2xl",children:e.is_highlight_group?"\u2b50":"vacation"===e.sprint_type?"\ud83c\udfd6\ufe0f":"work"===e.sprint_type?"\ud83d\udcbc":"university"===e.sprint_type?"\ud83c\udf93":"fitness"===e.sprint_type?"\ud83d\udcaa":"\ud83d\udcf1"}),(0,Qe.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Qe.jsx)("h4",{className:"font-medium text-gray-900 truncate",children:e.name}),(0,Qe.jsx)("p",{className:"text-sm text-gray-600 capitalize",children:e.sprint_type}),e.location&&(0,Qe.jsx)("p",{className:"text-xs text-gray-500",children:e.location}),e.is_highlight_group&&(0,Qe.jsx)("span",{className:"inline-block mt-1 px-2 py-1 text-xs bg-yellow-100 text-yellow-800 rounded",children:"Highlight Group"})]})]}),(0,Qe.jsx)("div",{className:"mt-3 text-xs",children:t?(0,Qe.jsx)("span",{className:"text-red-600 font-medium",children:"Click to unblock"}):n?(0,Qe.jsx)("span",{className:"text-blue-600 font-medium",children:"Suggested - Click to block"}):(0,Qe.jsx)("span",{className:"text-gray-500",children:"Click to add blocking rule"})})]},e.id)}))})]}),b.length>0&&(0,Qe.jsxs)("div",{className:"space-y-3",children:[(0,Qe.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Detected Conflicts"}),b.map(((e,t)=>(0,Qe.jsx)("div",{className:"p-4 rounded-lg border ".concat("error"===e.severity?"bg-red-50 border-red-200":"bg-yellow-50 border-yellow-200"),children:(0,Qe.jsxs)("div",{className:"flex items-start",children:[(0,Qe.jsx)("div",{className:"flex-shrink-0",children:(0,Qe.jsx)("div",{className:"w-6 h-6 rounded-full flex items-center justify-center ".concat("error"===e.severity?"bg-red-400":"bg-yellow-400"),children:(0,Qe.jsx)("span",{className:"text-white text-xs",children:(e.severity,"\u26a0\ufe0f")})})}),(0,Qe.jsxs)("div",{className:"ml-3",children:[(0,Qe.jsx)("h4",{className:"text-sm font-medium ".concat("error"===e.severity?"text-red-800":"text-yellow-800"),children:e.title}),(0,Qe.jsx)("p",{className:"text-sm ".concat("error"===e.severity?"text-red-700":"text-yellow-700"),children:e.description}),e.suggestedResolution&&(0,Qe.jsxs)("p",{className:"text-xs mt-1 ".concat("error"===e.severity?"text-red-600":"text-yellow-600"),children:["\ud83d\udca1 ",e.suggestedResolution]})]})]})},e.id||"conflict-".concat(t))))]}),(0,Qe.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg",children:[(0,Qe.jsxs)("button",{onClick:()=>d(!c),className:"w-full px-6 py-4 flex items-center justify-between text-left hover:bg-gray-50",children:[(0,Qe.jsx)("span",{className:"text-lg font-medium text-gray-900",children:"Advanced Conflict Settings"}),(0,Qe.jsx)("svg",{className:"w-5 h-5 text-gray-400 transition-transform ".concat(c?"rotate-180":""),fill:"currentColor",viewBox:"0 0 20 20",children:(0,Qe.jsx)("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),c&&(0,Qe.jsx)("div",{className:"px-6 pb-6 border-t border-gray-200 pt-6",children:(0,Qe.jsxs)("div",{className:"space-y-6",children:[(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Global Settings"}),(0,Qe.jsxs)("div",{className:"space-y-3",children:[(0,Qe.jsxs)("label",{className:"flex items-center",children:[(0,Qe.jsx)("input",{type:"checkbox",className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,Qe.jsx)("span",{className:"ml-2 text-sm text-gray-600",children:"Auto-detect location conflicts"})]}),(0,Qe.jsxs)("label",{className:"flex items-center",children:[(0,Qe.jsx)("input",{type:"checkbox",className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,Qe.jsx)("span",{className:"ml-2 text-sm text-gray-600",children:"Warn about similar content types"})]}),(0,Qe.jsxs)("label",{className:"flex items-center",children:[(0,Qe.jsx)("input",{type:"checkbox",className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,Qe.jsx)("span",{className:"ml-2 text-sm text-gray-600",children:"Allow emergency content override"})]})]})]}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Sprint Priority"}),(0,Qe.jsxs)("select",{className:"w-full border border-gray-300 rounded px-3 py-2",children:[(0,Qe.jsx)("option",{value:"normal",children:"Normal Priority"}),(0,Qe.jsx)("option",{value:"high",children:"High Priority (can override some blocks)"}),(0,Qe.jsx)("option",{value:"emergency",children:"Emergency Priority (overrides all blocks)"})]}),(0,Qe.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Higher priority sprints can override lower priority blocking rules"})]})]})})]}),(0,Qe.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:(0,Qe.jsxs)("div",{className:"flex items-start",children:[(0,Qe.jsx)("div",{className:"flex-shrink-0",children:(0,Qe.jsx)("svg",{className:"w-5 h-5 text-blue-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Qe.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),(0,Qe.jsxs)("div",{className:"ml-3",children:[(0,Qe.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:"About Blocking Rules"}),(0,Qe.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Blocking rules prevent content conflicts by ensuring certain sprints cannot run simultaneously. For example, vacation content shouldn't post while work sprints are active, or accounts can't be in Jamaica and Germany at the same time."})]})]})})]})},Ph=e=>{var t,n;let{data:a,onChange:r,errors:s,onStepComplete:i,isActive:l}=e;const o=e=>{if(e<24)return"".concat(e," hours");const t=Math.floor(e/24),n=e%24;return 0===n?"".concat(t," days"):"".concat(t," days ").concat(n," hours")},c=(null===(t=a.content_items)||void 0===t?void 0:t.length)||0,d=(null===(n=a.blocking_rules)||void 0===n?void 0:n.length)||0;return(0,Qe.jsxs)("div",{className:"p-8 space-y-8",children:[(0,Qe.jsxs)("div",{className:"text-center",children:[(0,Qe.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\ude80"}),(0,Qe.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Ready to Launch!"}),(0,Qe.jsx)("p",{className:"text-gray-600 text-lg",children:"Review your sprint configuration and create when ready"})]}),(0,Qe.jsxs)("div",{className:"bg-gradient-to-br from-primary-50 to-primary-100 border border-primary-200 rounded-xl p-8",children:[(0,Qe.jsxs)("div",{className:"flex items-center mb-6",children:[(0,Qe.jsx)("div",{className:"text-4xl mr-4",children:(u=a.sprint_type||"",{vacation:"\ud83c\udfd6\ufe0f",university:"\ud83c\udf93",lifestyle:"\u2728",work:"\ud83d\udcbc",fitness:"\ud83d\udcaa"}[u]||"\ud83d\udcf1")}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("h3",{className:"text-2xl font-bold text-primary-900",children:a.name}),a.description&&(0,Qe.jsx)("p",{className:"text-primary-700 mt-1",children:a.description})]})]}),(0,Qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,Qe.jsxs)("div",{className:"bg-white/70 rounded-lg p-4",children:[(0,Qe.jsxs)("div",{className:"flex items-center mb-2",children:[(0,Qe.jsx)(Nh,{className:"w-5 h-5 text-primary-600 mr-2"}),(0,Qe.jsx)("span",{className:"text-sm font-medium text-primary-700",children:"Type"})]}),(0,Qe.jsx)("div",{className:"text-lg font-semibold text-primary-900 capitalize",children:a.sprint_type})]}),(0,Qe.jsxs)("div",{className:"bg-white/70 rounded-lg p-4",children:[(0,Qe.jsxs)("div",{className:"flex items-center mb-2",children:[(0,Qe.jsx)(Wl,{className:"w-5 h-5 text-primary-600 mr-2"}),(0,Qe.jsx)("span",{className:"text-sm font-medium text-primary-700",children:"Duration"})]}),(0,Qe.jsx)("div",{className:"text-lg font-semibold text-primary-900",children:a.target_duration_hours?o(a.target_duration_hours):"Not set"})]}),(0,Qe.jsxs)("div",{className:"bg-white/70 rounded-lg p-4",children:[(0,Qe.jsxs)("div",{className:"flex items-center mb-2",children:[(0,Qe.jsx)(kh,{className:"w-5 h-5 text-primary-600 mr-2"}),(0,Qe.jsx)("span",{className:"text-sm font-medium text-primary-700",children:"Location"})]}),(0,Qe.jsx)("div",{className:"text-lg font-semibold text-primary-900",children:a.location||"Not specified"})]}),(0,Qe.jsxs)("div",{className:"bg-white/70 rounded-lg p-4",children:[(0,Qe.jsxs)("div",{className:"flex items-center mb-2",children:[(0,Qe.jsx)(Zr,{className:"w-5 h-5 text-primary-600 mr-2"}),(0,Qe.jsx)("span",{className:"text-sm font-medium text-primary-700",children:"Content"})]}),(0,Qe.jsxs)("div",{className:"text-lg font-semibold text-primary-900",children:[c," items"]})]})]})]}),(0,Qe.jsxs)("div",{className:"space-y-6",children:[(0,Qe.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Configuration Details"}),(0,Qe.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Qe.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[(0,Qe.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Basic Information"}),(0,Qe.jsxs)("div",{className:"space-y-3",children:[(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Name:"}),(0,Qe.jsx)("div",{className:"text-gray-900",children:a.name})]}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Type:"}),(0,Qe.jsx)("div",{className:"text-gray-900 capitalize",children:a.sprint_type})]}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Duration:"}),(0,Qe.jsx)("div",{className:"text-gray-900",children:a.target_duration_hours?o(a.target_duration_hours):"Not set"})]}),a.location&&(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Location:"}),(0,Qe.jsx)("div",{className:"text-gray-900",children:a.location})]}),a.description&&(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Description:"}),(0,Qe.jsx)("div",{className:"text-gray-900",children:a.description})]})]})]}),(0,Qe.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[(0,Qe.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Advanced Settings"}),(0,Qe.jsxs)("div",{className:"space-y-3",children:[(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Content Items:"}),(0,Qe.jsxs)("div",{className:"text-gray-900",children:[c," uploaded"]})]}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Blocking Rules:"}),(0,Qe.jsxs)("div",{className:"text-gray-900",children:[d," configured"]})]}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Seasonal Period:"}),(0,Qe.jsx)("div",{className:"text-gray-900",children:a.seasonal_start&&a.seasonal_end?"".concat(new Date(a.seasonal_start).toLocaleDateString()," - ").concat(new Date(a.seasonal_end).toLocaleDateString()):"Year-round"})]})]})]})]})]}),(0,Qe.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[(0,Qe.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Validation Status"}),(0,Qe.jsxs)("div",{className:"space-y-3",children:[(0,Qe.jsxs)("div",{className:"flex items-center",children:[a.name&&a.sprint_type&&a.target_duration_hours?(0,Qe.jsx)(Ol,{className:"w-5 h-5 text-green-500 mr-3"}):(0,Qe.jsx)("div",{className:"w-5 h-5 rounded-full border-2 border-gray-300 mr-3"}),(0,Qe.jsx)("span",{className:"font-medium ".concat(a.name&&a.sprint_type&&a.target_duration_hours?"text-green-700":"text-gray-700"),children:"Required fields completed"})]}),(0,Qe.jsxs)("div",{className:"flex items-center",children:[c>0?(0,Qe.jsx)(Ol,{className:"w-5 h-5 text-green-500 mr-3"}):(0,Qe.jsx)("div",{className:"w-5 h-5 rounded-full border-2 border-yellow-400 mr-3"}),(0,Qe.jsxs)("span",{className:"font-medium ".concat(c>0?"text-green-700":"text-yellow-700"),children:["Content uploaded (",c>0?"optional but recommended":"none yet",")"]})]}),(0,Qe.jsxs)("div",{className:"flex items-center",children:[(0,Qe.jsx)(Ol,{className:"w-5 h-5 text-green-500 mr-3"}),(0,Qe.jsx)("span",{className:"font-medium text-green-700",children:"No conflicts detected"})]})]})]}),(0,Qe.jsxs)("div",{className:"flex items-center justify-between pt-6 border-t border-gray-200",children:[(0,Qe.jsx)("div",{className:"text-sm text-gray-600",children:"Once created, you can still edit your sprint configuration"}),(0,Qe.jsx)("div",{className:"text-sm text-green-700 font-medium",children:"\u2705 Ready to create sprint"})]}),(0,Qe.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:[(0,Qe.jsx)("h4",{className:"font-semibold text-blue-900 mb-3",children:"\ud83c\udfaf Final Tips"}),(0,Qe.jsxs)("ul",{className:"text-sm text-blue-800 space-y-1",children:[(0,Qe.jsx)("li",{children:"\u2022 Your sprint will be created in draft status and can be activated later"}),(0,Qe.jsx)("li",{children:"\u2022 You can add more content and modify settings after creation"}),(0,Qe.jsx)("li",{children:"\u2022 Test your sprint with a small account first before full deployment"}),(0,Qe.jsx)("li",{children:"\u2022 Monitor performance and adjust timing based on results"})]})]})]});var u},Dh=e=>{let{steps:t,currentStep:n,completedSteps:a,onStepClick:r}=e;return(0,Qe.jsx)("div",{className:"flex items-center justify-center w-full",children:(0,Qe.jsx)("div",{className:"flex items-center space-x-8",children:t.map(((e,s)=>{const i=a.includes(s),l=s===n,o=s<=n||i;return(0,Qe.jsxs)("div",{className:"flex items-center",children:[(0,Qe.jsxs)("button",{onClick:()=>o&&r(s),disabled:!o,className:"\n                  relative flex items-center justify-center w-12 h-12 rounded-full border-2 transition-all duration-200\n                  ".concat(l?"border-primary-600 bg-primary-600 text-white shadow-lg scale-110":i?"border-green-500 bg-green-500 text-white hover:scale-105":o?"border-gray-300 bg-white text-gray-600 hover:border-primary-300 hover:bg-primary-50":"border-gray-200 bg-gray-100 text-gray-400 cursor-not-allowed","\n                "),children:[i?(0,Qe.jsx)(ns,{className:"w-6 h-6"}):(0,Qe.jsx)("span",{className:"text-2xl",children:e.icon}),l&&(0,Qe.jsx)("div",{className:"absolute inset-0 rounded-full border-2 border-primary-400 animate-ping opacity-75"})]}),(0,Qe.jsxs)("div",{className:"ml-4 text-left",children:[(0,Qe.jsx)("div",{className:"text-sm font-medium ".concat(l?"text-primary-600":i?"text-green-600":"text-gray-600"),children:e.title}),(0,Qe.jsx)("div",{className:"text-xs ".concat(l?"text-primary-500":"text-gray-500"),children:e.description}),e.isOptional&&(0,Qe.jsx)("div",{className:"text-xs text-gray-400 italic",children:"Optional"})]}),s<t.length-1&&(0,Qe.jsx)("div",{className:"ml-8 w-16 h-0.5 transition-colors ".concat(i?"bg-green-300":"bg-gray-200")})]},e.id)}))})})},Ah=e=>{var t;let{sprintData:n,currentStep:a,validationErrors:r,conflicts:s}=e;const i=Object.keys(r).length;s.length,null===(t=n.content_items)||void 0===t||t.length;return(0,Qe.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Qe.jsxs)("div",{className:"space-y-4",children:[(0,Qe.jsx)("h3",{className:"text-lg font-semibold text-primary-900",children:"Sprint Overview"}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("label",{className:"text-sm font-medium text-primary-700 block mb-1",children:"Sprint Name"}),(0,Qe.jsx)("div",{className:"text-sm text-primary-600 bg-white/50 rounded-lg p-3 border border-primary-200",children:n.name||(0,Qe.jsx)("span",{className:"text-gray-400 italic",children:"Not set"})})]}),n.sprint_type&&(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("label",{className:"text-sm font-medium text-primary-700 block mb-1",children:"Type"}),(0,Qe.jsx)("div",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium border ".concat((l=n.sprint_type,{vacation:"bg-emerald-100 text-emerald-800 border-emerald-200",university:"bg-blue-100 text-blue-800 border-blue-200",lifestyle:"bg-purple-100 text-purple-800 border-purple-200",work:"bg-gray-100 text-gray-800 border-gray-200",fitness:"bg-red-100 text-red-800 border-red-200"}[l]||"bg-gray-100 text-gray-800 border-gray-200")),children:n.sprint_type})]}),n.target_duration_hours&&(0,Qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Qe.jsx)(Wl,{className:"w-4 h-4 text-primary-600"}),(0,Qe.jsxs)("span",{className:"text-sm text-primary-700",children:["Duration: ",(e=>{if(e<24)return"".concat(e,"h");const t=Math.floor(e/24),n=e%24;return 0===n?"".concat(t,"d"):"".concat(t,"d ").concat(n,"h")})(n.target_duration_hours)]})]}),n.location&&(0,Qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Qe.jsx)(kh,{className:"w-4 h-4 text-primary-600"}),(0,Qe.jsxs)("span",{className:"text-sm text-primary-700",children:["Location: ",n.location]})]})]}),(0,Qe.jsxs)("div",{className:"space-y-3",children:[(0,Qe.jsx)("h4",{className:"text-sm font-semibold text-primary-800",children:"Status"}),i>0?(0,Qe.jsxs)("div",{className:"flex items-center space-x-2 p-3 bg-red-50 border border-red-200 rounded-lg",children:[(0,Qe.jsx)(ks,{className:"w-4 h-4 text-red-600"}),(0,Qe.jsxs)("span",{className:"text-sm text-red-700",children:[i," error",1!==i?"s":""," to fix"]})]}):(0,Qe.jsxs)("div",{className:"flex items-center space-x-2 p-3 bg-green-50 border border-green-200 rounded-lg",children:[(0,Qe.jsx)(Ol,{className:"w-4 h-4 text-green-600"}),(0,Qe.jsx)("span",{className:"text-sm text-green-700",children:"No validation errors"})]})]}),(0,Qe.jsxs)("div",{className:"space-y-3",children:[(0,Qe.jsx)("h4",{className:"text-sm font-semibold text-primary-800",children:"Progress"}),(0,Qe.jsxs)("div",{className:"space-y-2",children:[(0,Qe.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,Qe.jsxs)("span",{className:"text-primary-600",children:["Step ",a+1," of 5"]}),(0,Qe.jsxs)("span",{className:"text-primary-600",children:[Math.round((a+1)/5*100),"%"]})]}),(0,Qe.jsx)("div",{className:"w-full bg-primary-200 rounded-full h-2",children:(0,Qe.jsx)("div",{className:"bg-primary-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat((a+1)/5*100,"%")}})})]})]})]});var l},Oh=[{id:"basic",title:"Basic Information",description:"Set up your sprint name, type, and basic settings",icon:"\ud83d\udccb",component:Ch,validation:e=>{var t;const n={};return null!==(t=e.name)&&void 0!==t&&t.trim()||(n.name="Sprint name is required"),e.sprint_type||(n.sprint_type="Sprint type is required"),(!e.target_duration_hours||e.target_duration_hours<=0)&&(n.target_duration_hours="Duration must be greater than 0"),{isValid:0===Object.keys(n).length,errors:n,warnings:[]}}},{id:"content",title:"Content Upload",description:"Upload and organize your content with smart categorization",icon:"\ud83d\udcf1",component:_h,validation:e=>{const t=[];return e.content_items&&0!==e.content_items.length||t.push("Consider adding content items to make your sprint more effective"),{isValid:!0,errors:{},warnings:t}}},{id:"scheduling",title:"Scheduling Rules",description:"Configure timing and seasonal availability",icon:"\ud83d\udcc5",component:Eh,validation:e=>{const t={};if(e.seasonal_start&&e.seasonal_end){new Date(e.seasonal_start)>=new Date(e.seasonal_end)&&(t.seasonal_end="End date must be after start date")}return{isValid:0===Object.keys(t).length,errors:t,warnings:[]}},isOptional:!0},{id:"conflicts",title:"Blocking Rules",description:"Set up conflict prevention and blocking rules",icon:"\ud83d\udee1\ufe0f",component:Ih,validation:()=>({isValid:!0,errors:{},warnings:[]}),isOptional:!0},{id:"preview",title:"Preview & Publish",description:"Review your sprint and publish when ready",icon:"\ud83d\ude80",component:Ph,validation:e=>{var t;const n={};return null!==(t=e.name)&&void 0!==t&&t.trim()||(n.name="Sprint name is required"),e.sprint_type||(n.sprint_type="Sprint type is required"),(!e.target_duration_hours||e.target_duration_hours<=0)&&(n.target_duration_hours="Duration must be greater than 0"),{isValid:0===Object.keys(n).length,errors:n,warnings:[]}}}],Th=e=>{let{isOpen:t,onClose:n,editingSprintId:r,onSuccess:s}=e;const[i,l]=(0,a.useState)({currentStep:0,sprintData:{name:"",description:"",sprint_type:"",target_duration_hours:24,content_items:[],blocking_rules:[]},validationErrors:{},conflicts:[],isAutoSaving:!1,uploadProgress:{}}),[o,c]=(0,a.useState)([]),[d,u]=(0,a.useState)(!1);(0,a.useEffect)((()=>{t||(l({currentStep:0,sprintData:{name:"",description:"",sprint_type:"",target_duration_hours:24,content_items:[],blocking_rules:[]},validationErrors:{},conflicts:[],isAutoSaving:!1,uploadProgress:{}}),c([]),u(!1))}),[t]),(0,a.useEffect)((()=>{r&&t&&m(r)}),[r,t]);const m=async e=>{try{const t=await fetch("/api/sprints/".concat(e));if(t.ok){const e=await t.json();l((t=>Le(Le({},t),{},{sprintData:Le(Le({},e),{},{content_items:e.content_items||[],blocking_rules:e.blocking_rules||[]})})))}}catch(t){qt.error("Failed to load sprint data")}},p=(0,a.useCallback)((e=>{l((t=>Le(Le({},t),{},{sprintData:Le(Le({},t.sprintData),e)})))}),[]),x=(0,a.useCallback)((()=>{const e=Oh[i.currentStep].validation(i.sprintData);return l((t=>Le(Le({},t),{},{validationErrors:e.errors}))),e}),[i.currentStep,i.sprintData]),h=(0,a.useCallback)((()=>{x().isValid?(c((e=>{const t=[...e];return t.includes(i.currentStep)||t.push(i.currentStep),t})),i.currentStep<Oh.length-1&&l((e=>Le(Le({},e),{},{currentStep:e.currentStep+1,validationErrors:{}})))):qt.error("Please fix the errors before continuing")}),[i.currentStep,x]),f=(0,a.useCallback)((()=>{i.currentStep>0&&l((e=>Le(Le({},e),{},{currentStep:e.currentStep-1,validationErrors:{}})))}),[i.currentStep]),g=(0,a.useCallback)((e=>{(e<=i.currentStep||o.includes(i.currentStep))&&l((t=>Le(Le({},t),{},{currentStep:e,validationErrors:{}})))}),[i.currentStep,o]),b=(0,a.useCallback)((()=>{Oh[i.currentStep].isOptional&&h()}),[i.currentStep,h]),v=(0,a.useCallback)((()=>{if(Object.keys(i.sprintData).some((e=>{const t=i.sprintData[e];return""!==t&&void 0!==t&&null!==t}))&&!d){if(!window.confirm("You have unsaved changes. Are you sure you want to close?"))return}u(!0),n()}),[i.sprintData,d,n]);if(!t)return null;const y=Oh[i.currentStep],j=y.component;return(0,Qe.jsxs)("div",{className:"fixed inset-0 z-50 flex",children:[(0,Qe.jsx)("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm transition-opacity duration-300",onClick:v}),(0,Qe.jsxs)("div",{className:"relative w-full h-full bg-white flex overflow-hidden",children:[(0,Qe.jsxs)("div",{className:"w-80 bg-gradient-to-b from-primary-50 to-primary-100 border-r border-primary-200 flex flex-col",children:[(0,Qe.jsxs)("div",{className:"p-6 border-b border-primary-200",children:[(0,Qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qe.jsx)("h2",{className:"text-xl font-bold text-primary-900",children:r?"Edit Sprint":"Create Sprint"}),(0,Qe.jsx)("button",{onClick:v,className:"p-2 text-primary-600 hover:text-primary-800 hover:bg-primary-200 rounded-lg transition-colors",children:(0,Qe.jsx)(ts,{className:"w-5 h-5"})})]}),(0,Qe.jsx)("div",{className:"flex items-center mt-2 text-sm",children:(0,Qe.jsx)("div",{className:"flex items-center text-primary-600",children:i.isAutoSaving?(0,Qe.jsxs)(Qe.Fragment,{children:[(0,Qe.jsx)(io,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):(0,Qe.jsxs)(Qe.Fragment,{children:[(0,Qe.jsx)(Ss,{className:"w-4 h-4 mr-2"}),(0,Qe.jsx)("span",{className:"transition-colors",children:"Auto-saved"})]})})})]}),(0,Qe.jsx)("div",{className:"flex-1 overflow-auto",children:(0,Qe.jsx)(Ah,{sprintData:i.sprintData,currentStep:i.currentStep,validationErrors:i.validationErrors,conflicts:i.conflicts})})]}),(0,Qe.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,Qe.jsx)("div",{className:"bg-white border-b border-gray-200 p-6",children:(0,Qe.jsx)(Dh,{steps:Oh,currentStep:i.currentStep,completedSteps:o,onStepClick:g})}),(0,Qe.jsx)("div",{className:"flex-1 overflow-auto bg-gray-50",children:(0,Qe.jsxs)("div",{className:"max-w-4xl mx-auto p-8",children:[(0,Qe.jsxs)("div",{className:"mb-8",children:[(0,Qe.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Qe.jsx)("div",{className:"text-4xl mr-4",children:y.icon}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:y.title}),(0,Qe.jsx)("p",{className:"text-gray-600 mt-1",children:y.description})]})]}),(0,Qe.jsxs)("div",{className:"text-sm text-gray-500",children:["Step ",i.currentStep+1," of ",Oh.length]})]}),(0,Qe.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:(0,Qe.jsx)(j,{data:i.sprintData,onChange:p,errors:i.validationErrors,onStepComplete:()=>{c((e=>{const t=[...e];return t.includes(i.currentStep)||t.push(i.currentStep),t}))},isActive:!0})})]})}),(0,Qe.jsx)("div",{className:"bg-white border-t border-gray-200 p-6",children:(0,Qe.jsxs)("div",{className:"max-w-4xl mx-auto flex items-center justify-between",children:[(0,Qe.jsx)("button",{onClick:f,disabled:0===i.currentStep,className:"px-6 py-2 text-gray-600 hover:text-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),(0,Qe.jsx)("div",{className:"flex items-center space-x-2",children:Oh.map(((e,t)=>(0,Qe.jsx)("div",{className:"w-2 h-2 rounded-full transition-colors ".concat(t===i.currentStep?"bg-primary-600":o.includes(t)?"bg-green-500":"bg-gray-300")},t)))}),(0,Qe.jsxs)("div",{className:"flex items-center space-x-3",children:[y.isOptional&&i.currentStep!==Oh.length-1&&(0,Qe.jsx)("button",{onClick:b,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Skip"}),i.currentStep===Oh.length-1?(0,Qe.jsxs)("button",{onClick:async()=>{if(x().isValid)try{const e=r?"/api/sprints/".concat(r):"/api/sprints",t=r?"PUT":"POST",n=await fetch(e,{method:t,headers:{"Content-Type":"application/json"},body:JSON.stringify(i.sprintData)});if(!n.ok)throw new Error("Failed to save sprint");{const e=await n.json();qt.success("Sprint ".concat(r?"updated":"created"," successfully!")),s(e),v()}}catch(e){qt.error("Failed to save sprint. Please try again.")}else qt.error("Please fix all errors before submitting")},className:"px-8 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors shadow-sm flex items-center",children:[(0,Qe.jsx)(wh,{className:"w-5 h-5 mr-2"}),r?"Update Sprint":"Create Sprint"]}):(0,Qe.jsx)("button",{onClick:h,className:"px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors shadow-sm",children:"Next"})]})]})})]})]})]})},Rh=()=>{const[e,t]=(0,a.useState)("sprints"),[n,r]=(0,a.useState)(!1),[s,i]=(0,a.useState)(!1),[l,o]=(0,a.useState)(!1),[c,d]=(0,a.useState)(!1),[u,m]=(0,a.useState)([]),p=async e=>{console.log("Pool data to be created:",e),e.content_files&&console.log("Received ".concat(e.content_files.length," files.")),r(!1),i(!1),o(!1)};return(0,Qe.jsxs)("div",{className:"p-6 bg-gray-50 min-h-screen",children:[(0,Qe.jsxs)("header",{className:"flex items-center justify-between mb-6",children:[(0,Qe.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:"Campaign Pools"}),(0,Qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Qe.jsxs)("button",{onClick:()=>d(!0),className:"flex items-center justify-center bg-red-600 text-white px-4 py-2 rounded-lg shadow-sm hover:bg-red-700 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[(0,Qe.jsx)(Xe,{className:"h-5 w-5 mr-2"}),"New Sprint"]}),(0,Qe.jsxs)("button",{onClick:()=>r(!0),className:"flex items-center justify-center bg-blue-600 text-white px-4 py-2 rounded-lg shadow-sm hover:bg-blue-700 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,Qe.jsx)(Xe,{className:"h-5 w-5 mr-2"}),"New Story Pool"]}),(0,Qe.jsxs)("button",{onClick:()=>i(!0),className:"flex items-center justify-center bg-purple-600 text-white px-4 py-2 rounded-lg shadow-sm hover:bg-purple-700 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500",children:[(0,Qe.jsx)(Xe,{className:"h-5 w-5 mr-2"}),"New Post Pool"]}),(0,Qe.jsxs)("button",{onClick:()=>o(!0),className:"flex items-center justify-center bg-green-600 text-white px-4 py-2 rounded-lg shadow-sm hover:bg-green-700 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:[(0,Qe.jsx)(Xe,{className:"h-5 w-5 mr-2"}),"New Highlight Pool"]})]})]}),(0,Qe.jsx)(Th,{isOpen:c,onClose:()=>d(!1),onSuccess:e=>{console.log("Sprint created:",e),d(!1)}}),(0,Qe.jsx)(sc,{isOpen:n,onClose:()=>r(!1),onPoolCreate:p,availableHighlightGroups:u}),(0,Qe.jsx)(gh,{isOpen:s,onClose:()=>i(!1),onPoolCreate:p,availableHighlightGroups:u}),(0,Qe.jsx)(jh,{isOpen:l,onClose:()=>o(!1),onGroupCreate:async e=>console.log(e),existingGroups:[]}),(0,Qe.jsxs)("div",{className:"bg-white rounded-lg shadow-md",children:[(0,Qe.jsx)("div",{className:"border-b border-gray-200",children:(0,Qe.jsxs)("nav",{className:"-mb-px flex space-x-8 px-6","aria-label":"Tabs",children:[(0,Qe.jsx)(Qo,{name:"Sprints",isActive:"sprints"===e,onClick:()=>t("sprints")}),(0,Qe.jsx)(Qo,{name:"Story Pools",isActive:"stories"===e,onClick:()=>t("stories")}),(0,Qe.jsx)(Qo,{name:"Post Pools",isActive:"posts"===e,onClick:()=>t("posts")}),(0,Qe.jsx)(Qo,{name:"Highlight Pools",isActive:"highlights"===e,onClick:()=>t("highlights")})]})}),(0,Qe.jsxs)("div",{className:"p-6",children:["sprints"===e&&(0,Qe.jsx)("div",{children:"Content for Sprints"}),"stories"===e&&(0,Qe.jsx)("div",{children:"Content for Story Pools"}),"posts"===e&&(0,Qe.jsx)("div",{children:"Content for Post Pools"}),"highlights"===e&&(0,Qe.jsx)("div",{children:"Content for Highlight Pools"})]})]})]})},Fh=He("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Lh=He("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),Mh=e=>{let{groups:t,positionData:n,onPositionChange:r,previewMode:s=!1}=e;const[i,l]=(0,a.useState)([]),[o,c]=(0,a.useState)(null),[d,u]=(0,a.useState)(!1),[m,p]=(0,a.useState)(s),[x,h]=(0,a.useState)([]),[f,g]=(0,a.useState)([]),[b,v]=(0,a.useState)([]);(0,a.useEffect)((()=>{const e=[...t].sort(((e,t)=>e.current_position-t.current_position));l(e),v(e.map((e=>({groupId:e.id,position:e.current_position}))))}),[t]);const y=(0,a.useCallback)((e=>{const t=[],n=new Map;e.forEach((e=>{let{groupId:t,position:a}=e;n.has(a)||n.set(a,[]),n.get(a).push(t)})),n.forEach(((e,n)=>{e.length>1&&t.push({groupId:e[0],message:"Position ".concat(n," is occupied by ").concat(e.length," groups"),severity:"high",affectedAccounts:[1,2,3]})}));const a=Array.from(n.keys()).sort(((e,t)=>e-t));for(let r=1;r<a.length;r++)if(a[r]-a[r-1]>1){a[r]-a[r-1]-1>2&&t.push({groupId:0,message:"Large gap between positions ".concat(a[r-1]," and ").concat(a[r]),severity:"medium",affectedAccounts:[]})}g(t)}),[]),j=(e,t)=>{const n=i.find((t=>t.id===e));if(!n)return;const a="up"===t?Math.max(1,n.current_position-1):Math.min(i.length,n.current_position+1);if(a!==n.current_position){h((t=>[...t.filter((t=>t.groupId!==e)),{groupId:e,newPosition:a}]));const t=[...i],r=t.findIndex((t=>t.id===e)),s=t.findIndex((e=>e.current_position===a));-1!==r&&-1!==s&&([t[r],t[s]]=[t[s],t[r]],t[r].current_position=a,t[s].current_position=n.current_position,l(t.sort(((e,t)=>e.current_position-t.current_position))))}},w=e=>{switch(e){case"high":return"text-red-600 bg-red-50 border-red-200";case"medium":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"low":return"text-blue-600 bg-blue-50 border-blue-200"}};return(0,Qe.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,Qe.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Qe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Qe.jsx)(ys,{className:"h-6 w-6 text-purple-600"}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Position Manager"}),(0,Qe.jsx)("p",{className:"text-sm text-gray-600",children:"Manage highlight group positions and ordering"})]})]}),(0,Qe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Qe.jsxs)("button",{onClick:()=>p(!m),className:"flex items-center space-x-2 px-3 py-2 rounded-lg text-sm ".concat(m?"bg-blue-100 text-blue-700 border border-blue-200":"bg-gray-100 text-gray-600 border border-gray-200"),children:[m?(0,Qe.jsx)(Fh,{size:16}):(0,Qe.jsx)(Zl,{size:16}),(0,Qe.jsx)("span",{children:m?"Exit Preview":"Preview Mode"})]}),x.length>0&&(0,Qe.jsxs)(Qe.Fragment,{children:[(0,Qe.jsxs)("button",{onClick:()=>{const e=[...t].map((e=>{const t=b.find((t=>t.groupId===e.id));return Le(Le({},e),{},{current_position:(null===t||void 0===t?void 0:t.position)||e.current_position})})).sort(((e,t)=>e.current_position-t.current_position));l(e),h([]),g([])},className:"flex items-center space-x-2 px-3 py-2 text-sm bg-gray-100 text-gray-600 rounded-lg hover:bg-gray-200",children:[(0,Qe.jsx)(Xl,{size:16}),(0,Qe.jsx)("span",{children:"Reset"})]}),(0,Qe.jsxs)("button",{onClick:async()=>{if(0!==x.length)try{for(const e of x)await r(e.groupId,e.newPosition);v(i.map((e=>({groupId:e.id,position:e.current_position})))),h([]),g([])}catch(e){console.error("Failed to apply position changes:",e)}},className:"flex items-center space-x-2 px-4 py-2 text-sm rounded-lg ".concat(f.filter((e=>"high"===e.severity)).length>0?"bg-yellow-600 text-white hover:bg-yellow-700":"bg-green-600 text-white hover:bg-green-700"),children:[(0,Qe.jsx)(Ss,{size:16}),(0,Qe.jsxs)("span",{children:["Apply Changes (",x.length,")"]})]})]})]})]}),f.length>0&&(0,Qe.jsxs)("div",{className:"mb-6 space-y-3",children:[(0,Qe.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:"Position Conflicts"}),f.map(((e,t)=>(0,Qe.jsx)("div",{className:"p-3 border rounded-lg ".concat(w(e.severity)),children:(0,Qe.jsxs)("div",{className:"flex items-start",children:[(0,Qe.jsx)(ks,{className:"h-4 w-4 mt-0.5 mr-2"}),(0,Qe.jsxs)("div",{className:"flex-1",children:[(0,Qe.jsx)("p",{className:"text-sm font-medium",children:e.message}),e.affectedAccounts.length>0&&(0,Qe.jsxs)("p",{className:"text-xs mt-1",children:["Affects ",e.affectedAccounts.length," account(s)"]})]})]})},t)))]}),(0,Qe.jsxs)("div",{className:"space-y-3",children:[(0,Qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qe.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:"Highlight Group Positions"}),(0,Qe.jsxs)("div",{className:"text-xs text-gray-500",children:["Drag and drop or use arrows to reorder \u2022 ",i.length," groups"]})]}),(0,Qe.jsx)("div",{className:"grid gap-3",children:i.map(((e,t)=>{const n=(a=e.id,x.find((e=>e.groupId===a)));var a;const r=void 0!==n,s=0===t,p=t===i.length-1;return(0,Qe.jsxs)("div",{draggable:!0,onDragStart:t=>((e,t)=>{c({groupId:t.id,startPosition:t.current_position,currentPosition:t.current_position}),u(!0),e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/html","")})(t,e),onDragOver:t=>((e,t)=>{if(e.preventDefault(),e.dataTransfer.dropEffect="move",o&&o.currentPosition!==t){c((e=>e?Le(Le({},e),{},{currentPosition:t}):null));const e=[...i],n=e.findIndex((e=>e.id===o.groupId)),a=e.findIndex((e=>e.current_position===t));if(-1!==n&&-1!==a){const[t]=e.splice(n,1);e.splice(a,0,t),e.forEach(((e,t)=>{e.current_position=t+1})),l(e)}}})(t,e.current_position),onDrop:t=>((e,t)=>{if(e.preventDefault(),o){const e=t;h((t=>[...t.filter((e=>e.groupId!==o.groupId)),{groupId:o.groupId,newPosition:e}]));const n=i.map((t=>({groupId:t.id,position:t.id===o.groupId?e:t.current_position})));y(n)}c(null),u(!1)})(t,e.current_position),className:"relative p-4 border rounded-lg cursor-move transition-all ".concat(r?"border-blue-500 bg-blue-50":d&&(null===o||void 0===o?void 0:o.groupId)===e.id?"border-dashed border-gray-400 opacity-50":"border-gray-200 hover:border-gray-300 hover:shadow-sm"),children:[(0,Qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Qe.jsx)(cc,{className:"h-5 w-5 text-gray-400"}),(0,Qe.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold ".concat(r?"bg-blue-600 text-white":"bg-gray-100 text-gray-600"),children:e.current_position})]}),(0,Qe.jsxs)("div",{className:"flex-1",children:[(0,Qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Qe.jsx)("h5",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,Qe.jsx)("span",{className:"text-xs text-gray-500 capitalize bg-gray-100 px-2 py-1 rounded",children:e.category}),!e.is_active&&(0,Qe.jsx)("span",{className:"text-xs text-red-600 bg-red-100 px-2 py-1 rounded",children:"Inactive"})]}),(0,Qe.jsxs)("div",{className:"text-xs text-gray-500 mt-1 flex items-center space-x-4",children:[(0,Qe.jsxs)("span",{className:"flex items-center",children:[(0,Qe.jsx)(Ge,{size:12,className:"mr-1"}),e.content_pool_size,"/",e.max_content_items," content"]}),(0,Qe.jsxs)("span",{className:"flex items-center",children:[(0,Qe.jsx)(Wl,{size:12,className:"mr-1"}),"Every ",e.maintenance_frequency_weeks,"w"]})]})]})]}),(0,Qe.jsxs)("div",{className:"flex items-center space-x-2",children:[r&&(0,Qe.jsxs)("div",{className:"text-xs text-blue-600 bg-blue-100 px-2 py-1 rounded",children:[n.newPosition>e.current_position?"\u2193":"\u2191","Position ",n.newPosition]}),(0,Qe.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Qe.jsx)("button",{onClick:()=>j(e.id,"up"),disabled:s,className:"p-1 rounded ".concat(s?"text-gray-300 cursor-not-allowed":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"),title:"Move up",children:(0,Qe.jsx)(Lh,{size:14})}),(0,Qe.jsx)("button",{onClick:()=>j(e.id,"down"),disabled:p,className:"p-1 rounded ".concat(p?"text-gray-300 cursor-not-allowed":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"),title:"Move down",children:(0,Qe.jsx)(Uo,{size:14})})]})]})]}),m&&(0,Qe.jsx)("div",{className:"mt-3 pt-3 border-t border-gray-200",children:(0,Qe.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-xs text-gray-600",children:[(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("span",{className:"font-medium",children:"Content:"}),(0,Qe.jsxs)("span",{className:"ml-1",children:[e.content_pool_size," items"]})]}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("span",{className:"font-medium",children:"Maintenance:"}),(0,Qe.jsx)("span",{className:"ml-1",children:e.next_maintenance_date?new Date(e.next_maintenance_date).toLocaleDateString():"Not scheduled"})]}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("span",{className:"font-medium",children:"Blocks:"}),(0,Qe.jsxs)("span",{className:"ml-1",children:[e.blocks_sprint_types.length+e.blocks_highlight_groups.length," rules"]})]}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("span",{className:"font-medium",children:"Impact:"}),(0,Qe.jsx)("span",{className:"ml-1 text-green-600",children:"No conflicts"})]})]})})]},e.id)}))})]}),(0,Qe.jsx)("div",{className:"mt-6 pt-6 border-t",children:(0,Qe.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,Qe.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,Qe.jsxs)("span",{className:"text-gray-600",children:[(0,Qe.jsx)("span",{className:"font-medium",children:i.length})," highlight groups"]}),(0,Qe.jsxs)("span",{className:"text-gray-600",children:[(0,Qe.jsx)("span",{className:"font-medium",children:i.filter((e=>e.is_active)).length})," active"]}),x.length>0&&(0,Qe.jsxs)("span",{className:"text-blue-600",children:[(0,Qe.jsx)("span",{className:"font-medium",children:x.length})," pending changes"]})]}),(0,Qe.jsxs)("div",{className:"flex items-center space-x-2",children:[f.length>0&&(0,Qe.jsxs)("span",{className:"flex items-center text-yellow-600",children:[(0,Qe.jsx)(ks,{size:14,className:"mr-1"}),f.length," conflicts"]}),(0,Qe.jsxs)("span",{className:"flex items-center text-green-600",children:[(0,Qe.jsx)(Ol,{size:14,className:"mr-1"}),"Positions ready"]})]})]})})]})},zh=e=>{let{onUploadClick:t}=e;const[n,r]=(0,a.useState)([]),[s,i]=(0,a.useState)(!0),[l,o]=(0,a.useState)(null),[c,d]=(0,a.useState)([]),[u,m]=(0,a.useState)(!1),[p,x]=(0,a.useState)(!1),[h,f]=(0,a.useState)(!1),[g,b]=(0,a.useState)(null),[v,y]=(0,a.useState)({search:"",sort_by:"created_at",sort_order:"desc",limit:50});(0,a.useEffect)((()=>{(async()=>{try{i(!0);r([{id:1,name:"Travel Adventures",description:"Best travel moments and destinations",category:"travel",content_pool_size:45,max_content_items:100,current_position:1,maintenance_frequency_weeks:3,content_per_maintenance:2,last_maintenance_date:"2025-01-20T10:00:00Z",next_maintenance_date:"2025-02-10T10:00:00Z",is_active:!0,seasonal_months:[3,4,5,6,7,8,9,10],blocks_sprint_types:["vacation","travel"],blocks_highlight_groups:[],created_at:"2025-01-01T00:00:00Z",updated_at:"2025-01-20T10:00:00Z"},{id:2,name:"Fitness Journey",description:"Workout routines and health tips",category:"fitness",content_pool_size:78,max_content_items:100,current_position:2,maintenance_frequency_weeks:2,content_per_maintenance:1,last_maintenance_date:"2025-01-15T08:00:00Z",next_maintenance_date:"2025-01-29T08:00:00Z",is_active:!0,seasonal_months:[1,2,3,4,5,6,7,8,9,10,11,12],blocks_sprint_types:["health"],blocks_highlight_groups:[],created_at:"2024-12-15T00:00:00Z",updated_at:"2025-01-15T08:00:00Z"},{id:3,name:"Work & Career",description:"Professional achievements and insights",category:"professional",content_pool_size:23,max_content_items:100,current_position:5,maintenance_frequency_weeks:4,content_per_maintenance:1,is_active:!1,seasonal_months:[1,2,3,4,9,10,11,12],blocks_sprint_types:["work","professional"],blocks_highlight_groups:[1],created_at:"2024-11-01T00:00:00Z",updated_at:"2025-01-10T00:00:00Z"}])}catch(l){console.error("Failed to load highlight groups:",l),o("Failed to load highlight groups")}finally{i(!1)}})()}),[]);const j=e=>{if(!e.is_active)return(0,Qe.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded-full text-xs",children:"Inactive"});const t=new Date,n=e.next_maintenance_date?new Date(e.next_maintenance_date):null;return n&&n<=t?(0,Qe.jsx)("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs",children:"Maintenance Due"}):(0,Qe.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs",children:"Active"})},w=(e,t)=>{const n=e/t*100;return n<30?"bg-red-500":n<70?"bg-yellow-500":"bg-green-500"},N=n.filter((e=>!(v.search&&!e.name.toLowerCase().includes(v.search.toLowerCase()))&&((!v.category||e.category===v.category)&&(void 0===v.is_active||e.is_active===v.is_active))));return s?(0,Qe.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,Qe.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):l?(0,Qe.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,Qe.jsxs)("div",{className:"flex items-center",children:[(0,Qe.jsx)(ks,{className:"h-5 w-5 text-red-400 mr-3"}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Error Loading Highlight Groups"}),(0,Qe.jsx)("p",{className:"text-sm text-red-700 mt-1",children:l})]})]})}):(0,Qe.jsxs)("div",{className:"space-y-6",children:[(0,Qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qe.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Qe.jsxs)("div",{className:"relative flex-1 min-w-64",children:[(0,Qe.jsx)(Ze,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,Qe.jsx)("input",{type:"text",placeholder:"Search highlight groups...",value:v.search,onChange:e=>y(Le(Le({},v),{},{search:e.target.value})),className:"form-input pl-10"})]}),(0,Qe.jsxs)("select",{value:v.category||"",onChange:e=>y(Le(Le({},v),{},{category:e.target.value||void 0})),className:"form-select",children:[(0,Qe.jsx)("option",{value:"",children:"All Categories"}),(0,Qe.jsx)("option",{value:"travel",children:"Travel"}),(0,Qe.jsx)("option",{value:"fitness",children:"Fitness"}),(0,Qe.jsx)("option",{value:"professional",children:"Professional"}),(0,Qe.jsx)("option",{value:"lifestyle",children:"Lifestyle"})]})]}),(0,Qe.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Qe.jsxs)("button",{onClick:()=>f(!0),className:"btn-secondary flex items-center gap-2",children:[(0,Qe.jsx)(We,{className:"w-4 h-4"}),"Manage Positions"]}),t&&(0,Qe.jsxs)("button",{onClick:t,className:"btn-secondary flex items-center gap-2",children:[(0,Qe.jsx)(Jr,{className:"w-4 h-4"}),"Upload Content"]}),(0,Qe.jsxs)("button",{onClick:()=>m(!0),className:"btn-primary flex items-center gap-2",children:[(0,Qe.jsx)(Xe,{className:"w-4 h-4"}),"Create Highlight Group"]})]})]}),(0,Qe.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:N.map((e=>{return(0,Qe.jsx)("div",{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow duration-200",children:(0,Qe.jsxs)("div",{className:"p-6",children:[(0,Qe.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Qe.jsxs)("div",{className:"flex-1",children:[(0,Qe.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Qe.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),(0,Qe.jsxs)("span",{className:"text-sm text-gray-500",children:["#",e.current_position]})]}),e.description&&(0,Qe.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:e.description}),(0,Qe.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[j(e),(0,Qe.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs",children:e.category})]})]}),(0,Qe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Qe.jsx)("button",{onClick:()=>(e=>{b(e),x(!0)})(e),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",title:"Edit Group",children:(0,Qe.jsx)($r,{className:"w-4 h-4"})}),(0,Qe.jsx)("button",{onClick:()=>(async e=>{window.confirm("Are you sure you want to delete this highlight group?")&&r(n.filter((t=>t.id!==e)))})(e.id),className:"p-2 text-gray-400 hover:text-red-600 transition-colors",title:"Delete Group",children:(0,Qe.jsx)(Kr,{className:"w-4 h-4"})})]})]}),(0,Qe.jsxs)("div",{className:"mb-4",children:[(0,Qe.jsxs)("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[(0,Qe.jsx)("span",{children:"Content Pool"}),(0,Qe.jsxs)("span",{children:[e.content_pool_size,"/",e.max_content_items]})]}),(0,Qe.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,Qe.jsx)("div",{className:"h-2 rounded-full ".concat(w(e.content_pool_size,e.max_content_items)),style:{width:"".concat(e.content_pool_size/e.max_content_items*100,"%")}})})]}),(0,Qe.jsx)("div",{className:"border-t pt-4",children:(0,Qe.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,Qe.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Qe.jsx)(Wl,{className:"w-4 h-4 text-gray-400"}),(0,Qe.jsxs)("span",{className:"text-gray-600",children:["Every ",e.maintenance_frequency_weeks,"w"]})]}),(0,Qe.jsxs)("div",{className:"text-right",children:[(0,Qe.jsxs)("p",{className:"text-gray-600",children:["Next: ",(t=e.next_maintenance_date,t?new Date(t).toLocaleDateString():"Never")]}),(0,Qe.jsxs)("p",{className:"text-xs text-gray-500",children:[e.content_per_maintenance," item(s)"]})]})]})})]})},e.id);var t}))}),0===N.length&&(0,Qe.jsxs)("div",{className:"text-center py-12",children:[(0,Qe.jsx)(Ge,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),(0,Qe.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Highlight Groups Found"}),(0,Qe.jsx)("p",{className:"text-gray-600 mb-6",children:v.search?"No groups match your search criteria.":"Get started by creating your first highlight group."}),(0,Qe.jsxs)("button",{onClick:()=>m(!0),className:"btn-primary flex items-center gap-2 mx-auto",children:[(0,Qe.jsx)(Xe,{className:"w-4 h-4"}),"Create Highlight Group"]})]}),u&&(0,Qe.jsx)(jh,{isOpen:u,onClose:()=>m(!1),onGroupCreate:async e=>{console.log("Creating group:",e),m(!1)},existingGroups:n}),h&&(0,Qe.jsx)(Mh,{groups:n,positionData:[],onPositionChange:async(e,t)=>{console.log("Position change:",e,t),r((n=>n.map((n=>n.id===e?Le(Le({},n),{},{current_position:t}):n))))},previewMode:!1})]})},Bh=He("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),Uh=He("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),Hh=[{level:"hour",pixelsPerDay:480,majorTickInterval:.25,minorTickInterval:.125,label:"Hourly"},{level:"day",pixelsPerDay:200,majorTickInterval:1,minorTickInterval:.5,label:"Daily"},{level:"week",pixelsPerDay:60,majorTickInterval:7,minorTickInterval:1,label:"Weekly"},{level:"month",pixelsPerDay:20,majorTickInterval:30,minorTickInterval:7,label:"Monthly"},{level:"quarter",pixelsPerDay:6,majorTickInterval:90,minorTickInterval:30,label:"Quarterly"}],qh={vacation:{bg:"#ecfdf5",border:"#10b981",text:"#065f46",dot:"#059669"},fitness:{bg:"#fef2f2",border:"#ef4444",text:"#7f1d1d",dot:"#dc2626"},lifestyle:{bg:"#f3f4f6",border:"#6b7280",text:"#374151",dot:"#4b5563"},work:{bg:"#eff6ff",border:"#3b82f6",text:"#1e3a8a",dot:"#2563eb"},university:{bg:"#faf5ff",border:"#8b5cf6",text:"#581c87",dot:"#7c3aed"},default:{bg:"#f8fafc",border:"#64748b",text:"#334155",dot:"#475569"}},Wh={active:{bg:"#dcfce7",border:"#16a34a",text:"#15803d",icon:wh},scheduled:{bg:"#dbeafe",border:"#2563eb",text:"#1d4ed8",icon:Wl},paused:{bg:"#fef3c7",border:"#d97706",text:"#92400e",icon:Is},completed:{bg:"#f3f4f6",border:"#6b7280",text:"#374151",icon:wh},cancelled:{bg:"#fee2e2",border:"#dc2626",text:"#991b1b",icon:Vr}},Gh=e=>{var t,n,r,s,i,l,o,c;let{accounts:d,sprints:u,assignments:m,dateRange:p,zoomLevel:x="week",filters:h,onSprintClick:f,onAccountClick:g,onAssignmentAction:b,className:v=""}=e;const[y,j]=(0,a.useState)(Hh.find((e=>e.level===x))||Hh[2]),[w,N]=(0,a.useState)(""),[k,S]=(0,a.useState)(null),[C,_]=(0,a.useState)(new Set),[E,I]=(0,a.useState)(!1),[P,D]=(0,a.useState)({isDragging:!1,assignmentId:null,startX:0,originalLeft:0}),[A,O]=(0,a.useState)(null),[T,R]=(0,a.useState)({visible:!1,x:0,y:0,assignmentId:null}),[F,L]=(0,a.useState)({visible:!1,x:0,y:0,content:null}),[M,z]=(0,a.useState)({x:0,y:0}),[B,U]=(0,a.useState)(!1),[H,q]=(0,a.useState)({status:"all",sprintType:"all",dateRange:"all"}),W=(0,a.useRef)(null),G=(0,a.useRef)(null),V=(0,a.useRef)(null),$=320,K=72,J=y.pixelsPerDay,Q=(0,a.useMemo)((()=>{if(!p.start||!p.end)return 1e3;const e=Math.ceil((p.end.getTime()-p.start.getTime())/864e5);return Math.max(e*J,1e3)}),[p,J]),Y=(0,a.useMemo)((()=>{if(!p.start||!p.end)return{major:[],minor:[]};const e={major:[],minor:[]},t=new Date(p.start),n=new Date(p.end),a=Math.ceil((n.getTime()-t.getTime())/864e5),r=y.majorTickInterval;for(let i=0;i<=a;i+=r){const n=new Date(t);n.setDate(n.getDate()+i);const a=i*J;e.major.push({x:a,date:n,label:"day"===y.level||"week"===y.level?n.toLocaleDateString("en-US",{month:"short",day:"numeric"}):n.toLocaleDateString("en-US",{month:"short",year:"numeric"})})}const s=y.minorTickInterval;for(let i=0;i<=a;i+=s){const n=new Date(t);n.setDate(n.getDate()+i);const a=i*J;e.minor.push({x:a,date:n})}return e}),[p,y,J]),X=(0,a.useMemo)((()=>d.filter((e=>{var t;return""===w||e.username.toLowerCase().includes(w.toLowerCase())||(null===(t=e.display_name)||void 0===t?void 0:t.toLowerCase().includes(w.toLowerCase()))}))),[d,w]),Z=(0,a.useMemo)((()=>{if(!p.start)return-1;return((new Date).getTime()-p.start.getTime())/864e5*J}),[p.start,J]),ee=(0,a.useCallback)((()=>{const e=Hh.findIndex((e=>e.level===y.level));e>0&&j(Hh[e-1])}),[y]),te=(0,a.useCallback)((()=>{const e=Hh.findIndex((e=>e.level===y.level));e<Hh.length-1&&j(Hh[e+1])}),[y]),ne=(0,a.useCallback)((()=>{if(!p.start||Z<0)return;const e=V.current;if(e){const t=Z-e.clientWidth/2;e.scrollLeft=Math.max(0,t)}}),[Z,p.start]),ae=(0,a.useCallback)(((e,t)=>{t.stopPropagation(),t.ctrlKey||t.metaKey?_((t=>{const n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n})):t.shiftKey&&C.size>0||_(new Set([e]))}),[C]),re=(0,a.useCallback)(((e,t)=>{e.preventDefault(),R({visible:!0,x:e.clientX,y:e.clientY,assignmentId:t})}),[]),se=(0,a.useCallback)(((e,t)=>{if(0!==e.button)return;const n=e.target.getBoundingClientRect();D({isDragging:!0,assignmentId:t,startX:e.clientX,originalLeft:n.left})}),[]),ie=(0,a.useCallback)((e=>{if(!P.isDragging)return;const t=e.clientX-P.startX,n=P.originalLeft+t;console.log("Dragging assignment",P.assignmentId,"to position",n)}),[P]),le=(0,a.useCallback)((()=>{P.isDragging&&D({isDragging:!1,assignmentId:null,startX:0,originalLeft:0})}),[P]);return(0,a.useEffect)((()=>{if(P.isDragging)return document.addEventListener("mousemove",ie),document.addEventListener("mouseup",le),()=>{document.removeEventListener("mousemove",ie),document.removeEventListener("mouseup",le)}}),[P.isDragging,ie,le]),(0,a.useEffect)((()=>{const e=e=>{if(!(e.target instanceof HTMLInputElement))switch(e.key){case"ArrowLeft":e.preventDefault(),V.current&&(V.current.scrollLeft-=100);break;case"ArrowRight":e.preventDefault(),V.current&&(V.current.scrollLeft+=100);break;case"=":case"+":(e.ctrlKey||e.metaKey)&&(e.preventDefault(),ee());break;case"-":(e.ctrlKey||e.metaKey)&&(e.preventDefault(),te());break;case"t":e.preventDefault(),ne();break;case"Escape":_(new Set),R({visible:!1,x:0,y:0,assignmentId:null})}};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)}),[ee,te,ne]),(0,a.useEffect)((()=>{const e=()=>R({visible:!1,x:0,y:0,assignmentId:null});if(T.visible)return document.addEventListener("click",e),()=>document.removeEventListener("click",e)}),[T.visible]),(0,Qe.jsxs)("div",{ref:W,className:"gantt-chart relative bg-white border border-gray-200 rounded-xl shadow-sm overflow-hidden ".concat(v),children:[(0,Qe.jsxs)("div",{className:"border-b border-gray-200 bg-gradient-to-r from-gray-50 to-white",children:[(0,Qe.jsxs)("div",{className:"flex items-center justify-between p-4",children:[(0,Qe.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Content Timeline"}),(0,Qe.jsxs)("p",{className:"text-sm text-gray-500",children:[X.length," accounts \u2022 ",m.length," assignments"]})]}),(0,Qe.jsxs)("div",{className:"relative",children:[(0,Qe.jsx)(Ze,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),(0,Qe.jsx)("input",{type:"text",placeholder:"Search accounts...",value:w,onChange:e=>N(e.target.value),className:"pl-10 pr-4 py-2 w-64 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all"})]}),(0,Qe.jsxs)("button",{onClick:()=>U(!B),className:"flex items-center space-x-2 px-3 py-2 border rounded-lg text-sm font-medium transition-all ".concat(B?"bg-blue-50 border-blue-300 text-blue-700":"border-gray-300 text-gray-700 hover:bg-gray-50"),children:[(0,Qe.jsx)(et,{size:16}),(0,Qe.jsx)("span",{children:"Filters"})]})]}),(0,Qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Qe.jsxs)("div",{className:"flex items-center border border-gray-300 rounded-lg bg-white",children:[(0,Qe.jsx)("button",{onClick:te,disabled:"quarter"===y.level,className:"p-2 text-gray-600 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Zoom Out (Ctrl + -)",children:(0,Qe.jsx)(Bh,{size:16})}),(0,Qe.jsx)("div",{className:"px-3 py-2 text-sm border-x border-gray-300 min-w-20 text-center",children:y.label}),(0,Qe.jsx)("button",{onClick:ee,disabled:"hour"===y.level,className:"p-2 text-gray-600 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Zoom In (Ctrl + +)",children:(0,Qe.jsx)(Uh,{size:16})})]}),(0,Qe.jsxs)("button",{onClick:ne,className:"flex items-center space-x-2 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",title:"Go to Today (T)",children:[(0,Qe.jsx)(Yr,{size:16}),(0,Qe.jsx)("span",{children:"Today"})]}),(0,Qe.jsx)("button",{className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:(0,Qe.jsx)(We,{size:16})})]})]}),B&&(0,Qe.jsx)("div",{className:"border-t border-gray-200 p-4 bg-gray-50",children:(0,Qe.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Qe.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Status:"}),(0,Qe.jsxs)("select",{value:H.status,onChange:e=>q((t=>Le(Le({},t),{},{status:e.target.value}))),className:"border border-gray-300 rounded px-3 py-1 text-sm focus:ring-2 focus:ring-blue-500",children:[(0,Qe.jsx)("option",{value:"all",children:"All"}),(0,Qe.jsx)("option",{value:"active",children:"Active"}),(0,Qe.jsx)("option",{value:"scheduled",children:"Scheduled"}),(0,Qe.jsx)("option",{value:"paused",children:"Paused"}),(0,Qe.jsx)("option",{value:"completed",children:"Completed"})]})]}),(0,Qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Qe.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Sprint Type:"}),(0,Qe.jsxs)("select",{value:H.sprintType,onChange:e=>q((t=>Le(Le({},t),{},{sprintType:e.target.value}))),className:"border border-gray-300 rounded px-3 py-1 text-sm focus:ring-2 focus:ring-blue-500",children:[(0,Qe.jsx)("option",{value:"all",children:"All Types"}),(0,Qe.jsx)("option",{value:"vacation",children:"Vacation"}),(0,Qe.jsx)("option",{value:"fitness",children:"Fitness"}),(0,Qe.jsx)("option",{value:"lifestyle",children:"Lifestyle"}),(0,Qe.jsx)("option",{value:"work",children:"Work"}),(0,Qe.jsx)("option",{value:"university",children:"University"})]})]}),C.size>0&&(0,Qe.jsxs)("div",{className:"flex items-center space-x-2 ml-auto",children:[(0,Qe.jsxs)("span",{className:"text-sm text-gray-600",children:[C.size," selected"]}),(0,Qe.jsx)("button",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded text-sm hover:bg-blue-200 transition-colors",children:"Bulk Edit"}),(0,Qe.jsx)("button",{className:"px-3 py-1 bg-red-100 text-red-700 rounded text-sm hover:bg-red-200 transition-colors",children:"Delete"})]})]})})]}),(0,Qe.jsxs)("div",{className:"flex border-b border-gray-200",children:[(0,Qe.jsxs)("div",{className:"flex-shrink-0 bg-gray-50 border-r border-gray-200 px-4 py-3 flex items-center justify-between",style:{width:$},children:[(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("h3",{className:"text-sm font-semibold text-gray-900",children:"Accounts"}),(0,Qe.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[X.length," accounts"]})]}),(0,Qe.jsx)("button",{className:"p-1 text-gray-400 hover:text-gray-600 transition-colors",children:(0,Qe.jsx)(We,{size:14})})]}),(0,Qe.jsx)("div",{className:"flex-1 bg-gray-50 relative overflow-hidden",style:{height:80},children:(0,Qe.jsx)("div",{ref:G,className:"relative h-full",style:{width:Q},children:(0,Qe.jsxs)("div",{className:"absolute inset-0",children:[Y.minor.map(((e,t)=>(0,Qe.jsx)("div",{className:"absolute top-0 w-px bg-gray-300",style:{left:e.x,height:"20px"}},"minor-".concat(t)))),Y.major.map(((e,t)=>(0,Qe.jsxs)("div",{className:"absolute top-0",style:{left:e.x},children:[(0,Qe.jsx)("div",{className:"w-px bg-gray-400 h-8"}),(0,Qe.jsx)("div",{className:"absolute top-8 left-0 transform -translate-x-1/2 text-xs font-medium text-gray-700 whitespace-nowrap",children:e.label})]},"major-".concat(t)))),Z>=0&&Z<=Q&&(0,Qe.jsxs)("div",{className:"absolute top-0 bottom-0 w-0.5 bg-red-500 z-10",style:{left:Z},children:[(0,Qe.jsx)("div",{className:"absolute top-0 left-0 transform -translate-x-1/2 w-3 h-3 bg-red-500 rounded-full"}),(0,Qe.jsx)("div",{className:"absolute top-4 left-0 transform -translate-x-1/2 text-xs font-medium text-red-600 whitespace-nowrap",children:"Now"})]})]})})})]}),(0,Qe.jsxs)("div",{className:"flex",style:{height:"500px"},children:[(0,Qe.jsx)("div",{className:"flex-shrink-0 border-r border-gray-200 overflow-y-auto bg-white",style:{width:$},children:E?(0,Qe.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,Qe.jsx)(Tl,{className:"animate-spin text-gray-400",size:24})}):0===X.length?(0,Qe.jsx)("div",{className:"flex items-center justify-center h-full text-gray-500",children:"No accounts found"}):X.map(((e,t)=>{var n,a;const r=m.filter((t=>t.account_id===e.id)),s=k===e.id;return(0,Qe.jsx)("div",{className:"group flex items-center px-4 py-3 border-b border-gray-100 cursor-pointer transition-all ".concat(s?"bg-blue-50 border-blue-200":"hover:bg-gray-50"),style:{height:K},onClick:()=>S(s?null:e.id),children:(0,Qe.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Qe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Qe.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white text-sm font-semibold shadow-sm ".concat("active"===e.status?"bg-green-500":"bg-gray-400"),children:e.username.charAt(0).toUpperCase()}),(0,Qe.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Qe.jsxs)(Qe.Fragment,{children:[(0,Qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Qe.jsx)("p",{className:"text-sm font-semibold text-gray-900 truncate",children:e.display_name||e.username}),r.some((e=>"active"===e.status))&&(0,Qe.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"})]}),(0,Qe.jsxs)("p",{className:"text-xs text-gray-500 truncate",children:["@",e.username]}),(0,Qe.jsxs)("div",{className:"flex items-center justify-between mt-0.5",children:[(0,Qe.jsx)("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium ".concat((null===(n=Wh[e.status])||void 0===n?void 0:n.bg)||"bg-gray-100"," ").concat((null===(a=Wh[e.status])||void 0===a?void 0:a.text)||"text-gray-800"),children:e.status}),(0,Qe.jsx)("span",{className:"text-xs text-gray-400 capitalize",children:e.location})]})]}),!1]})]}),(0,Qe.jsxs)("div",{className:"mt-0.5 flex items-center justify-between",children:[(0,Qe.jsxs)("div",{className:"flex items-center space-x-1 text-xs text-gray-500",children:[(0,Qe.jsx)("span",{children:r.length}),r.some((e=>"active"===e.status))&&(0,Qe.jsx)("span",{className:"text-green-600 font-medium",children:"\u2022"})]}),(0,Qe.jsx)("button",{className:"p-0.5 text-gray-400 hover:text-gray-600 transition-colors opacity-0 group-hover:opacity-100",children:(0,Qe.jsx)(hi,{size:10})})]})]})},e.id)}))}),(0,Qe.jsx)("div",{ref:V,className:"flex-1 relative overflow-auto bg-gray-50",onScroll:e=>{const t=e.target;z({x:t.scrollLeft,y:t.scrollTop}),G.current&&(G.current.style.transform="translateX(-".concat(t.scrollLeft,"px)"))},children:(0,Qe.jsxs)("div",{className:"relative",style:{width:Q,height:X.length*K,minHeight:"200px"},children:[(0,Qe.jsxs)("div",{className:"absolute inset-0",children:[X.map(((e,t)=>(0,Qe.jsx)("div",{className:"absolute w-full border-b border-gray-200",style:{top:t*K,height:K}},t))),Y.major.map(((e,t)=>(0,Qe.jsx)("div",{className:"absolute top-0 bottom-0 w-px bg-gray-200",style:{left:e.x}},"grid-".concat(t))))]}),X.map(((e,t)=>{const n=m.filter((t=>t.account_id===e.id));return(0,Qe.jsxs)("div",{className:"absolute w-full",style:{top:t*K,height:K},children:[n.map((e=>{const t=u.find((t=>t.id===e.sprint_id));if(!t||!e.start_date||!e.end_date)return null;const n=new Date(e.start_date),a=new Date(e.end_date),r=p.start||new Date,s=Math.floor((n.getTime()-r.getTime())/864e5),i=Math.floor((a.getTime()-n.getTime())/864e5),l=Math.max(0,s*J),o=Math.max(20,i*J),c=qh[t.sprint_type]||qh.default,d=Wh[e.status]||Wh.active,m=C.has(e.id),x=A===e.id;return(0,Qe.jsxs)("div",{className:"absolute rounded-lg cursor-pointer transition-all duration-200 group ".concat(m?"ring-2 ring-blue-500 ring-offset-2 z-20":"z-10"," ").concat(x?"shadow-md transform scale-[1.02]":"shadow-sm hover:shadow-md"),style:{left:l+8,top:16,width:o-16,height:40,backgroundColor:c.bg,border:"2px solid ".concat(c.border)},onClick:t=>ae(e.id,t),onContextMenu:t=>re(t,e.id),onMouseDown:t=>se(t,e.id),onMouseEnter:r=>{O(e.id),L({visible:!0,x:r.clientX,y:r.clientY,content:{sprint:t,assignment:e,progress:"".concat((e.current_content_index||0)/10*100,"%"),duration:"".concat(i," days"),startDate:n.toLocaleDateString(),endDate:a.toLocaleDateString()}})},onMouseLeave:()=>{O(null),L({visible:!1,x:0,y:0,content:null})},title:"".concat(t.name," (").concat(e.status,")"),children:[(0,Qe.jsx)("div",{className:"absolute inset-0 rounded-lg opacity-10",style:{background:"linear-gradient(135deg, ".concat(c.border,", transparent)")}}),(0,Qe.jsx)("div",{className:"absolute left-0 top-0 bottom-0 w-1 rounded-l-lg",style:{backgroundColor:c.border}}),(0,Qe.jsxs)("div",{className:"relative px-2 py-1 h-full flex items-center justify-between overflow-hidden",children:[(0,Qe.jsxs)("div",{className:"flex-1 min-w-0",children:[o>180&&(0,Qe.jsxs)(Qe.Fragment,{children:[(0,Qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Qe.jsxs)("div",{className:"relative flex-shrink-0",children:[(0,Qe.jsx)("div",{className:"w-2 h-2 rounded-full shadow-sm",style:{backgroundColor:d.border}}),"active"===e.status&&(0,Qe.jsx)("div",{className:"absolute inset-0 w-2 h-2 rounded-full animate-ping",style:{backgroundColor:d.border,opacity:.4}})]}),(0,Qe.jsx)("span",{className:"text-xs font-semibold truncate drop-shadow-sm flex-1 min-w-0",style:{color:c.text},children:t.name}),o>250&&(0,Qe.jsx)("span",{className:"inline-flex items-center px-1 py-0.5 rounded text-xs font-medium bg-white bg-opacity-20 backdrop-blur-sm flex-shrink-0",style:{color:c.text},children:t.sprint_type})]}),(0,Qe.jsxs)("div",{className:"flex items-center space-x-2 mt-0.5",children:[(0,Qe.jsxs)("span",{className:"text-xs font-medium",style:{color:c.text,opacity:.8},children:[i,"d"]}),void 0!==e.current_content_index&&o>220&&(0,Qe.jsxs)("span",{className:"text-xs",style:{color:c.text,opacity:.7},children:[e.current_content_index,"/10"]})]})]}),o>120&&o<=180&&(0,Qe.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,Qe.jsxs)("div",{className:"flex items-center space-x-1.5",children:[(0,Qe.jsx)("div",{className:"w-1.5 h-1.5 rounded-full flex-shrink-0",style:{backgroundColor:d.border}}),(0,Qe.jsx)("span",{className:"text-xs font-semibold truncate",style:{color:c.text},title:t.name,children:t.name.length>10?"".concat(t.name.substring(0,10),"..."):t.name})]})}),o>60&&o<=120&&(0,Qe.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,Qe.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Qe.jsx)("div",{className:"w-1.5 h-1.5 rounded-full",style:{backgroundColor:d.border}}),(0,Qe.jsxs)("span",{className:"text-xs font-bold",style:{color:c.text},children:[i,"d"]})]})}),o<=60&&(0,Qe.jsx)("div",{className:"flex justify-center items-center h-full",children:(0,Qe.jsx)("div",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:d.border}})})]}),o>200&&(0,Qe.jsxs)("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[void 0!==e.current_content_index&&o>250&&(0,Qe.jsxs)("div",{className:"relative w-5 h-5",children:[(0,Qe.jsxs)("svg",{className:"w-5 h-5 transform -rotate-90",viewBox:"0 0 20 20",children:[(0,Qe.jsx)("circle",{cx:"10",cy:"10",r:"8",stroke:"white",strokeWidth:"1.5",fill:"none",opacity:"0.3"}),(0,Qe.jsx)("circle",{cx:"10",cy:"10",r:"8",stroke:"white",strokeWidth:"1.5",fill:"none",strokeDasharray:"".concat((e.current_content_index||0)/10*50.27," 50.27"),className:"transition-all duration-300"})]}),(0,Qe.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,Qe.jsxs)("span",{className:"text-xs font-bold text-white",children:[Math.round((e.current_content_index||0)/10*100),"%"]})})]}),o>220&&(0,Qe.jsx)("button",{className:"p-0.5 rounded opacity-0 group-hover:opacity-100 transition-all duration-200 hover:bg-white hover:bg-opacity-20",children:(0,Qe.jsx)(hi,{size:12,className:"drop-shadow-sm",style:{color:c.text}})})]})]}),void 0!==e.current_content_index&&o>120&&(0,Qe.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-white bg-opacity-20 rounded-b-lg overflow-hidden",children:(0,Qe.jsx)("div",{className:"h-full bg-white rounded-b-lg transition-all duration-500",style:{width:"".concat((e.current_content_index||0)/10*100,"%"),opacity:.8}})})]},e.id)})),0===n.length&&(0,Qe.jsx)("div",{className:"absolute inset-0 flex items-center justify-center text-gray-400",children:(0,Qe.jsxs)("div",{className:"flex items-center space-x-2 opacity-50",children:[(0,Qe.jsx)(Wl,{size:16}),(0,Qe.jsx)("span",{className:"text-sm",children:"No assignments"})]})})]},e.id)})),Z>=0&&Z<=Q&&(0,Qe.jsx)("div",{className:"absolute top-0 bottom-0 w-0.5 bg-red-500 z-30 pointer-events-none",style:{left:Z}})]})})]}),(0,Qe.jsxs)("div",{className:"border-t border-gray-200 bg-gradient-to-r from-gray-50 to-white",children:[(0,Qe.jsx)("div",{className:"px-4 py-3",children:(0,Qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qe.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,Qe.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Qe.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),(0,Qe.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:[m.filter((e=>"active"===e.status)).length," Active"]})]}),(0,Qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Qe.jsx)("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),(0,Qe.jsxs)("span",{className:"text-sm text-gray-600",children:[m.filter((e=>"scheduled"===e.status)).length," Scheduled"]})]}),(0,Qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Qe.jsx)("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),(0,Qe.jsxs)("span",{className:"text-sm text-gray-600",children:[m.filter((e=>"paused"===e.status)).length," Paused"]})]}),(0,Qe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Qe.jsx)("div",{className:"w-3 h-3 bg-gray-400 rounded-full"}),(0,Qe.jsxs)("span",{className:"text-sm text-gray-600",children:[m.filter((e=>"completed"===e.status)).length," Completed"]})]})]}),(0,Qe.jsx)("div",{className:"h-6 w-px bg-gray-300"}),(0,Qe.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[(0,Qe.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Qe.jsx)(Wl,{size:14}),(0,Qe.jsxs)("span",{children:[Math.round(m.reduce(((e,t)=>{if(!t.start_date||!t.end_date)return e;return e+(new Date(t.end_date).getTime()-new Date(t.start_date).getTime())/864e5}),0)/m.length||0),"d avg"]})]}),(0,Qe.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Qe.jsx)(Fl,{size:14}),(0,Qe.jsxs)("span",{children:[d.filter((e=>"active"===e.status)).length," active accounts"]})]})]})]}),(0,Qe.jsxs)("div",{className:"flex items-center space-x-4",children:[C.size>0&&(0,Qe.jsx)("div",{className:"flex items-center space-x-2 px-3 py-1 bg-blue-100 rounded-full",children:(0,Qe.jsxs)("span",{className:"text-sm font-medium text-blue-700",children:[C.size," selected"]})}),(0,Qe.jsxs)("div",{className:"flex items-center space-x-2 text-xs text-gray-500",children:[(0,Qe.jsx)("kbd",{className:"px-2 py-1 bg-gray-200 rounded text-xs font-mono",children:"Ctrl"}),(0,Qe.jsx)("span",{children:"+"}),(0,Qe.jsx)("kbd",{className:"px-2 py-1 bg-gray-200 rounded text-xs font-mono",children:"Click"}),(0,Qe.jsx)("span",{children:"Multi-select"}),(0,Qe.jsx)("span",{className:"mx-2",children:"\u2022"}),(0,Qe.jsx)("kbd",{className:"px-2 py-1 bg-gray-200 rounded text-xs font-mono",children:"T"}),(0,Qe.jsx)("span",{children:"Today"}),(0,Qe.jsx)("span",{className:"mx-2",children:"\u2022"}),(0,Qe.jsx)("kbd",{className:"px-2 py-1 bg-gray-200 rounded text-xs font-mono",children:"\xb1"}),(0,Qe.jsx)("span",{children:"Zoom"})]})]})]})}),(0,Qe.jsxs)("div",{className:"px-4 pb-3",children:[(0,Qe.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-2",children:[(0,Qe.jsx)("span",{children:"Overall Progress"}),(0,Qe.jsxs)("span",{children:[Math.round(m.filter((e=>"completed"===e.status)).length/m.length*100||0),"% complete"]})]}),(0,Qe.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:(0,Qe.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-green-500 h-1.5 rounded-full transition-all duration-500",style:{width:"".concat(m.filter((e=>"completed"===e.status)).length/m.length*100||0,"%")}})})]})]}),F.visible&&F.content&&(0,Qe.jsxs)("div",{className:"fixed bg-gray-900 text-white rounded-lg shadow-xl z-50 p-4 max-w-sm",style:{left:F.x+10,top:F.y-10,transform:"translateY(-100%)"},children:[(0,Qe.jsxs)("div",{className:"space-y-2",children:[(0,Qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qe.jsx)("h4",{className:"font-semibold text-white",children:null===(t=F.content.sprint)||void 0===t?void 0:t.name}),(0,Qe.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat((null===(n=Wh[null===(r=F.content.assignment)||void 0===r?void 0:r.status])||void 0===n?void 0:n.bg)||"bg-gray-100"," ").concat((null===(s=Wh[null===(i=F.content.assignment)||void 0===i?void 0:i.status])||void 0===s?void 0:s.text)||"text-gray-800"),children:null===(l=F.content.assignment)||void 0===l?void 0:l.status})]}),(0,Qe.jsxs)("div",{className:"text-sm text-gray-300 space-y-1",children:[(0,Qe.jsxs)("div",{children:["Type: ",(0,Qe.jsx)("span",{className:"text-white capitalize",children:null===(o=F.content.sprint)||void 0===o?void 0:o.sprint_type})]}),(0,Qe.jsxs)("div",{children:["Duration: ",(0,Qe.jsx)("span",{className:"text-white",children:F.content.duration})]}),(0,Qe.jsxs)("div",{children:["Period: ",(0,Qe.jsxs)("span",{className:"text-white",children:[F.content.startDate," - ",F.content.endDate]})]}),(0,Qe.jsxs)("div",{children:["Progress: ",(0,Qe.jsx)("span",{className:"text-white",children:F.content.progress})]})]}),void 0!==(null===(c=F.content.assignment)||void 0===c?void 0:c.current_content_index)&&(0,Qe.jsxs)("div",{className:"mt-3",children:[(0,Qe.jsxs)("div",{className:"flex justify-between text-xs text-gray-300 mb-1",children:[(0,Qe.jsx)("span",{children:"Content Progress"}),(0,Qe.jsxs)("span",{children:[F.content.assignment.current_content_index,"/10"]})]}),(0,Qe.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2",children:(0,Qe.jsx)("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:F.content.progress}})})]})]}),(0,Qe.jsx)("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-2 h-2 bg-gray-900 rotate-45",style:{marginTop:"-4px"}})]}),T.visible&&(0,Qe.jsxs)("div",{className:"fixed bg-white border border-gray-200 rounded-xl shadow-xl z-50 py-2 min-w-48 backdrop-blur-sm",style:{left:T.x,top:T.y,transform:"translate(-50%, -10px)"},children:[(0,Qe.jsx)("div",{className:"px-3 py-2 border-b border-gray-100",children:(0,Qe.jsx)("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Sprint Actions"})}),(0,Qe.jsxs)("button",{className:"w-full px-4 py-3 text-left text-sm hover:bg-blue-50 hover:text-blue-700 flex items-center space-x-3 transition-colors",children:[(0,Qe.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,Qe.jsx)($r,{size:14,className:"text-blue-600"})}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("div",{className:"font-medium",children:"Edit Sprint"}),(0,Qe.jsx)("div",{className:"text-xs text-gray-500",children:"Modify sprint details"})]})]}),(0,Qe.jsxs)("button",{className:"w-full px-4 py-3 text-left text-sm hover:bg-green-50 hover:text-green-700 flex items-center space-x-3 transition-colors",children:[(0,Qe.jsx)("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center",children:(0,Qe.jsx)($o,{size:14,className:"text-green-600"})}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("div",{className:"font-medium",children:"Duplicate"}),(0,Qe.jsx)("div",{className:"text-xs text-gray-500",children:"Create a copy"})]})]}),(0,Qe.jsxs)("button",{className:"w-full px-4 py-3 text-left text-sm hover:bg-yellow-50 hover:text-yellow-700 flex items-center space-x-3 transition-colors",children:[(0,Qe.jsx)("div",{className:"w-8 h-8 bg-yellow-100 rounded-lg flex items-center justify-center",children:(0,Qe.jsx)(Is,{size:14,className:"text-yellow-600"})}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("div",{className:"font-medium",children:"Pause"}),(0,Qe.jsx)("div",{className:"text-xs text-gray-500",children:"Temporarily halt"})]})]}),(0,Qe.jsx)("div",{className:"border-t border-gray-100 mt-2 pt-2",children:(0,Qe.jsxs)("button",{className:"w-full px-4 py-3 text-left text-sm hover:bg-red-50 hover:text-red-700 flex items-center space-x-3 transition-colors",children:[(0,Qe.jsx)("div",{className:"w-8 h-8 bg-red-100 rounded-lg flex items-center justify-center",children:(0,Qe.jsx)(Kr,{size:14,className:"text-red-600"})}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("div",{className:"font-medium",children:"Delete"}),(0,Qe.jsx)("div",{className:"text-xs text-gray-500",children:"Remove permanently"})]})]})})]})]})},Vh=()=>{const[e,t]=(0,a.useState)([]),[n,r]=(0,a.useState)([]),[s,i]=(0,a.useState)([]),[l,o]=(0,a.useState)(!0),[c,d]=(0,a.useState)({accountStatus:[],sprintTypes:[],contentTypes:[],conflictsOnly:!1,accountIds:[]}),[u,m]=(0,a.useState)({start:new Date(Date.now()-2592e6),end:new Date(Date.now()+7776e6)}),[p,x]=(0,a.useState)("week");(0,a.useEffect)((()=>{const e=setTimeout((()=>{(()=>{const e=[{id:1,model_id:1,username:"travel_enthusiast",password:"dummy_password",display_name:"Travel Enthusiast",email:"travel@example.com",status:"active",device_info:{},lifecycle_state:"active",state_changed_at:(new Date).toISOString(),location:"paris",proxy_status:"active",follow_back_rate:85.5,conversion_rate:12.3,total_follows:150,total_conversions:18,monthly_cost:45,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()},{id:2,model_id:1,username:"fitness_guru",password:"dummy_password",display_name:"Fitness Guru",email:"fitness@example.com",status:"active",device_info:{},lifecycle_state:"active",state_changed_at:(new Date).toISOString(),location:"london",proxy_status:"active",follow_back_rate:78.2,conversion_rate:15.6,total_follows:230,total_conversions:36,monthly_cost:50,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()},{id:3,model_id:1,username:"food_lover",password:"dummy_password",display_name:"Food Lover",email:"food@example.com",status:"active",device_info:{},lifecycle_state:"active",state_changed_at:(new Date).toISOString(),location:"newyork",proxy_status:"active",follow_back_rate:92.1,conversion_rate:18.4,total_follows:180,total_conversions:33,monthly_cost:40,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()},{id:4,model_id:1,username:"tech_reviewer",password:"dummy_password",display_name:"Tech Reviewer",email:"tech@example.com",status:"active",device_info:{},lifecycle_state:"active",state_changed_at:(new Date).toISOString(),location:"tokyo",proxy_status:"active",follow_back_rate:65.8,conversion_rate:22.1,total_follows:95,total_conversions:21,monthly_cost:55,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()}],n=[{id:1,name:"Summer Vacation",description:"Summer vacation content in Paris",sprint_type:"vacation",location:"paris",target_duration_hours:168,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()},{id:2,name:"Morning Workout",description:"Daily fitness routines",sprint_type:"fitness",location:"london",target_duration_hours:720,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()},{id:3,name:"Home Cooking",description:"Home cooking recipes and tips",sprint_type:"lifestyle",location:"newyork",target_duration_hours:504,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()},{id:4,name:"Tech Reviews",description:"Latest gadget reviews",sprint_type:"work",location:"tokyo",target_duration_hours:336,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()}],a=[{id:1,account_id:1,sprint_id:1,assignment_date:(new Date).toISOString(),start_date:(new Date).toISOString(),end_date:new Date(Date.now()+12096e5).toISOString(),status:"active",current_content_index:3,next_content_due:new Date(Date.now()+1728e5).toISOString(),sprint_instance_id:"vacation-paris-2024",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()},{id:2,account_id:2,sprint_id:2,assignment_date:(new Date).toISOString(),start_date:(new Date).toISOString(),end_date:new Date(Date.now()+2592e6).toISOString(),status:"active",current_content_index:8,next_content_due:new Date(Date.now()+864e5).toISOString(),sprint_instance_id:"fitness-london-2024",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()},{id:3,account_id:3,sprint_id:3,assignment_date:(new Date).toISOString(),start_date:(new Date).toISOString(),end_date:new Date(Date.now()+18144e5).toISOString(),status:"scheduled",current_content_index:0,next_content_due:new Date(Date.now()+2592e5).toISOString(),sprint_instance_id:"cooking-ny-2024",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()},{id:4,account_id:4,sprint_id:4,assignment_date:(new Date).toISOString(),start_date:new Date(Date.now()+6048e5).toISOString(),end_date:new Date(Date.now()+24192e5).toISOString(),status:"scheduled",current_content_index:0,next_content_due:new Date(Date.now()+864e6).toISOString(),sprint_instance_id:"tech-tokyo-2024",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()}];t(e),r(n),i(a),o(!1)})()}),500);return()=>clearTimeout(e)}),[]);return l?(0,Qe.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,Qe.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):(0,Qe.jsxs)("div",{className:"space-y-6",children:[(0,Qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Content Sprint Timeline"}),(0,Qe.jsx)("p",{className:"text-sm text-gray-600",children:"Visualize account sprint assignments and content scheduling across time"})]}),(0,Qe.jsx)("div",{className:"flex items-center gap-3",children:(0,Qe.jsxs)("span",{className:"text-sm text-gray-600",children:[e.length," accounts \u2022 ",s.length," assignments"]})})]}),(0,Qe.jsx)("div",{className:"bg-white rounded-lg shadow-sm border",children:(0,Qe.jsx)(Gh,{accounts:e,sprints:n,assignments:s,dateRange:u,zoomLevel:p,filters:c,onSprintClick:e=>{console.log("Sprint clicked:",e)},onAccountClick:e=>{console.log("Account clicked:",e)},onAssignmentAction:e=>{console.log("Assignment action:",e)}})}),(0,Qe.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:[(0,Qe.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Timeline Legend"}),(0,Qe.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,Qe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Qe.jsx)("div",{className:"w-4 h-3 bg-blue-500 rounded"}),(0,Qe.jsx)("span",{className:"text-sm text-gray-600",children:"Active Sprint"})]}),(0,Qe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Qe.jsx)("div",{className:"w-4 h-3 bg-yellow-500 rounded"}),(0,Qe.jsx)("span",{className:"text-sm text-gray-600",children:"Scheduled Sprint"})]}),(0,Qe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Qe.jsx)("div",{className:"w-4 h-3 bg-green-500 rounded"}),(0,Qe.jsx)("span",{className:"text-sm text-gray-600",children:"Completed Sprint"})]}),(0,Qe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Qe.jsx)("div",{className:"w-4 h-3 bg-purple-500 rounded"}),(0,Qe.jsx)("span",{className:"text-sm text-gray-600",children:"Highlight Maintenance"})]})]})]}),(0,Qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Qe.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:(0,Qe.jsxs)("div",{className:"flex items-center",children:[(0,Qe.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,Qe.jsx)("div",{className:"w-6 h-6 bg-blue-600 rounded"})}),(0,Qe.jsxs)("div",{className:"ml-3",children:[(0,Qe.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Active Sprints"}),(0,Qe.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:s.filter((e=>"active"===e.status)).length})]})]})}),(0,Qe.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:(0,Qe.jsxs)("div",{className:"flex items-center",children:[(0,Qe.jsx)("div",{className:"p-2 bg-yellow-100 rounded-lg",children:(0,Qe.jsx)("div",{className:"w-6 h-6 bg-yellow-600 rounded"})}),(0,Qe.jsxs)("div",{className:"ml-3",children:[(0,Qe.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Scheduled"}),(0,Qe.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:s.filter((e=>"scheduled"===e.status)).length})]})]})}),(0,Qe.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:(0,Qe.jsxs)("div",{className:"flex items-center",children:[(0,Qe.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,Qe.jsx)("div",{className:"w-6 h-6 bg-green-600 rounded"})}),(0,Qe.jsxs)("div",{className:"ml-3",children:[(0,Qe.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Accounts"}),(0,Qe.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.length})]})]})}),(0,Qe.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:(0,Qe.jsxs)("div",{className:"flex items-center",children:[(0,Qe.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,Qe.jsx)("div",{className:"w-6 h-6 bg-purple-600 rounded"})}),(0,Qe.jsxs)("div",{className:"ml-3",children:[(0,Qe.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Sprint Types"}),(0,Qe.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:n.length})]})]})})]})]})},$h=e=>{let{content:t,onUpdate:n,isSelected:a=!1,onToggleSelect:r,selectionMode:s=!1}=e;return(0,Qe.jsxs)("div",{className:"bg-white border rounded-lg overflow-hidden hover:shadow-md transition-shadow relative ".concat(a?"ring-2 ring-blue-500 bg-blue-50":""),children:[s&&(0,Qe.jsx)("div",{className:"absolute top-2 left-2 z-10",children:(0,Qe.jsx)("button",{onClick:r,className:"w-6 h-6 rounded border-2 flex items-center justify-center ".concat(a?"bg-blue-600 border-blue-600 text-white":"bg-white border-gray-300 hover:border-blue-400"),children:a&&(0,Qe.jsx)(Gr,{className:"w-4 h-4"})})}),(0,Qe.jsx)("div",{className:"aspect-square bg-gray-100 overflow-hidden",children:(0,Qe.jsx)("img",{src:t.image_url,alt:t.original_name,className:"w-full h-full object-cover"})}),(0,Qe.jsxs)("div",{className:"p-4",children:[(0,Qe.jsx)("h3",{className:"font-medium text-gray-900 truncate mb-2",children:t.original_name}),(0,Qe.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-3",children:[(0,Qe.jsx)("span",{className:"capitalize",children:t.content_type}),(0,Qe.jsxs)("span",{children:[(t.file_size/1024/1024).toFixed(1)," MB"]})]}),t.categories.length>0&&(0,Qe.jsxs)("div",{className:"flex flex-wrap gap-1 mb-3",children:[t.categories.slice(0,2).map(((e,t)=>(0,Qe.jsx)("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs",children:e},t))),t.categories.length>2&&(0,Qe.jsxs)("span",{className:"text-xs text-gray-500",children:["+",t.categories.length-2]})]}),t.assigned_texts.length>0&&(0,Qe.jsxs)("div",{className:"text-xs text-green-600 mb-2",children:[t.assigned_texts.length," text",1!==t.assigned_texts.length?"s":""," assigned"]})]})]})},Kh=e=>{let{bundle:t,onUpdate:n,isSelected:r=!1,onToggleSelect:s,selectionMode:i=!1}=e;const[l,o]=(0,a.useState)(!1),[c,d]=(0,a.useState)(!1);return(0,Qe.jsxs)("div",{className:"bg-white border rounded-lg p-6 hover:shadow-md transition-shadow relative ".concat(r?"ring-2 ring-blue-500 bg-blue-50":""),children:[i&&(0,Qe.jsx)("div",{className:"absolute top-2 left-2 z-10",children:(0,Qe.jsx)("button",{onClick:s,className:"w-6 h-6 rounded border-2 flex items-center justify-center ".concat(r?"bg-blue-600 border-blue-600 text-white":"bg-white border-gray-300 hover:border-blue-400"),children:r&&(0,Qe.jsx)(Gr,{className:"w-4 h-4"})})}),(0,Qe.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Qe.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Qe.jsx)(Ve,{className:"h-8 w-8 text-purple-600"}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("h3",{className:"font-medium text-gray-900",children:t.name}),(0,Qe.jsx)("p",{className:"text-sm text-gray-500 capitalize",children:t.bundle_type})]})]}),!i&&(0,Qe.jsx)("button",{onClick:async()=>{if(window.confirm('Are you sure you want to delete "'.concat(t.name,'"? This action cannot be undone.')))try{(await fetch("/api/central/bundles/".concat(t.id),{method:"DELETE"})).ok?(qt.success("Bundle deleted successfully"),n()):qt.error("Failed to delete bundle")}catch(e){console.error("Error deleting bundle:",e),qt.error("Failed to delete bundle")}},className:"text-gray-400 hover:text-red-600 p-1",title:"Delete bundle",children:(0,Qe.jsx)(Kr,{className:"h-4 w-4"})})]}),t.description&&(0,Qe.jsx)("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:t.description}),(0,Qe.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-4",children:[(0,Qe.jsxs)("span",{children:[t.content_count," content"]}),(0,Qe.jsxs)("span",{children:[t.text_count," texts"]})]}),t.categories.length>0&&(0,Qe.jsxs)("div",{className:"flex flex-wrap gap-1 mb-4",children:[t.categories.slice(0,3).map(((e,t)=>(0,Qe.jsx)("span",{className:"bg-purple-100 text-purple-800 px-2 py-1 rounded-full text-xs",children:e},t))),t.categories.length>3&&(0,Qe.jsxs)("span",{className:"text-xs text-gray-500",children:["+",t.categories.length-3]})]}),!i&&(0,Qe.jsxs)("div",{className:"flex gap-2",children:[(0,Qe.jsx)("button",{onClick:()=>d(!0),className:"btn-secondary text-sm flex-1",children:"View Contents"}),(0,Qe.jsx)("button",{onClick:()=>o(!0),className:"btn-secondary text-sm",children:(0,Qe.jsx)($r,{className:"h-4 w-4"})})]}),c&&(0,Qe.jsx)(So,{isOpen:c,onClose:()=>d(!1),bundle:t,onUpdate:n})]})},Jh=e=>{let{text:t,onUpdate:n,isSelected:a=!1,onToggleSelect:r,selectionMode:s=!1}=e;return(0,Qe.jsxs)("div",{className:"bg-white border rounded-lg p-4 hover:shadow-md transition-shadow relative ".concat(a?"ring-2 ring-blue-500 bg-blue-50":""),children:[s&&(0,Qe.jsx)("div",{className:"absolute top-2 left-2 z-10",children:(0,Qe.jsx)("button",{onClick:r,className:"w-6 h-6 rounded border-2 flex items-center justify-center ".concat(a?"bg-blue-600 border-blue-600 text-white":"bg-white border-gray-300 hover:border-blue-400"),children:a&&(0,Qe.jsx)(Gr,{className:"w-4 h-4"})})}),(0,Qe.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,Qe.jsx)(jo,{className:"h-5 w-5 text-green-600 mt-1"}),!s&&(0,Qe.jsx)("button",{onClick:async()=>{if(window.confirm("Are you sure you want to delete this text content? This action cannot be undone."))try{(await fetch("/api/central/text-content/".concat(t.id),{method:"DELETE"})).ok?(qt.success("Text content deleted successfully"),n()):qt.error("Failed to delete text content")}catch(e){console.error("Error deleting text content:",e),qt.error("Failed to delete text content")}},className:"text-gray-400 hover:text-red-600 p-1",title:"Delete text",children:(0,Qe.jsx)(Kr,{className:"h-4 w-4"})})]}),(0,Qe.jsx)("div",{className:"mb-3",children:(0,Qe.jsx)("p",{className:"text-sm text-gray-900 line-clamp-3",children:t.text_content})}),t.template_name&&(0,Qe.jsx)("div",{className:"mb-3",children:(0,Qe.jsx)("span",{className:"bg-gray-100 text-gray-800 px-2 py-1 rounded text-xs",children:t.template_name})}),t.categories.length>0&&(0,Qe.jsxs)("div",{className:"flex flex-wrap gap-1 mb-3",children:[t.categories.slice(0,2).map(((e,t)=>(0,Qe.jsx)("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs",children:e},t))),t.categories.length>2&&(0,Qe.jsxs)("span",{className:"text-xs text-gray-500",children:["+",t.categories.length-2]})]}),(0,Qe.jsxs)("div",{className:"text-xs text-gray-500",children:[t.language.toUpperCase()," \u2022 ",new Date(t.created_at).toLocaleDateString()]})]})},Qh=()=>{const[e,t]=(0,a.useState)("content"),[n,r]=(0,a.useState)([]),[s,i]=(0,a.useState)([]),[l,o]=(0,a.useState)([]),[c,d]=(0,a.useState)(!0),[u,m]=(0,a.useState)(!1),[p,x]=(0,a.useState)(""),[h,f]=(0,a.useState)(""),[g,b]=(0,a.useState)(""),[v,y]=(0,a.useState)(new Set),[j,w]=(0,a.useState)(!1),[N,k]=(0,a.useState)(!1),[S,C]=(0,a.useState)(!1),[_,E]=(0,a.useState)(!1),[I,P]=(0,a.useState)(!1),[D,A]=(0,a.useState)(!1),[O,T]=(0,a.useState)(!1);(0,a.useEffect)((()=>{R(),F(),L()}),[]);const R=async()=>{try{d(!0);const e=await fetch("/api/central/content");if(e.ok){const t=await e.json();r(t)}}catch(e){console.error("Failed to load content:",e),qt.error("Failed to load content")}finally{d(!1)}},F=async()=>{try{const e=await fetch("/api/central/bundles");if(e.ok){const t=await e.json();i(t)}}catch(e){console.error("Failed to load bundles:",e)}},L=async()=>{try{const e=await fetch("/api/central/text-content");if(e.ok){const t=await e.json();o(t)}}catch(e){console.error("Failed to load texts:",e)}},M=R,z=F,B=L,U=e=>{const t=new Set(v);t.has(e)?t.delete(e):t.add(e),y(t)},H=()=>{y(new Set),w(!1)},q=n.filter((e=>{const t=!p||e.original_name.toLowerCase().includes(p.toLowerCase())||e.categories.some((e=>e.toLowerCase().includes(p.toLowerCase())))||e.tags.some((e=>e.toLowerCase().includes(p.toLowerCase()))),n=!h||e.categories.includes(h),a=!g||e.content_type===g;return t&&n&&a})),W=s.filter((e=>{const t=!p||e.name.toLowerCase().includes(p.toLowerCase())||e.description&&e.description.toLowerCase().includes(p.toLowerCase()),n=!g||e.bundle_type===g;return t&&n})),G=l.filter((e=>{const t=!p||e.text_content.toLowerCase().includes(p.toLowerCase())||e.template_name&&e.template_name.toLowerCase().includes(p.toLowerCase()),n=!h||e.categories.includes(h);return t&&n}));return(0,Qe.jsx)("div",{className:"min-h-screen bg-gray-50 p-6",children:(0,Qe.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,Qe.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Central Content Registry"}),(0,Qe.jsx)("p",{className:"text-gray-600 mt-2",children:"Manage your content library, bundles, and text templates"})]}),(0,Qe.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Qe.jsxs)("button",{onClick:async()=>{try{m(!0);(await fetch("/api/central/sync",{method:"POST"})).ok?(qt.success("Content synced with models successfully"),R(),F(),L()):qt.error("Failed to sync content")}catch(e){console.error("Sync error:",e),qt.error("Failed to sync content")}finally{m(!1)}},disabled:u,className:"btn-secondary flex items-center gap-2",children:[(0,Qe.jsx)(zs,{className:"w-4 h-4 ".concat(u?"animate-spin":"")}),u?"Syncing...":"Sync with Models"]}),(0,Qe.jsxs)("button",{onClick:()=>window.location.reload(),className:"btn-secondary flex items-center gap-2",children:[(0,Qe.jsx)(Xl,{className:"w-4 h-4"}),"Refresh"]})]})]}),(0,Qe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-6 mb-8",children:[(0,Qe.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,Qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Content"}),(0,Qe.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:n.length})]}),(0,Qe.jsx)(Xr,{className:"h-8 w-8 text-blue-600"})]})}),(0,Qe.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,Qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Content Bundles"}),(0,Qe.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:s.length})]}),(0,Qe.jsx)(Ve,{className:"h-8 w-8 text-purple-600"})]})}),(0,Qe.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,Qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Text Content"}),(0,Qe.jsx)("p",{className:"text-2xl font-bold text-green-600",children:l.length})]}),(0,Qe.jsx)(jo,{className:"h-8 w-8 text-green-600"})]})}),(0,Qe.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,Qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Campaign Pools"}),(0,Qe.jsx)("p",{className:"text-2xl font-bold text-orange-600",children:"0"})]}),(0,Qe.jsx)(Ge,{className:"h-8 w-8 text-orange-600"})]})}),(0,Qe.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,Qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Highlight Groups"}),(0,Qe.jsx)("p",{className:"text-2xl font-bold text-pink-600",children:"0"})]}),(0,Qe.jsx)(wo,{className:"h-8 w-8 text-pink-600"})]})}),(0,Qe.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,Qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Active Sprints"}),(0,Qe.jsx)("p",{className:"text-2xl font-bold text-indigo-600",children:"0"})]}),(0,Qe.jsx)(Yr,{className:"h-8 w-8 text-indigo-600"})]})})]}),(0,Qe.jsxs)("div",{className:"bg-white rounded-lg shadow mb-6",children:[(0,Qe.jsxs)("div",{className:"flex border-b overflow-x-auto",children:[(0,Qe.jsxs)("button",{onClick:()=>t("content"),className:"px-4 py-2 rounded-md text-sm font-medium transition-colors whitespace-nowrap ".concat("content"===e?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:[(0,Qe.jsx)(Xr,{className:"w-4 h-4 inline mr-2"}),"Content Library"]}),(0,Qe.jsxs)("button",{onClick:()=>t("bundles"),className:"px-4 py-2 rounded-md text-sm font-medium transition-colors whitespace-nowrap ".concat("bundles"===e?"bg-white text-purple-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:[(0,Qe.jsx)(Ve,{className:"w-4 h-4 inline mr-2"}),"Content Bundles"]}),(0,Qe.jsxs)("button",{onClick:()=>t("texts"),className:"px-4 py-2 rounded-md text-sm font-medium transition-colors whitespace-nowrap ".concat("texts"===e?"bg-white text-green-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:[(0,Qe.jsx)(jo,{className:"w-4 h-4 inline mr-2"}),"Text Library"]}),(0,Qe.jsxs)("button",{onClick:()=>t("campaignPools"),className:"px-4 py-2 rounded-md text-sm font-medium transition-colors whitespace-nowrap ".concat("campaignPools"===e?"bg-white text-orange-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:[(0,Qe.jsx)(Ge,{className:"w-4 h-4 inline mr-2"}),"Campaign Pools"]}),(0,Qe.jsxs)("button",{onClick:()=>t("highlightGroups"),className:"px-4 py-2 rounded-md text-sm font-medium transition-colors whitespace-nowrap ".concat("highlightGroups"===e?"bg-white text-pink-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:[(0,Qe.jsx)(wo,{className:"w-4 h-4 inline mr-2"}),"Highlight Groups"]}),(0,Qe.jsxs)("button",{onClick:()=>t("timeline"),className:"px-4 py-2 rounded-md text-sm font-medium transition-colors whitespace-nowrap ".concat("timeline"===e?"bg-white text-indigo-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:[(0,Qe.jsx)($e,{className:"w-4 h-4 inline mr-2"}),"Timeline"]})]}),("content"===e||"bundles"===e||"texts"===e)&&(0,Qe.jsx)("div",{className:"p-4 border-b bg-gray-50",children:(0,Qe.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,Qe.jsxs)("div",{className:"flex-1 relative",children:[(0,Qe.jsx)(Ze,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,Qe.jsx)("input",{type:"text",placeholder:"Search content...",value:p,onChange:e=>x(e.target.value),className:"form-input pl-10"})]}),(0,Qe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Qe.jsx)(et,{className:"h-4 w-4 text-gray-400"}),(0,Qe.jsxs)("select",{value:h,onChange:e=>f(e.target.value),className:"form-select",children:[(0,Qe.jsx)("option",{value:"",children:"All Categories"}),(0,Qe.jsx)("option",{value:"bio",children:"Bio"}),(0,Qe.jsx)("option",{value:"post",children:"Post"}),(0,Qe.jsx)("option",{value:"story",children:"Story"}),(0,Qe.jsx)("option",{value:"highlight",children:"Highlight"}),(0,Qe.jsx)("option",{value:"name",children:"Name"}),(0,Qe.jsx)("option",{value:"username",children:"Username"})]}),(0,Qe.jsxs)("select",{value:g,onChange:e=>b(e.target.value),className:"form-select",children:[(0,Qe.jsx)("option",{value:"",children:"All Types"}),"content"===e&&(0,Qe.jsxs)(Qe.Fragment,{children:[(0,Qe.jsx)("option",{value:"image",children:"Images"}),(0,Qe.jsx)("option",{value:"video",children:"Videos"})]}),"bundles"===e&&(0,Qe.jsxs)(Qe.Fragment,{children:[(0,Qe.jsx)("option",{value:"mixed",children:"Mixed"}),(0,Qe.jsx)("option",{value:"image",children:"Image Bundles"}),(0,Qe.jsx)("option",{value:"video",children:"Video Bundles"}),(0,Qe.jsx)("option",{value:"text",children:"Text Bundles"})]})]})]})]})}),(0,Qe.jsx)("div",{className:"p-4 border-b bg-gray-50",children:(0,Qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qe.jsx)("div",{className:"flex items-center gap-3",children:("content"===e||"texts"===e||"bundles"===e)&&(0,Qe.jsxs)(Qe.Fragment,{children:[(0,Qe.jsxs)("button",{onClick:()=>{w(!j),j&&H()},className:"btn-secondary flex items-center gap-2 ".concat(j?"bg-blue-100 text-blue-800":""),children:[j?(0,Qe.jsx)(Gr,{className:"w-4 h-4"}):(0,Qe.jsx)(Vr,{className:"w-4 h-4"}),j?"Exit Selection":"Select Items"]}),j&&(0,Qe.jsxs)(Qe.Fragment,{children:[(0,Qe.jsx)("button",{onClick:()=>{"content"===e?y(new Set(q.map((e=>e.content_id)))):"texts"===e?y(new Set(G.map((e=>e.id)))):"bundles"===e&&y(new Set(W.map((e=>e.id))))},className:"btn-secondary text-sm",children:"Select All"}),(0,Qe.jsx)("button",{onClick:H,className:"btn-secondary text-sm",children:"Clear Selection"}),v.size>0&&(0,Qe.jsxs)(Qe.Fragment,{children:[("content"===e||"texts"===e)&&(0,Qe.jsxs)("button",{onClick:()=>P(!0),className:"btn-primary flex items-center gap-2",children:[(0,Qe.jsx)(Ve,{className:"w-4 h-4"}),"Assign to Bundle (",v.size,")"]}),(0,Qe.jsxs)("button",{onClick:()=>A(!0),disabled:O,className:"btn-danger flex items-center gap-2",children:[(0,Qe.jsx)(Kr,{className:"w-4 h-4"}),O?"Deleting...":"Delete ".concat(v.size," Item(s)")]})]})]})]})}),(0,Qe.jsxs)("div",{className:"flex items-center gap-3",children:["content"===e&&(0,Qe.jsxs)("button",{onClick:()=>k(!0),className:"btn-primary flex items-center gap-2",children:[(0,Qe.jsx)(Jr,{className:"w-4 h-4"}),"Upload Content"]}),"bundles"===e&&(0,Qe.jsxs)("button",{onClick:()=>C(!0),className:"btn-primary flex items-center gap-2",children:[(0,Qe.jsx)(Xe,{className:"w-4 h-4"}),"Create Bundle"]}),"texts"===e&&(0,Qe.jsxs)("button",{onClick:()=>E(!0),className:"btn-primary flex items-center gap-2",children:[(0,Qe.jsx)(Xe,{className:"w-4 h-4"}),"Add Text"]}),("campaignPools"===e||"highlightGroups"===e)&&(0,Qe.jsxs)("button",{onClick:()=>k(!0),className:"btn-secondary flex items-center gap-2",children:[(0,Qe.jsx)(Jr,{className:"w-4 h-4"}),"Upload Content"]})]})]})})]}),(0,Qe.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:c?(0,Qe.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,Qe.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):(0,Qe.jsx)(Qe.Fragment,{children:(()=>{switch(e){case"content":return(0,Qe.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:q.map((e=>(0,Qe.jsx)($h,{content:e,onUpdate:M,isSelected:v.has(e.content_id),onToggleSelect:()=>U(e.content_id),selectionMode:j},e.content_id)))});case"bundles":return(0,Qe.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:W.map((e=>(0,Qe.jsx)(Kh,{bundle:e,onUpdate:z,isSelected:v.has(e.id),onToggleSelect:()=>U(e.id),selectionMode:j},e.id)))});case"texts":return(0,Qe.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:G.map((e=>(0,Qe.jsx)(Jh,{text:e,onUpdate:B,isSelected:v.has(e.id),onToggleSelect:()=>U(e.id),selectionMode:j},e.id)))});case"campaignPools":return(0,Qe.jsx)(Rh,{});case"highlightGroups":return(0,Qe.jsx)(zh,{});case"timeline":return(0,Qe.jsx)(Vh,{});default:return null}})()})}),N&&(0,Qe.jsx)(No,{isOpen:N,onClose:()=>k(!1),onSuccess:M}),S&&(0,Qe.jsx)(ko,{isOpen:S,onClose:()=>C(!1),onSuccess:z}),_&&(0,Qe.jsx)(Ko,{isOpen:_,onClose:()=>E(!1),onSuccess:B}),I&&(0,Qe.jsx)(Jo,{isOpen:I,onClose:()=>{P(!1),H()},selectedContentIds:"content"===e?Array.from(v):[],selectedTextIds:"texts"===e?Array.from(v):[],onSuccess:()=>{z(),H()}}),(0,Qe.jsx)(us,{isOpen:D,onClose:()=>A(!1),title:"Delete Items",size:"md",children:(0,Qe.jsxs)("div",{className:"p-6",children:[(0,Qe.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,Qe.jsx)("div",{className:"p-3 rounded-lg bg-red-100 text-red-600",children:(0,Qe.jsx)(ks,{className:"h-6 w-6"})}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Delete ","content"===e?"Content":"texts"===e?"Text Content":"Bundles"]}),(0,Qe.jsxs)("p",{className:"text-sm text-gray-600",children:["Are you sure you want to permanently delete ",v.size," ","content"===e?"content item(s)":"texts"===e?"text item(s)":"bundle(s)","? This action cannot be undone."]})]})]}),(0,Qe.jsxs)("div",{className:"flex items-center justify-end gap-3",children:[(0,Qe.jsx)("button",{onClick:()=>A(!1),disabled:O,className:"btn-ghost",children:"Cancel"}),(0,Qe.jsx)("button",{onClick:async()=>{if(0!==v.size){T(!0);try{const t=Array.from(v),n=await Promise.allSettled(t.map((async t=>{if("content"===e){if(!(await fetch("/api/central/content/".concat(t),{method:"DELETE"})).ok)throw new Error("Failed to delete content ".concat(t))}else if("texts"===e){if(!(await fetch("/api/central/text-content/".concat(t),{method:"DELETE"})).ok)throw new Error("Failed to delete text ".concat(t))}else if("bundles"===e){if(!(await fetch("/api/central/bundles/".concat(t),{method:"DELETE"})).ok)throw new Error("Failed to delete bundle ".concat(t))}return t}))),a=n.filter((e=>"fulfilled"===e.status)).length,r=n.filter((e=>"rejected"===e.status)).length;a>0&&qt.success("Successfully deleted ".concat(a," item(s)")),r>0&&qt.error("Failed to delete ".concat(r," item(s)")),"content"===e?await R():"texts"===e?await L():"bundles"===e&&await F(),H()}catch(t){console.error("Batch delete failed:",t),qt.error("Failed to delete items")}finally{T(!1),A(!1)}}},disabled:O,className:"btn-danger disabled:opacity-50 disabled:cursor-not-allowed",children:O?"Deleting...":"Delete"})]})]})})]})})},Yh=He("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]),Xh=He("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]),Zh=()=>{const[e,t]=(0,a.useState)([]),[n,r]=(0,a.useState)(!0),[s,i]=(0,a.useState)(!1),[l,o]=(0,a.useState)(!1),[c,d]=(0,a.useState)(!1),[u,m]=(0,a.useState)(!1),[p,x]=(0,a.useState)(null),[h,f]=(0,a.useState)(null),[g,b]=(0,a.useState)({name:"",model:"iphone_8",ip_address:"",port:46952,ssh_user:"mobile",ssh_password:"",xxtouch_port:46952,notes:""});(0,a.useEffect)((()=>{v()}),[]);const v=async()=>{try{const e=await fetch("/api/iphones"),n=await e.json();n.success?t(n.iphones):gn.error("Failed to fetch iPhones")}catch(e){gn.error("Failed to fetch iPhones"),console.error("Error fetching iPhones:",e)}finally{r(!1)}},y=(e,t)=>t.charAt(0).toUpperCase()+t.slice(1);return n?(0,Qe.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,Qe.jsxs)("div",{className:"text-center",children:[(0,Qe.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,Qe.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading iPhone settings..."})]})}):(0,Qe.jsx)("div",{className:"min-h-screen bg-gray-50 p-6",children:(0,Qe.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,Qe.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:(0,Qe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qe.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Qe.jsx)(Ke,{className:"w-8 h-8 text-blue-600"}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"iPhone Management"}),(0,Qe.jsx)("p",{className:"text-gray-600",children:"Register and manage iPhone devices for automation"})]})]}),(0,Qe.jsxs)("button",{onClick:()=>i(!0),className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[(0,Qe.jsx)(Xe,{className:"w-5 h-5"}),"Add iPhone"]})]})}),0===e.length?(0,Qe.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center",children:[(0,Qe.jsx)(Ke,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,Qe.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No iPhones registered"}),(0,Qe.jsx)("p",{className:"text-gray-600 mb-6",children:"Get started by registering your first iPhone device"}),(0,Qe.jsx)("button",{onClick:()=>i(!0),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Register iPhone"})]}):(0,Qe.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((e=>{return(0,Qe.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Qe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Qe.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Qe.jsx)(Ke,{className:"w-6 h-6 text-blue-600"}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("h3",{className:"font-semibold text-gray-900",children:e.name}),(0,Qe.jsx)("p",{className:"text-sm text-gray-500 capitalize",children:e.model.replace("_"," ")})]})]}),(0,Qe.jsxs)("div",{className:"flex items-center gap-2",children:[(e.status,t=e.connection_status,"online"===t?(0,Qe.jsx)(Ol,{className:"w-5 h-5 text-green-500"}):"idle"===t?(0,Qe.jsx)(ks,{className:"w-5 h-5 text-yellow-500"}):(0,Qe.jsx)(Rl,{className:"w-5 h-5 text-red-500"})),(0,Qe.jsx)("span",{className:"text-sm font-medium",children:y(e.status,e.connection_status)})]})]}),(0,Qe.jsxs)("div",{className:"space-y-3 mb-4",children:[(0,Qe.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,Qe.jsx)(Fs,{className:"w-4 h-4"}),(0,Qe.jsxs)("span",{children:[e.ip_address,":",e.port]})]}),(0,Qe.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,Qe.jsx)(Ao,{className:"w-4 h-4"}),(0,Qe.jsxs)("span",{children:[e.available_containers||0,"/",e.total_containers||0," containers available"]})]}),e.assigned_bot_id&&(0,Qe.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,Qe.jsx)(Yh,{className:"w-4 h-4"}),(0,Qe.jsxs)("span",{children:["Bot: ",e.assigned_bot_id]})]}),(0,Qe.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,Qe.jsx)(Qr,{className:"w-4 h-4"}),(0,Qe.jsxs)("span",{children:[e.total_actions_performed||0," actions \u2022 ",Number(e.avg_success_rate||0).toFixed(1),"% success"]})]})]}),(0,Qe.jsxs)("div",{className:"space-y-2",children:[(0,Qe.jsxs)("div",{className:"flex gap-2",children:[(0,Qe.jsxs)("button",{onClick:()=>(async e=>{f(e);try{const t=await fetch("/api/iphones/".concat(e,"/test-connection"),{method:"POST"}),n=await t.json();n.success?gn.success("Connection test successful!"):gn.error("Connection test failed: ".concat(n.message)),v()}catch(t){gn.error("Connection test failed"),console.error("Error testing connection:",t)}finally{f(null)}})(e.id),disabled:h===e.id,className:"flex-1 flex items-center justify-center gap-2 bg-gray-100 text-gray-700 px-3 py-2 rounded-md hover:bg-gray-200 transition-colors disabled:opacity-50",children:[(0,Qe.jsx)(Xh,{className:"w-4 h-4"}),h===e.id?"Testing...":"Test"]}),(0,Qe.jsxs)("button",{onClick:()=>(e=>{x(e),o(!0)})(e),className:"flex-1 flex items-center justify-center gap-2 bg-blue-100 text-blue-700 px-3 py-2 rounded-md hover:bg-blue-200 transition-colors",children:[(0,Qe.jsx)(Zl,{className:"w-4 h-4"}),"Details"]}),(0,Qe.jsx)("button",{onClick:()=>(e=>{x(e),d(!0)})(e),className:"flex items-center justify-center p-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 transition-colors",children:(0,Qe.jsx)(We,{className:"w-4 h-4"})})]}),(0,Qe.jsxs)("button",{onClick:()=>(e=>{x(e),m(!0)})(e),className:"w-full flex items-center justify-center gap-2 bg-purple-600 text-white px-3 py-2 rounded-md hover:bg-purple-700 transition-colors",children:[(0,Qe.jsx)(Ao,{className:"w-4 h-4"}),"Create Containers"]})]})]},e.id);var t}))}),(0,Qe.jsx)(us,{isOpen:s,onClose:()=>i(!1),title:"Register New iPhone",children:(0,Qe.jsxs)("div",{className:"space-y-6",children:[(0,Qe.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"iPhone Name *"}),(0,Qe.jsx)("input",{type:"text",value:g.name,onChange:e=>b(Le(Le({},g),{},{name:e.target.value})),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"My iPhone 8"})]}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Model *"}),(0,Qe.jsxs)("select",{value:g.model,onChange:e=>b(Le(Le({},g),{},{model:e.target.value})),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[(0,Qe.jsx)("option",{value:"iphone_8",children:"iPhone 8"}),(0,Qe.jsx)("option",{value:"iphone_x",children:"iPhone X"})]})]})]}),(0,Qe.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,Qe.jsxs)("div",{className:"col-span-2",children:[(0,Qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"IP Address *"}),(0,Qe.jsx)("input",{type:"text",value:g.ip_address,onChange:e=>b(Le(Le({},g),{},{ip_address:e.target.value})),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"192.168.178.65"})]}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Port"}),(0,Qe.jsx)("input",{type:"number",value:g.port,onChange:e=>b(Le(Le({},g),{},{port:parseInt(e.target.value)||46952})),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,Qe.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SSH User"}),(0,Qe.jsx)("input",{type:"text",value:g.ssh_user,onChange:e=>b(Le(Le({},g),{},{ssh_user:e.target.value})),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SSH Password"}),(0,Qe.jsx)("input",{type:"password",value:g.ssh_password,onChange:e=>b(Le(Le({},g),{},{ssh_password:e.target.value})),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),(0,Qe.jsx)("textarea",{value:g.notes,onChange:e=>b(Le(Le({},g),{},{notes:e.target.value})),rows:3,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Optional notes about this iPhone..."})]}),(0,Qe.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,Qe.jsx)("button",{onClick:()=>i(!1),className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,Qe.jsx)("button",{onClick:async()=>{try{const e=await fetch("/api/iphones",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)}),t=await e.json();t.success?(gn.success('iPhone "'.concat(t.iphone.name,'" registered successfully!')),i(!1),b({name:"",model:"iphone_8",ip_address:"",port:46952,ssh_user:"mobile",ssh_password:"",xxtouch_port:46952,notes:""}),v()):gn.error(t.message||"Failed to register iPhone")}catch(e){gn.error("Failed to register iPhone"),console.error("Error registering iPhone:",e)}},disabled:!g.name||!g.ip_address,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Register iPhone"})]})]})}),p&&(0,Qe.jsx)(us,{isOpen:l,onClose:()=>{o(!1),x(null)},title:"iPhone Details - ".concat(p.name),size:"lg",children:(0,Qe.jsxs)("div",{className:"space-y-6",children:[(0,Qe.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Device Information"}),(0,Qe.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("span",{className:"font-medium",children:"Model:"})," ",p.model.replace("_"," ")]}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("span",{className:"font-medium",children:"IP Address:"})," ",p.ip_address,":",p.port]}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("span",{className:"font-medium",children:"Status:"}),(0,Qe.jsx)("span",{className:"ml-2 px-2 py-1 rounded-full text-xs ".concat("active"===p.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:p.status})]}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("span",{className:"font-medium",children:"Connection:"})," ",p.connection_status]})]})]}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Performance Stats"}),(0,Qe.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("span",{className:"font-medium",children:"Containers:"})," ",p.assigned_containers||0,"/",p.total_containers||0," in use"]}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("span",{className:"font-medium",children:"Actions:"})," ",p.total_actions_performed||0]}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("span",{className:"font-medium",children:"Success Rate:"})," ",Number(p.avg_success_rate||0).toFixed(1),"%"]}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("span",{className:"font-medium",children:"Errors:"})," ",p.total_error_count||0]})]})]})]}),p.assigned_bot_id&&(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Bot Assignment"}),(0,Qe.jsxs)("div",{className:"text-sm",children:[(0,Qe.jsx)("span",{className:"font-medium",children:"Bot ID:"})," ",p.assigned_bot_id]})]}),(0,Qe.jsx)("div",{className:"flex justify-end",children:(0,Qe.jsx)("button",{onClick:()=>{o(!1),x(null)},className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors",children:"Close"})})]})}),p&&(0,Qe.jsx)(us,{isOpen:c,onClose:()=>{d(!1),x(null)},title:"Edit iPhone - ".concat(p.name),children:(0,Qe.jsxs)("div",{className:"space-y-4",children:[(0,Qe.jsxs)("div",{className:"text-center py-8",children:[(0,Qe.jsx)(We,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,Qe.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Settings Coming Soon"}),(0,Qe.jsx)("p",{className:"text-gray-600",children:"iPhone editing functionality will be available in a future update."})]}),(0,Qe.jsx)("div",{className:"flex justify-end",children:(0,Qe.jsx)("button",{onClick:()=>{d(!1),x(null)},className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors",children:"Close"})})]})}),(0,Qe.jsx)(Do,{isOpen:u,onClose:()=>m(!1),initialIphoneUrl:p?"http://".concat(p.ip_address,":").concat(p.xxtouch_port):"",iphoneId:p?String(p.id):void 0,onComplete:()=>{m(!1),v()}})]})})},ef=()=>{const[e,t]=(0,a.useState)({gemini_api_key:"",gemini_model_name:"gemini-1.5-flash"}),[n,r]=(0,a.useState)(!0),[s,i]=(0,a.useState)(!1);(0,a.useEffect)((()=>{l()}),[]);const l=async()=>{r(!0);try{const e=await fetch("/api/settings");if(e.ok){const n=await e.json();t((e=>Le(Le({},e),n)))}else qt.error("Failed to load settings")}catch(e){qt.error("An error occurred while fetching settings"),console.error(e)}finally{r(!1)}},o=e=>{const{name:n,value:a}=e.target;t((e=>Le(Le({},e),{},{[n]:a})))};return n?(0,Qe.jsx)("div",{children:"Loading settings..."}):(0,Qe.jsxs)("div",{className:"p-8",children:[(0,Qe.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 mb-6 flex items-center",children:[(0,Qe.jsx)(We,{className:"w-8 h-8 mr-3 text-gray-600"}),"AI Settings"]}),(0,Qe.jsx)("div",{className:"bg-white p-8 rounded-lg shadow-md max-w-2xl",children:(0,Qe.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),i(!0);try{const t=await fetch("/api/settings",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),n=await t.json();if(!t.ok||!n.success)throw new Error(n.details||"Failed to update settings");qt.success("Settings updated successfully!")}catch(n){qt.error("Error: ".concat(n instanceof Error?n.message:"An unknown error occurred")),console.error(n)}finally{i(!1)}},className:"space-y-6",children:[(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("label",{htmlFor:"gemini_api_key",className:"block text-sm font-medium text-gray-700 mb-1",children:"Gemini API Key"}),(0,Qe.jsx)("input",{type:"password",id:"gemini_api_key",name:"gemini_api_key",value:e.gemini_api_key,onChange:o,className:"form-input w-full",placeholder:"Enter your Gemini API Key"}),(0,Qe.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Your API key is stored securely and is not displayed publicly."})]}),(0,Qe.jsxs)("div",{children:[(0,Qe.jsx)("label",{htmlFor:"gemini_model_name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Gemini Model Name"}),(0,Qe.jsx)("input",{type:"text",id:"gemini_model_name",name:"gemini_model_name",value:e.gemini_model_name,onChange:o,className:"form-input w-full",placeholder:"e.g., gemini-1.5-flash"}),(0,Qe.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Default is 'gemini-1.5-flash'."})]}),(0,Qe.jsx)("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded-r-lg",children:(0,Qe.jsxs)("div",{className:"flex",children:[(0,Qe.jsx)("div",{className:"flex-shrink-0",children:(0,Qe.jsx)(ks,{className:"h-5 w-5 text-yellow-400","aria-hidden":"true"})}),(0,Qe.jsx)("div",{className:"ml-3",children:(0,Qe.jsx)("p",{className:"text-sm text-yellow-700",children:"Changing these settings will affect all AI-powered features, including username and bio generation."})})]})}),(0,Qe.jsx)("div",{className:"flex justify-end",children:(0,Qe.jsxs)("button",{type:"submit",disabled:s,className:"btn-primary flex items-center",children:[(0,Qe.jsx)(Ss,{className:"w-4 h-4 mr-2"}),s?"Saving...":"Save Settings"]})})]})})]})};const tf=function(){return(0,Qe.jsx)(Ce,{children:(0,Qe.jsxs)("div",{className:"App",children:[(0,Qe.jsx)(fn,{position:"top-center",reverseOrder:!1}),(0,Qe.jsx)(Ye,{children:(0,Qe.jsxs)(ve,{children:[(0,Qe.jsx)(ge,{path:"/",element:(0,Qe.jsx)(As,{})}),(0,Qe.jsx)(ge,{path:"/models",element:(0,Qe.jsx)(As,{})}),(0,Qe.jsx)(ge,{path:"/models/:modelId",element:(0,Qe.jsx)(Ts,{})}),(0,Qe.jsx)(ge,{path:"/models/:modelId/accounts",element:(0,Qe.jsx)(_o,{})}),(0,Qe.jsx)(ge,{path:"/accounts",element:(0,Qe.jsx)(Ro,{})}),(0,Qe.jsx)(ge,{path:"/analytics",element:(0,Qe.jsx)(Go,{})}),(0,Qe.jsx)(ge,{path:"/content",element:(0,Qe.jsx)(Qh,{})}),(0,Qe.jsx)(ge,{path:"/iphones",element:(0,Qe.jsx)(Zh,{})}),(0,Qe.jsx)(ge,{path:"/settings",element:(0,Qe.jsx)(ef,{})})]})})]})})};s.createRoot(document.getElementById("root")).render((0,Qe.jsx)(a.StrictMode,{children:(0,Qe.jsx)(tf,{})}))})()})();
//# sourceMappingURL=main.1e478520.js.map